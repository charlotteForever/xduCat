{"ast":null,"code":"import { inject, computed, defineComponent, getCurrentInstance, onMounted, onBeforeUnmount, resolveComponent, openBlock, createBlock, withCtx, renderSlot, createVNode, Fragment } from 'vue';\nimport ElTooltip from '../el-tooltip';\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex];\n\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n\n      parent = parent.parent;\n    }\n\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\") return {};\n    let padding = 20;\n\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n\n        parent = parent.parent;\n      }\n    }\n\n    return {\n      paddingLeft: padding + \"px\"\n    };\n  });\n  return {\n    parentMenu,\n    paddingStyle,\n    indexPath\n  };\n}\n\nvar script = defineComponent({\n  name: \"ElMenuItem\",\n  componentName: \"ElMenuItem\",\n  components: {\n    ElTooltip\n  },\n  props: {\n    index: {\n      default: null,\n      validator: val => typeof val === \"string\" || val === null\n    },\n    route: [String, Object],\n    disabled: Boolean\n  },\n  emits: [\"click\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const instance = getCurrentInstance();\n    const rootMenu = inject(\"rootMenu\");\n    const {\n      parentMenu,\n      paddingStyle,\n      indexPath\n    } = useMenu(instance, props.index);\n    const {\n      addSubMenu,\n      removeSubMenu\n    } = inject(`subMenu:${parentMenu.value.uid}`);\n    const active = computed(() => {\n      return props.index === rootMenu.activeIndex.value;\n    });\n    const hoverBackground = computed(() => {\n      return rootMenu.hoverBackground.value;\n    });\n    const backgroundColor = computed(() => {\n      return rootMenu.props.backgroundColor || \"\";\n    });\n    const activeTextColor = computed(() => {\n      return rootMenu.props.activeTextColor || \"\";\n    });\n    const textColor = computed(() => {\n      return rootMenu.props.textColor || \"\";\n    });\n    const mode = computed(() => {\n      return rootMenu.props.mode;\n    });\n    const isNested = computed(() => {\n      return parentMenu.value.type.name !== \"ElMenu\";\n    });\n    const itemStyle = computed(() => {\n      const style = {\n        color: active.value ? activeTextColor.value : textColor.value,\n        borderBottomColor: \"\"\n      };\n\n      if (mode.value === \"horizontal\" && !isNested.value) {\n        style.borderBottomColor = active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\";\n      }\n\n      return style;\n    });\n\n    const onMouseEnter = () => {\n      if (mode.value === \"horizontal\" && !rootMenu.props.backgroundColor) return;\n      instance.vnode.el.style.backgroundColor = hoverBackground.value;\n    };\n\n    const onMouseLeave = () => {\n      if (mode.value === \"horizontal\" && !rootMenu.props.backgroundColor) return;\n      instance.vnode.el.style.backgroundColor = backgroundColor.value;\n    };\n\n    const handleClick = () => {\n      if (!props.disabled) {\n        rootMenu.rootMenuEmit(\"menuItem:item-click\", {\n          index: props.index,\n          indexPath,\n          route: props.route\n        });\n        emit(\"click\", {\n          index: props.index,\n          indexPath: indexPath.value\n        });\n      }\n    };\n\n    onMounted(() => {\n      addSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      rootMenu.methods.addMenuItem({\n        index: props.index,\n        indexPath,\n        active\n      });\n    });\n    onBeforeUnmount(() => {\n      removeSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      rootMenu.methods.removeMenuItem({\n        index: props.index,\n        indexPath,\n        active\n      });\n    });\n    return {\n      parentMenu,\n      rootMenu,\n      slots,\n      paddingStyle,\n      itemStyle,\n      backgroundColor,\n      active,\n      handleClick,\n      onMouseEnter,\n      onMouseLeave\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  style: {\n    \"position\": \"absolute\",\n    \"left\": \"0\",\n    \"top\": \"0\",\n    \"height\": \"100%\",\n    \"width\": \"100%\",\n    \"display\": \"inline-block\",\n    \"box-sizing\": \"border-box\",\n    \"padding\": \"0 20px\"\n  }\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createBlock(\"li\", {\n    class: [\"el-menu-item\", {\n      \"is-active\": _ctx.active,\n      \"is-disabled\": _ctx.disabled\n    }],\n    role: \"menuitem\",\n    tabindex: \"-1\",\n    style: [_ctx.paddingStyle, _ctx.itemStyle, {\n      backgroundColor: _ctx.backgroundColor\n    }],\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleClick && _ctx.handleClick(...args)),\n    onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n    onFocus: _cache[3] || (_cache[3] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n    onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args)),\n    onMouseleave: _cache[5] || (_cache[5] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args))\n  }, [_ctx.parentMenu.type.name === \"ElMenu\" && _ctx.rootMenu.props.collapse && _ctx.slots.title ? (openBlock(), createBlock(_component_el_tooltip, {\n    key: 0,\n    effect: \"dark\",\n    placement: \"right\"\n  }, {\n    content: withCtx(() => [renderSlot(_ctx.$slots, \"title\")]),\n    default: withCtx(() => [createVNode(\"div\", _hoisted_1, [renderSlot(_ctx.$slots, \"default\")])]),\n    _: 3\n  })) : (openBlock(), createBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"title\")], 64))], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menuItem.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _MenuItem = script;\nexport default _MenuItem;","map":{"version":3,"sources":["D:/A-大三下/web开发/xducat/xducat-client/node_modules/element-plus/es/el-menu-item/index.js"],"names":["inject","computed","defineComponent","getCurrentInstance","onMounted","onBeforeUnmount","resolveComponent","openBlock","createBlock","withCtx","renderSlot","createVNode","Fragment","ElTooltip","useMenu","instance","currentIndex","rootMenu","indexPath","parent","path","type","name","props","index","unshift","parentMenu","indexOf","paddingStyle","mode","padding","collapse","paddingLeft","script","componentName","components","default","validator","val","route","String","Object","disabled","Boolean","emits","setup","emit","slots","addSubMenu","removeSubMenu","value","uid","active","activeIndex","hoverBackground","backgroundColor","activeTextColor","textColor","isNested","itemStyle","style","color","borderBottomColor","onMouseEnter","vnode","el","onMouseLeave","handleClick","rootMenuEmit","methods","addMenuItem","removeMenuItem","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_tooltip","class","role","tabindex","onClick","args","onMouseenter","onFocus","onBlur","onMouseleave","title","key","effect","placement","content","$slots","_","__file","install","app","component","_MenuItem"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,EAA2BC,eAA3B,EAA4CC,kBAA5C,EAAgEC,SAAhE,EAA2EC,eAA3E,EAA4FC,gBAA5F,EAA8GC,SAA9G,EAAyHC,WAAzH,EAAsIC,OAAtI,EAA+IC,UAA/I,EAA2JC,WAA3J,EAAwKC,QAAxK,QAAwL,KAAxL;AACA,OAAOC,SAAP,MAAsB,eAAtB;;AAEA,SAASC,OAAT,CAAiBC,QAAjB,EAA2BC,YAA3B,EAAyC;AACvC,QAAMC,QAAQ,GAAGjB,MAAM,CAAC,UAAD,CAAvB;AACA,QAAMkB,SAAS,GAAGjB,QAAQ,CAAC,MAAM;AAC/B,QAAIkB,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,UAAMC,IAAI,GAAG,CAACJ,YAAD,CAAb;;AACA,WAAOG,MAAM,CAACE,IAAP,CAAYC,IAAZ,KAAqB,QAA5B,EAAsC;AACpC,UAAIH,MAAM,CAACI,KAAP,CAAaC,KAAjB,EAAwB;AACtBJ,QAAAA,IAAI,CAACK,OAAL,CAAaN,MAAM,CAACI,KAAP,CAAaC,KAA1B;AACD;;AACDL,MAAAA,MAAM,GAAGA,MAAM,CAACA,MAAhB;AACD;;AACD,WAAOC,IAAP;AACD,GAVyB,CAA1B;AAWA,QAAMM,UAAU,GAAGzB,QAAQ,CAAC,MAAM;AAChC,QAAIkB,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;;AACA,WAAOA,MAAM,IAAI,CAAC,QAAD,EAAW,WAAX,EAAwBQ,OAAxB,CAAgCR,MAAM,CAACE,IAAP,CAAYC,IAA5C,MAAsD,CAAC,CAAxE,EAA2E;AACzEH,MAAAA,MAAM,GAAGA,MAAM,CAACA,MAAhB;AACD;;AACD,WAAOA,MAAP;AACD,GAN0B,CAA3B;AAOA,QAAMS,YAAY,GAAG3B,QAAQ,CAAC,MAAM;AAClC,QAAIkB,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,QAAIF,QAAQ,CAACM,KAAT,CAAeM,IAAf,KAAwB,UAA5B,EACE,OAAO,EAAP;AACF,QAAIC,OAAO,GAAG,EAAd;;AACA,QAAIb,QAAQ,CAACM,KAAT,CAAeQ,QAAnB,EAA6B;AAC3BD,MAAAA,OAAO,GAAG,EAAV;AACD,KAFD,MAEO;AACL,aAAOX,MAAM,IAAIA,MAAM,CAACE,IAAP,CAAYC,IAAZ,KAAqB,QAAtC,EAAgD;AAC9C,YAAIH,MAAM,CAACE,IAAP,CAAYC,IAAZ,KAAqB,WAAzB,EAAsC;AACpCQ,UAAAA,OAAO,IAAI,EAAX;AACD;;AACDX,QAAAA,MAAM,GAAGA,MAAM,CAACA,MAAhB;AACD;AACF;;AACD,WAAO;AAAEa,MAAAA,WAAW,EAAEF,OAAO,GAAG;AAAzB,KAAP;AACD,GAhB4B,CAA7B;AAiBA,SAAO;AAAEJ,IAAAA,UAAF;AAAcE,IAAAA,YAAd;AAA4BV,IAAAA;AAA5B,GAAP;AACD;;AAED,IAAIe,MAAM,GAAG/B,eAAe,CAAC;AAC3BoB,EAAAA,IAAI,EAAE,YADqB;AAE3BY,EAAAA,aAAa,EAAE,YAFY;AAG3BC,EAAAA,UAAU,EAAE;AAAEtB,IAAAA;AAAF,GAHe;AAI3BU,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AACLY,MAAAA,OAAO,EAAE,IADJ;AAELC,MAAAA,SAAS,EAAGC,GAAD,IAAS,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,KAAK;AAFlD,KADF;AAKLC,IAAAA,KAAK,EAAE,CAACC,MAAD,EAASC,MAAT,CALF;AAMLC,IAAAA,QAAQ,EAAEC;AANL,GAJoB;AAY3BC,EAAAA,KAAK,EAAE,CAAC,OAAD,CAZoB;;AAa3BC,EAAAA,KAAK,CAACtB,KAAD,EAAQ;AAAEuB,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAR,EAAyB;AAC5B,UAAMhC,QAAQ,GAAGZ,kBAAkB,EAAnC;AACA,UAAMc,QAAQ,GAAGjB,MAAM,CAAC,UAAD,CAAvB;AACA,UAAM;AAAE0B,MAAAA,UAAF;AAAcE,MAAAA,YAAd;AAA4BV,MAAAA;AAA5B,QAA0CJ,OAAO,CAACC,QAAD,EAAWQ,KAAK,CAACC,KAAjB,CAAvD;AACA,UAAM;AAAEwB,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAAgCjD,MAAM,CAAE,WAAU0B,UAAU,CAACwB,KAAX,CAAiBC,GAAI,EAAjC,CAA5C;AACA,UAAMC,MAAM,GAAGnD,QAAQ,CAAC,MAAM;AAC5B,aAAOsB,KAAK,CAACC,KAAN,KAAgBP,QAAQ,CAACoC,WAAT,CAAqBH,KAA5C;AACD,KAFsB,CAAvB;AAGA,UAAMI,eAAe,GAAGrD,QAAQ,CAAC,MAAM;AACrC,aAAOgB,QAAQ,CAACqC,eAAT,CAAyBJ,KAAhC;AACD,KAF+B,CAAhC;AAGA,UAAMK,eAAe,GAAGtD,QAAQ,CAAC,MAAM;AACrC,aAAOgB,QAAQ,CAACM,KAAT,CAAegC,eAAf,IAAkC,EAAzC;AACD,KAF+B,CAAhC;AAGA,UAAMC,eAAe,GAAGvD,QAAQ,CAAC,MAAM;AACrC,aAAOgB,QAAQ,CAACM,KAAT,CAAeiC,eAAf,IAAkC,EAAzC;AACD,KAF+B,CAAhC;AAGA,UAAMC,SAAS,GAAGxD,QAAQ,CAAC,MAAM;AAC/B,aAAOgB,QAAQ,CAACM,KAAT,CAAekC,SAAf,IAA4B,EAAnC;AACD,KAFyB,CAA1B;AAGA,UAAM5B,IAAI,GAAG5B,QAAQ,CAAC,MAAM;AAC1B,aAAOgB,QAAQ,CAACM,KAAT,CAAeM,IAAtB;AACD,KAFoB,CAArB;AAGA,UAAM6B,QAAQ,GAAGzD,QAAQ,CAAC,MAAM;AAC9B,aAAOyB,UAAU,CAACwB,KAAX,CAAiB7B,IAAjB,CAAsBC,IAAtB,KAA+B,QAAtC;AACD,KAFwB,CAAzB;AAGA,UAAMqC,SAAS,GAAG1D,QAAQ,CAAC,MAAM;AAC/B,YAAM2D,KAAK,GAAG;AACZC,QAAAA,KAAK,EAAET,MAAM,CAACF,KAAP,GAAeM,eAAe,CAACN,KAA/B,GAAuCO,SAAS,CAACP,KAD5C;AAEZY,QAAAA,iBAAiB,EAAE;AAFP,OAAd;;AAIA,UAAIjC,IAAI,CAACqB,KAAL,KAAe,YAAf,IAA+B,CAACQ,QAAQ,CAACR,KAA7C,EAAoD;AAClDU,QAAAA,KAAK,CAACE,iBAAN,GAA0BV,MAAM,CAACF,KAAP,GAAejC,QAAQ,CAACM,KAAT,CAAeiC,eAAf,GAAiCA,eAAe,CAACN,KAAjD,GAAyD,EAAxE,GAA6E,aAAvG;AACD;;AACD,aAAOU,KAAP;AACD,KATyB,CAA1B;;AAUA,UAAMG,YAAY,GAAG,MAAM;AACzB,UAAIlC,IAAI,CAACqB,KAAL,KAAe,YAAf,IAA+B,CAACjC,QAAQ,CAACM,KAAT,CAAegC,eAAnD,EACE;AACFxC,MAAAA,QAAQ,CAACiD,KAAT,CAAeC,EAAf,CAAkBL,KAAlB,CAAwBL,eAAxB,GAA0CD,eAAe,CAACJ,KAA1D;AACD,KAJD;;AAKA,UAAMgB,YAAY,GAAG,MAAM;AACzB,UAAIrC,IAAI,CAACqB,KAAL,KAAe,YAAf,IAA+B,CAACjC,QAAQ,CAACM,KAAT,CAAegC,eAAnD,EACE;AACFxC,MAAAA,QAAQ,CAACiD,KAAT,CAAeC,EAAf,CAAkBL,KAAlB,CAAwBL,eAAxB,GAA0CA,eAAe,CAACL,KAA1D;AACD,KAJD;;AAKA,UAAMiB,WAAW,GAAG,MAAM;AACxB,UAAI,CAAC5C,KAAK,CAACmB,QAAX,EAAqB;AACnBzB,QAAAA,QAAQ,CAACmD,YAAT,CAAsB,qBAAtB,EAA6C;AAC3C5C,UAAAA,KAAK,EAAED,KAAK,CAACC,KAD8B;AAE3CN,UAAAA,SAF2C;AAG3CqB,UAAAA,KAAK,EAAEhB,KAAK,CAACgB;AAH8B,SAA7C;AAKAO,QAAAA,IAAI,CAAC,OAAD,EAAU;AACZtB,UAAAA,KAAK,EAAED,KAAK,CAACC,KADD;AAEZN,UAAAA,SAAS,EAAEA,SAAS,CAACgC;AAFT,SAAV,CAAJ;AAID;AACF,KAZD;;AAaA9C,IAAAA,SAAS,CAAC,MAAM;AACd4C,MAAAA,UAAU,CAAC;AAAExB,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAf;AAAsBN,QAAAA,SAAtB;AAAiCkC,QAAAA;AAAjC,OAAD,CAAV;AACAnC,MAAAA,QAAQ,CAACoD,OAAT,CAAiBC,WAAjB,CAA6B;AAAE9C,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAf;AAAsBN,QAAAA,SAAtB;AAAiCkC,QAAAA;AAAjC,OAA7B;AACD,KAHQ,CAAT;AAIA/C,IAAAA,eAAe,CAAC,MAAM;AACpB4C,MAAAA,aAAa,CAAC;AAAEzB,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAf;AAAsBN,QAAAA,SAAtB;AAAiCkC,QAAAA;AAAjC,OAAD,CAAb;AACAnC,MAAAA,QAAQ,CAACoD,OAAT,CAAiBE,cAAjB,CAAgC;AAAE/C,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAf;AAAsBN,QAAAA,SAAtB;AAAiCkC,QAAAA;AAAjC,OAAhC;AACD,KAHc,CAAf;AAIA,WAAO;AACL1B,MAAAA,UADK;AAELT,MAAAA,QAFK;AAGL8B,MAAAA,KAHK;AAILnB,MAAAA,YAJK;AAKL+B,MAAAA,SALK;AAMLJ,MAAAA,eANK;AAOLH,MAAAA,MAPK;AAQLe,MAAAA,WARK;AASLJ,MAAAA,YATK;AAULG,MAAAA;AAVK,KAAP;AAYD;;AA5F0B,CAAD,CAA5B;AA+FA,MAAMM,UAAU,GAAG;AAAEZ,EAAAA,KAAK,EAAE;AAAE,gBAAY,UAAd;AAA0B,YAAQ,GAAlC;AAAuC,WAAO,GAA9C;AAAmD,cAAU,MAA7D;AAAqE,aAAS,MAA9E;AAAsF,eAAW,cAAjG;AAAiH,kBAAc,YAA/H;AAA6I,eAAW;AAAxJ;AAAT,CAAnB;;AACA,SAASa,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,MAAtC,EAA8CC,KAA9C,EAAqDC,QAArD,EAA+D;AAC7D,QAAMC,qBAAqB,GAAG1E,gBAAgB,CAAC,YAAD,CAA9C;;AACA,SAAOC,SAAS,IAAIC,WAAW,CAAC,IAAD,EAAO;AACpCyE,IAAAA,KAAK,EAAE,CAAC,cAAD,EAAiB;AACtB,mBAAaP,IAAI,CAACtB,MADI;AAEtB,qBAAesB,IAAI,CAAChC;AAFE,KAAjB,CAD6B;AAKpCwC,IAAAA,IAAI,EAAE,UAL8B;AAMpCC,IAAAA,QAAQ,EAAE,IAN0B;AAOpCvB,IAAAA,KAAK,EAAE,CAACc,IAAI,CAAC9C,YAAN,EAAoB8C,IAAI,CAACf,SAAzB,EAAoC;AAAEJ,MAAAA,eAAe,EAAEmB,IAAI,CAACnB;AAAxB,KAApC,CAP6B;AAQpC6B,IAAAA,OAAO,EAAET,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGU,IAAJ,KAAaX,IAAI,CAACP,WAAL,IAAoBO,IAAI,CAACP,WAAL,CAAiB,GAAGkB,IAApB,CAA3D,CAR2B;AASpCC,IAAAA,YAAY,EAAEX,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGU,IAAJ,KAAaX,IAAI,CAACX,YAAL,IAAqBW,IAAI,CAACX,YAAL,CAAkB,GAAGsB,IAArB,CAA5D,CATsB;AAUpCE,IAAAA,OAAO,EAAEZ,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGU,IAAJ,KAAaX,IAAI,CAACX,YAAL,IAAqBW,IAAI,CAACX,YAAL,CAAkB,GAAGsB,IAArB,CAA5D,CAV2B;AAWpCG,IAAAA,MAAM,EAAEb,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGU,IAAJ,KAAaX,IAAI,CAACR,YAAL,IAAqBQ,IAAI,CAACR,YAAL,CAAkB,GAAGmB,IAArB,CAA5D,CAX4B;AAYpCI,IAAAA,YAAY,EAAEd,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGU,IAAJ,KAAaX,IAAI,CAACR,YAAL,IAAqBQ,IAAI,CAACR,YAAL,CAAkB,GAAGmB,IAArB,CAA5D;AAZsB,GAAP,EAa5B,CACDX,IAAI,CAAChD,UAAL,CAAgBL,IAAhB,CAAqBC,IAArB,KAA8B,QAA9B,IAA0CoD,IAAI,CAACzD,QAAL,CAAcM,KAAd,CAAoBQ,QAA9D,IAA0E2C,IAAI,CAAC3B,KAAL,CAAW2C,KAArF,IAA8FnF,SAAS,IAAIC,WAAW,CAACwE,qBAAD,EAAwB;AAC5IW,IAAAA,GAAG,EAAE,CADuI;AAE5IC,IAAAA,MAAM,EAAE,MAFoI;AAG5IC,IAAAA,SAAS,EAAE;AAHiI,GAAxB,EAInH;AACDC,IAAAA,OAAO,EAAErF,OAAO,CAAC,MAAM,CACrBC,UAAU,CAACgE,IAAI,CAACqB,MAAN,EAAc,OAAd,CADW,CAAP,CADf;AAID3D,IAAAA,OAAO,EAAE3B,OAAO,CAAC,MAAM,CACrBE,WAAW,CAAC,KAAD,EAAQ6D,UAAR,EAAoB,CAC7B9D,UAAU,CAACgE,IAAI,CAACqB,MAAN,EAAc,SAAd,CADmB,CAApB,CADU,CAAP,CAJf;AASDC,IAAAA,CAAC,EAAE;AATF,GAJmH,CAAtH,KAcOzF,SAAS,IAAIC,WAAW,CAACI,QAAD,EAAW;AAAE+E,IAAAA,GAAG,EAAE;AAAP,GAAX,EAAuB,CACpDjF,UAAU,CAACgE,IAAI,CAACqB,MAAN,EAAc,SAAd,CAD0C,EAEpDrF,UAAU,CAACgE,IAAI,CAACqB,MAAN,EAAc,OAAd,CAF0C,CAAvB,EAG5B,EAH4B,CAd/B,CADC,CAb4B,EAgC5B,EAhC4B,CAA/B;AAiCD;;AAED9D,MAAM,CAACwC,MAAP,GAAgBA,MAAhB;AACAxC,MAAM,CAACgE,MAAP,GAAgB,gCAAhB;;AAEAhE,MAAM,CAACiE,OAAP,GAAkBC,GAAD,IAAS;AACxBA,EAAAA,GAAG,CAACC,SAAJ,CAAcnE,MAAM,CAACX,IAArB,EAA2BW,MAA3B;AACD,CAFD;;AAGA,MAAMoE,SAAS,GAAGpE,MAAlB;AAEA,eAAeoE,SAAf","sourcesContent":["import { inject, computed, defineComponent, getCurrentInstance, onMounted, onBeforeUnmount, resolveComponent, openBlock, createBlock, withCtx, renderSlot, createVNode, Fragment } from 'vue';\nimport ElTooltip from '../el-tooltip';\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\")\n      return {};\n    let padding = 20;\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n        parent = parent.parent;\n      }\n    }\n    return { paddingLeft: padding + \"px\" };\n  });\n  return { parentMenu, paddingStyle, indexPath };\n}\n\nvar script = defineComponent({\n  name: \"ElMenuItem\",\n  componentName: \"ElMenuItem\",\n  components: { ElTooltip },\n  props: {\n    index: {\n      default: null,\n      validator: (val) => typeof val === \"string\" || val === null\n    },\n    route: [String, Object],\n    disabled: Boolean\n  },\n  emits: [\"click\"],\n  setup(props, { emit, slots }) {\n    const instance = getCurrentInstance();\n    const rootMenu = inject(\"rootMenu\");\n    const { parentMenu, paddingStyle, indexPath } = useMenu(instance, props.index);\n    const { addSubMenu, removeSubMenu } = inject(`subMenu:${parentMenu.value.uid}`);\n    const active = computed(() => {\n      return props.index === rootMenu.activeIndex.value;\n    });\n    const hoverBackground = computed(() => {\n      return rootMenu.hoverBackground.value;\n    });\n    const backgroundColor = computed(() => {\n      return rootMenu.props.backgroundColor || \"\";\n    });\n    const activeTextColor = computed(() => {\n      return rootMenu.props.activeTextColor || \"\";\n    });\n    const textColor = computed(() => {\n      return rootMenu.props.textColor || \"\";\n    });\n    const mode = computed(() => {\n      return rootMenu.props.mode;\n    });\n    const isNested = computed(() => {\n      return parentMenu.value.type.name !== \"ElMenu\";\n    });\n    const itemStyle = computed(() => {\n      const style = {\n        color: active.value ? activeTextColor.value : textColor.value,\n        borderBottomColor: \"\"\n      };\n      if (mode.value === \"horizontal\" && !isNested.value) {\n        style.borderBottomColor = active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\";\n      }\n      return style;\n    });\n    const onMouseEnter = () => {\n      if (mode.value === \"horizontal\" && !rootMenu.props.backgroundColor)\n        return;\n      instance.vnode.el.style.backgroundColor = hoverBackground.value;\n    };\n    const onMouseLeave = () => {\n      if (mode.value === \"horizontal\" && !rootMenu.props.backgroundColor)\n        return;\n      instance.vnode.el.style.backgroundColor = backgroundColor.value;\n    };\n    const handleClick = () => {\n      if (!props.disabled) {\n        rootMenu.rootMenuEmit(\"menuItem:item-click\", {\n          index: props.index,\n          indexPath,\n          route: props.route\n        });\n        emit(\"click\", {\n          index: props.index,\n          indexPath: indexPath.value\n        });\n      }\n    };\n    onMounted(() => {\n      addSubMenu({ index: props.index, indexPath, active });\n      rootMenu.methods.addMenuItem({ index: props.index, indexPath, active });\n    });\n    onBeforeUnmount(() => {\n      removeSubMenu({ index: props.index, indexPath, active });\n      rootMenu.methods.removeMenuItem({ index: props.index, indexPath, active });\n    });\n    return {\n      parentMenu,\n      rootMenu,\n      slots,\n      paddingStyle,\n      itemStyle,\n      backgroundColor,\n      active,\n      handleClick,\n      onMouseEnter,\n      onMouseLeave\n    };\n  }\n});\n\nconst _hoisted_1 = { style: { \"position\": \"absolute\", \"left\": \"0\", \"top\": \"0\", \"height\": \"100%\", \"width\": \"100%\", \"display\": \"inline-block\", \"box-sizing\": \"border-box\", \"padding\": \"0 20px\" } };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createBlock(\"li\", {\n    class: [\"el-menu-item\", {\n      \"is-active\": _ctx.active,\n      \"is-disabled\": _ctx.disabled\n    }],\n    role: \"menuitem\",\n    tabindex: \"-1\",\n    style: [_ctx.paddingStyle, _ctx.itemStyle, { backgroundColor: _ctx.backgroundColor }],\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleClick && _ctx.handleClick(...args)),\n    onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n    onFocus: _cache[3] || (_cache[3] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n    onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args)),\n    onMouseleave: _cache[5] || (_cache[5] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args))\n  }, [\n    _ctx.parentMenu.type.name === \"ElMenu\" && _ctx.rootMenu.props.collapse && _ctx.slots.title ? (openBlock(), createBlock(_component_el_tooltip, {\n      key: 0,\n      effect: \"dark\",\n      placement: \"right\"\n    }, {\n      content: withCtx(() => [\n        renderSlot(_ctx.$slots, \"title\")\n      ]),\n      default: withCtx(() => [\n        createVNode(\"div\", _hoisted_1, [\n          renderSlot(_ctx.$slots, \"default\")\n        ])\n      ]),\n      _: 3\n    })) : (openBlock(), createBlock(Fragment, { key: 1 }, [\n      renderSlot(_ctx.$slots, \"default\"),\n      renderSlot(_ctx.$slots, \"title\")\n    ], 64))\n  ], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menuItem.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _MenuItem = script;\n\nexport default _MenuItem;\n"]},"metadata":{},"sourceType":"module"}