{"ast":null,"code":"import { defineComponent, computed, ref, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, createCommentVNode, renderSlot, toDisplayString, Fragment, withModifiers, vShow, render as render$1 } from 'vue';\nimport { isVNode } from '../utils/util';\nimport PopupManager from '../utils/popup-manager';\nimport isServer from '../utils/isServer';\nimport 'lodash/isEqualWith';\nconst EVENT_CODE = {\n  tab: \"Tab\",\n  enter: \"Enter\",\n  space: \"Space\",\n  left: \"ArrowLeft\",\n  up: \"ArrowUp\",\n  right: \"ArrowRight\",\n  down: \"ArrowDown\",\n  esc: \"Escape\",\n  delete: \"Delete\",\n  backspace: \"Backspace\"\n};\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nconst on = function (element, event, handler, useCapture = false) {\n  if (element && event && handler) {\n    element.addEventListener(event, handler, useCapture);\n  }\n};\n\nconst off = function (element, event, handler, useCapture = false) {\n  if (element && event && handler) {\n    element.removeEventListener(event, handler, useCapture);\n  }\n};\n\nconst TypeMap = {\n  success: \"success\",\n  info: \"info\",\n  warning: \"warning\",\n  error: \"error\"\n};\nvar script = defineComponent({\n  name: \"ElMessage\",\n  props: {\n    customClass: {\n      type: String,\n      default: \"\"\n    },\n    center: {\n      type: Boolean,\n      default: false\n    },\n    dangerouslyUseHTMLString: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 3e3\n    },\n    iconClass: {\n      type: String,\n      default: \"\"\n    },\n    id: {\n      type: String,\n      default: \"\"\n    },\n    message: {\n      type: [String, Object],\n      default: \"\"\n    },\n    onClose: {\n      type: Function,\n      required: true\n    },\n    showClose: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"info\"\n    },\n    offset: {\n      type: Number,\n      default: 20\n    },\n    zIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: [\"destroy\"],\n\n  setup(props) {\n    const typeClass = computed(() => {\n      const type = !props.iconClass && props.type;\n      return type && TypeMap[type] ? `el-icon-${TypeMap[type]}` : \"\";\n    });\n    const customStyle = computed(() => {\n      return {\n        top: `${props.offset}px`,\n        zIndex: props.zIndex\n      };\n    });\n    const visible = ref(false);\n    let timer = null;\n\n    function startTimer() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          if (visible.value) {\n            close();\n          }\n        }, props.duration);\n      }\n    }\n\n    function clearTimer() {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    function close() {\n      visible.value = false;\n    }\n\n    function keydown({\n      code\n    }) {\n      if (code === EVENT_CODE.esc) {\n        if (visible.value) {\n          close();\n        }\n      } else {\n        startTimer();\n      }\n    }\n\n    onMounted(() => {\n      startTimer();\n      visible.value = true;\n      on(document, \"keydown\", keydown);\n    });\n    onBeforeUnmount(() => {\n      off(document, \"keydown\", keydown);\n    });\n    return {\n      typeClass,\n      customStyle,\n      visible,\n      close,\n      clearTimer,\n      startTimer\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  key: 0,\n  class: \"el-message__content\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-message-fade\",\n    onBeforeLeave: _ctx.onClose,\n    onAfterLeave: _cache[4] || (_cache[4] = $event => _ctx.$emit(\"destroy\"))\n  }, {\n    default: withCtx(() => [withDirectives(createVNode(\"div\", {\n      id: _ctx.id,\n      class: [\"el-message\", _ctx.type && !_ctx.iconClass ? `el-message--${_ctx.type}` : \"\", _ctx.center ? \"is-center\" : \"\", _ctx.showClose ? \"is-closable\" : \"\", _ctx.customClass],\n      style: _ctx.customStyle,\n      role: \"alert\",\n      onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.clearTimer && _ctx.clearTimer(...args)),\n      onMouseleave: _cache[3] || (_cache[3] = (...args) => _ctx.startTimer && _ctx.startTimer(...args))\n    }, [_ctx.type || _ctx.iconClass ? (openBlock(), createBlock(\"i\", {\n      key: 0,\n      class: [\"el-message__icon\", _ctx.typeClass, _ctx.iconClass]\n    }, null, 2)) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\", {}, () => [!_ctx.dangerouslyUseHTMLString ? (openBlock(), createBlock(\"p\", _hoisted_1, toDisplayString(_ctx.message), 1)) : (openBlock(), createBlock(Fragment, {\n      key: 1\n    }, [createCommentVNode(\" Caution here, message could've been compromised, never use user's input as message \"), createCommentVNode(\"  eslint-disable-next-line \"), createVNode(\"p\", {\n      class: \"el-message__content\",\n      innerHTML: _ctx.message\n    }, null, 8, [\"innerHTML\"])], 2112))]), _ctx.showClose ? (openBlock(), createBlock(\"div\", {\n      key: 1,\n      class: \"el-message__closeBtn el-icon-close\",\n      onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.close && _ctx.close(...args), [\"stop\"]))\n    })) : createCommentVNode(\"v-if\", true)], 46, [\"id\"]), [[vShow, _ctx.visible]])]),\n    _: 3\n  }, 8, [\"onBeforeLeave\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/message/src/index.vue\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nconst instances = [];\nlet seed = 1;\n\nconst Message = function (opts = {}) {\n  if (isServer) return;\n\n  if (typeof opts === \"string\") {\n    opts = {\n      message: opts\n    };\n  }\n\n  let options = opts;\n  let verticalOffset = opts.offset || 20;\n  instances.forEach(({\n    vm: vm2\n  }) => {\n    verticalOffset += (vm2.el.offsetHeight || 0) + 16;\n  });\n  verticalOffset += 16;\n  const id = \"message_\" + seed++;\n  const userOnClose = options.onClose;\n  options = __spreadProps(__spreadValues({}, options), {\n    onClose: () => {\n      close(id, userOnClose);\n    },\n    offset: verticalOffset,\n    id,\n    zIndex: PopupManager.nextZIndex()\n  });\n  const container = document.createElement(\"div\");\n  container.className = `container_${id}`;\n  const message = options.message;\n  const vm = createVNode(script, options, isVNode(options.message) ? {\n    default: () => message\n  } : null);\n\n  vm.props.onDestroy = () => {\n    render$1(null, container);\n  };\n\n  render$1(vm, container);\n  instances.push({\n    vm\n  });\n  document.body.appendChild(container.firstElementChild);\n  return {\n    close: () => vm.component.proxy.visible = false\n  };\n};\n\nfunction close(id, userOnClose) {\n  const idx = instances.findIndex(({\n    vm: vm2\n  }) => {\n    const {\n      id: _id\n    } = vm2.component.props;\n    return id === _id;\n  });\n\n  if (idx === -1) {\n    return;\n  }\n\n  const {\n    vm\n  } = instances[idx];\n  if (!vm) return;\n  userOnClose == null ? void 0 : userOnClose(vm);\n  const removedHeight = vm.el.offsetHeight;\n  instances.splice(idx, 1);\n  const len = instances.length;\n  if (len < 1) return;\n\n  for (let i = idx; i < len; i++) {\n    const pos = parseInt(instances[i].vm.el.style[\"top\"], 10) - removedHeight - 16;\n    instances[i].vm.component.props.offset = pos;\n  }\n}\n\nfunction closeAll() {\n  for (let i = instances.length - 1; i >= 0; i--) {\n    const instance = instances[i].vm.component;\n    instance.ctx.close();\n  }\n}\n\n[\"success\", \"warning\", \"info\", \"error\"].forEach(type => {\n  Message[type] = options => {\n    if (typeof options === \"string\") {\n      options = {\n        message: options,\n        type\n      };\n    } else {\n      options.type = type;\n    }\n\n    return Message(options);\n  };\n});\nMessage.closeAll = closeAll;\nconst _Message = Message;\n\n_Message.install = app => {\n  app.config.globalProperties.$message = _Message;\n};\n\nexport default _Message;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-message/index.js"],"names":["defineComponent","computed","ref","onMounted","onBeforeUnmount","openBlock","createBlock","Transition","withCtx","withDirectives","createVNode","createCommentVNode","renderSlot","toDisplayString","Fragment","withModifiers","vShow","render","render$1","isVNode","PopupManager","isServer","EVENT_CODE","tab","enter","space","left","up","right","down","esc","delete","backspace","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","on","element","event","handler","useCapture","addEventListener","off","removeEventListener","TypeMap","success","info","warning","error","script","name","props","customClass","type","String","default","center","Boolean","dangerouslyUseHTMLString","duration","Number","iconClass","id","message","onClose","Function","required","showClose","offset","zIndex","emits","setup","typeClass","customStyle","top","visible","timer","startTimer","setTimeout","value","close","clearTimer","clearTimeout","keydown","code","document","_hoisted_1","key","class","_ctx","_cache","$props","$setup","$data","$options","onBeforeLeave","onAfterLeave","$event","$emit","style","role","onMouseenter","args","onMouseleave","$slots","innerHTML","onClick","_","__file","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","instances","seed","Message","opts","options","verticalOffset","forEach","vm","vm2","el","offsetHeight","userOnClose","nextZIndex","container","createElement","className","onDestroy","push","body","appendChild","firstElementChild","component","proxy","idx","findIndex","_id","removedHeight","splice","len","length","i","pos","parseInt","closeAll","instance","ctx","_Message","install","app","config","globalProperties","$message"],"mappings":"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","sourcesContent":["import { defineComponent, computed, ref, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withDirectives, createVNode, createCommentVNode, renderSlot, toDisplayString, Fragment, withModifiers, vShow, render as render$1 } from 'vue';\nimport { isVNode } from '../utils/util';\nimport PopupManager from '../utils/popup-manager';\nimport isServer from '../utils/isServer';\nimport 'lodash/isEqualWith';\n\nconst EVENT_CODE = {\n  tab: \"Tab\",\n  enter: \"Enter\",\n  space: \"Space\",\n  left: \"ArrowLeft\",\n  up: \"ArrowUp\",\n  right: \"ArrowRight\",\n  down: \"ArrowDown\",\n  esc: \"Escape\",\n  delete: \"Delete\",\n  backspace: \"Backspace\"\n};\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\n\nconst on = function(element, event, handler, useCapture = false) {\n  if (element && event && handler) {\n    element.addEventListener(event, handler, useCapture);\n  }\n};\nconst off = function(element, event, handler, useCapture = false) {\n  if (element && event && handler) {\n    element.removeEventListener(event, handler, useCapture);\n  }\n};\n\nconst TypeMap = {\n  success: \"success\",\n  info: \"info\",\n  warning: \"warning\",\n  error: \"error\"\n};\nvar script = defineComponent({\n  name: \"ElMessage\",\n  props: {\n    customClass: { type: String, default: \"\" },\n    center: { type: Boolean, default: false },\n    dangerouslyUseHTMLString: { type: Boolean, default: false },\n    duration: { type: Number, default: 3e3 },\n    iconClass: { type: String, default: \"\" },\n    id: { type: String, default: \"\" },\n    message: {\n      type: [String, Object],\n      default: \"\"\n    },\n    onClose: {\n      type: Function,\n      required: true\n    },\n    showClose: { type: Boolean, default: false },\n    type: { type: String, default: \"info\" },\n    offset: { type: Number, default: 20 },\n    zIndex: { type: Number, default: 0 }\n  },\n  emits: [\"destroy\"],\n  setup(props) {\n    const typeClass = computed(() => {\n      const type = !props.iconClass && props.type;\n      return type && TypeMap[type] ? `el-icon-${TypeMap[type]}` : \"\";\n    });\n    const customStyle = computed(() => {\n      return {\n        top: `${props.offset}px`,\n        zIndex: props.zIndex\n      };\n    });\n    const visible = ref(false);\n    let timer = null;\n    function startTimer() {\n      if (props.duration > 0) {\n        timer = setTimeout(() => {\n          if (visible.value) {\n            close();\n          }\n        }, props.duration);\n      }\n    }\n    function clearTimer() {\n      clearTimeout(timer);\n      timer = null;\n    }\n    function close() {\n      visible.value = false;\n    }\n    function keydown({ code }) {\n      if (code === EVENT_CODE.esc) {\n        if (visible.value) {\n          close();\n        }\n      } else {\n        startTimer();\n      }\n    }\n    onMounted(() => {\n      startTimer();\n      visible.value = true;\n      on(document, \"keydown\", keydown);\n    });\n    onBeforeUnmount(() => {\n      off(document, \"keydown\", keydown);\n    });\n    return {\n      typeClass,\n      customStyle,\n      visible,\n      close,\n      clearTimer,\n      startTimer\n    };\n  }\n});\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"el-message__content\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-message-fade\",\n    onBeforeLeave: _ctx.onClose,\n    onAfterLeave: _cache[4] || (_cache[4] = ($event) => _ctx.$emit(\"destroy\"))\n  }, {\n    default: withCtx(() => [\n      withDirectives(createVNode(\"div\", {\n        id: _ctx.id,\n        class: [\n          \"el-message\",\n          _ctx.type && !_ctx.iconClass ? `el-message--${_ctx.type}` : \"\",\n          _ctx.center ? \"is-center\" : \"\",\n          _ctx.showClose ? \"is-closable\" : \"\",\n          _ctx.customClass\n        ],\n        style: _ctx.customStyle,\n        role: \"alert\",\n        onMouseenter: _cache[2] || (_cache[2] = (...args) => _ctx.clearTimer && _ctx.clearTimer(...args)),\n        onMouseleave: _cache[3] || (_cache[3] = (...args) => _ctx.startTimer && _ctx.startTimer(...args))\n      }, [\n        _ctx.type || _ctx.iconClass ? (openBlock(), createBlock(\"i\", {\n          key: 0,\n          class: [\"el-message__icon\", _ctx.typeClass, _ctx.iconClass]\n        }, null, 2)) : createCommentVNode(\"v-if\", true),\n        renderSlot(_ctx.$slots, \"default\", {}, () => [\n          !_ctx.dangerouslyUseHTMLString ? (openBlock(), createBlock(\"p\", _hoisted_1, toDisplayString(_ctx.message), 1)) : (openBlock(), createBlock(Fragment, { key: 1 }, [\n            createCommentVNode(\" Caution here, message could've been compromised, never use user's input as message \"),\n            createCommentVNode(\"  eslint-disable-next-line \"),\n            createVNode(\"p\", {\n              class: \"el-message__content\",\n              innerHTML: _ctx.message\n            }, null, 8, [\"innerHTML\"])\n          ], 2112))\n        ]),\n        _ctx.showClose ? (openBlock(), createBlock(\"div\", {\n          key: 1,\n          class: \"el-message__closeBtn el-icon-close\",\n          onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.close && _ctx.close(...args), [\"stop\"]))\n        })) : createCommentVNode(\"v-if\", true)\n      ], 46, [\"id\"]), [\n        [vShow, _ctx.visible]\n      ])\n    ]),\n    _: 3\n  }, 8, [\"onBeforeLeave\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/message/src/index.vue\";\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst instances = [];\nlet seed = 1;\nconst Message = function(opts = {}) {\n  if (isServer)\n    return;\n  if (typeof opts === \"string\") {\n    opts = {\n      message: opts\n    };\n  }\n  let options = opts;\n  let verticalOffset = opts.offset || 20;\n  instances.forEach(({ vm: vm2 }) => {\n    verticalOffset += (vm2.el.offsetHeight || 0) + 16;\n  });\n  verticalOffset += 16;\n  const id = \"message_\" + seed++;\n  const userOnClose = options.onClose;\n  options = __spreadProps(__spreadValues({}, options), {\n    onClose: () => {\n      close(id, userOnClose);\n    },\n    offset: verticalOffset,\n    id,\n    zIndex: PopupManager.nextZIndex()\n  });\n  const container = document.createElement(\"div\");\n  container.className = `container_${id}`;\n  const message = options.message;\n  const vm = createVNode(script, options, isVNode(options.message) ? { default: () => message } : null);\n  vm.props.onDestroy = () => {\n    render$1(null, container);\n  };\n  render$1(vm, container);\n  instances.push({ vm });\n  document.body.appendChild(container.firstElementChild);\n  return {\n    close: () => vm.component.proxy.visible = false\n  };\n};\nfunction close(id, userOnClose) {\n  const idx = instances.findIndex(({ vm: vm2 }) => {\n    const { id: _id } = vm2.component.props;\n    return id === _id;\n  });\n  if (idx === -1) {\n    return;\n  }\n  const { vm } = instances[idx];\n  if (!vm)\n    return;\n  userOnClose == null ? void 0 : userOnClose(vm);\n  const removedHeight = vm.el.offsetHeight;\n  instances.splice(idx, 1);\n  const len = instances.length;\n  if (len < 1)\n    return;\n  for (let i = idx; i < len; i++) {\n    const pos = parseInt(instances[i].vm.el.style[\"top\"], 10) - removedHeight - 16;\n    instances[i].vm.component.props.offset = pos;\n  }\n}\nfunction closeAll() {\n  for (let i = instances.length - 1; i >= 0; i--) {\n    const instance = instances[i].vm.component;\n    instance.ctx.close();\n  }\n}\n[\"success\", \"warning\", \"info\", \"error\"].forEach((type) => {\n  Message[type] = (options) => {\n    if (typeof options === \"string\") {\n      options = {\n        message: options,\n        type\n      };\n    } else {\n      options.type = type;\n    }\n    return Message(options);\n  };\n});\nMessage.closeAll = closeAll;\n\nconst _Message = Message;\n_Message.install = (app) => {\n  app.config.globalProperties.$message = _Message;\n};\n\nexport default _Message;\n"]},"metadata":{},"sourceType":"module"}