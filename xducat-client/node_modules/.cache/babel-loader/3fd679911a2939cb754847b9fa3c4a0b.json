{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { defineComponent, inject, getCurrentInstance, ref, watch, nextTick, resolveDirective, withDirectives, openBlock, createBlock, computed, onUpdated, onMounted, onBeforeUnmount, h, provide, Fragment } from 'vue';\nimport { EVENT_CODE } from '../utils/aria';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport { on, off } from '../utils/dom';\nimport throwError from '../utils/error';\nimport { Resize } from '../directives';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nconst NOOP = () => {};\n\nconst isFunction = val => typeof val === 'function';\n\nconst isObject = val => val !== null && typeof val === 'object';\n\nconst isPromise = val => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\n\nconst cacheStringFunction = fn => {\n  const cache = Object.create(null);\n  return str => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\n/**\r\n * @private\r\n */\n\n\nconst capitalize = cacheStringFunction(str => str.charAt(0).toUpperCase() + str.slice(1));\nvar script = defineComponent({\n  name: \"ElTabBar\",\n  directives: {\n    Resize\n  },\n  props: {\n    tabs: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  setup(props) {\n    const rootTabs = inject(\"rootTabs\");\n\n    if (!rootTabs) {\n      throw new Error(`ElTabBar must use with ElTabs`);\n    }\n\n    const instance = getCurrentInstance();\n\n    const getBarStyle = () => {\n      let style = {};\n      let offset = 0;\n      let tabSize = 0;\n      const sizeName = [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"width\" : \"height\";\n      const sizeDir = sizeName === \"width\" ? \"x\" : \"y\";\n      props.tabs.every(tab => {\n        var _a;\n\n        let $el = (_a = instance.parent.refs) == null ? void 0 : _a[`tab-${tab.paneName}`];\n\n        if (!$el) {\n          return false;\n        }\n\n        if (!tab.active) {\n          offset += $el[`client${capitalize(sizeName)}`];\n          return true;\n        } else {\n          tabSize = $el[`client${capitalize(sizeName)}`];\n          const tabStyles = window.getComputedStyle($el);\n\n          if (sizeName === \"width\") {\n            if (props.tabs.length > 1) {\n              tabSize -= parseFloat(tabStyles.paddingLeft) + parseFloat(tabStyles.paddingRight);\n            }\n\n            offset += parseFloat(tabStyles.paddingLeft);\n          }\n\n          return false;\n        }\n      });\n      const transform = `translate${capitalize(sizeDir)}(${offset}px)`;\n      style[sizeName] = `${tabSize}px`;\n      style.transform = transform;\n      return style;\n    };\n\n    const barStyle = ref(getBarStyle());\n\n    const update = () => {\n      barStyle.value = getBarStyle();\n    };\n\n    watch(() => props.tabs, () => {\n      nextTick(() => {\n        update();\n      });\n    });\n    return {\n      rootTabs,\n      barStyle,\n      update\n    };\n  }\n\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_resize = resolveDirective(\"resize\");\n\n  return withDirectives((openBlock(), createBlock(\"div\", {\n    class: [\"el-tabs__active-bar\", `is-${_ctx.rootTabs.props.tabPosition}`],\n    style: _ctx.barStyle\n  }, null, 6)), [[_directive_resize, _ctx.update]]);\n}\n\nscript.render = render;\nscript.__file = \"packages/tabs/src/tab-bar.vue\";\nvar script$1 = defineComponent({\n  name: \"ElTabNav\",\n  components: {\n    TabBar: script\n  },\n  props: {\n    panes: {\n      type: Array,\n      default: () => []\n    },\n    currentName: {\n      type: String,\n      default: \"\"\n    },\n    editable: Boolean,\n    onTabClick: {\n      type: Function,\n      default: NOOP\n    },\n    onTabRemove: {\n      type: Function,\n      default: NOOP\n    },\n    type: {\n      type: String,\n      default: \"\"\n    },\n    stretch: Boolean\n  },\n\n  setup() {\n    const rootTabs = inject(\"rootTabs\");\n\n    if (!rootTabs) {\n      throwError(\"[ElTabNav]\", `ElTabNav must be nested inside ElTabs`);\n    }\n\n    const scrollable = ref(false);\n    const navOffset = ref(0);\n    const isFocus = ref(false);\n    const focusable = ref(true);\n    const navScroll$ = ref(null);\n    const nav$ = ref(null);\n    const el$ = ref(null);\n    const sizeName = computed(() => {\n      return [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"width\" : \"height\";\n    });\n    const navStyle = computed(() => {\n      const dir = sizeName.value === \"width\" ? \"X\" : \"Y\";\n      return {\n        transform: `translate${dir}(-${navOffset.value}px)`\n      };\n    });\n\n    const scrollPrev = () => {\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n      if (!currentOffset) return;\n      let newOffset = currentOffset > containerSize ? currentOffset - containerSize : 0;\n      navOffset.value = newOffset;\n    };\n\n    const scrollNext = () => {\n      const navSize = nav$.value[`offset${capitalize(sizeName.value)}`];\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n      if (navSize - currentOffset <= containerSize) return;\n      let newOffset = navSize - currentOffset > containerSize * 2 ? currentOffset + containerSize : navSize - containerSize;\n      navOffset.value = newOffset;\n    };\n\n    const scrollToActiveTab = () => {\n      if (!scrollable.value) return;\n      const nav = nav$.value;\n      const activeTab = el$.value.querySelector(\".is-active\");\n      if (!activeTab) return;\n      const navScroll = navScroll$.value;\n      const isHorizontal = [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition);\n      const activeTabBounding = activeTab.getBoundingClientRect();\n      const navScrollBounding = navScroll.getBoundingClientRect();\n      const maxOffset = isHorizontal ? nav.offsetWidth - navScrollBounding.width : nav.offsetHeight - navScrollBounding.height;\n      const currentOffset = navOffset.value;\n      let newOffset = currentOffset;\n\n      if (isHorizontal) {\n        if (activeTabBounding.left < navScrollBounding.left) {\n          newOffset = currentOffset - (navScrollBounding.left - activeTabBounding.left);\n        }\n\n        if (activeTabBounding.right > navScrollBounding.right) {\n          newOffset = currentOffset + activeTabBounding.right - navScrollBounding.right;\n        }\n      } else {\n        if (activeTabBounding.top < navScrollBounding.top) {\n          newOffset = currentOffset - (navScrollBounding.top - activeTabBounding.top);\n        }\n\n        if (activeTabBounding.bottom > navScrollBounding.bottom) {\n          newOffset = currentOffset + (activeTabBounding.bottom - navScrollBounding.bottom);\n        }\n      }\n\n      newOffset = Math.max(newOffset, 0);\n      navOffset.value = Math.min(newOffset, maxOffset);\n    };\n\n    const update = () => {\n      if (!nav$.value) return;\n      const navSize = nav$.value[`offset${capitalize(sizeName.value)}`];\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n\n      if (containerSize < navSize) {\n        const currentOffset2 = navOffset.value;\n        scrollable.value = scrollable.value || {};\n        scrollable.value.prev = currentOffset2;\n        scrollable.value.next = currentOffset2 + containerSize < navSize;\n\n        if (navSize - currentOffset2 < containerSize) {\n          navOffset.value = navSize - containerSize;\n        }\n      } else {\n        scrollable.value = false;\n\n        if (currentOffset > 0) {\n          navOffset.value = 0;\n        }\n      }\n    };\n\n    const changeTab = e => {\n      const code = e.code;\n      let nextIndex;\n      let currentIndex, tabList;\n      const {\n        up,\n        down,\n        left,\n        right\n      } = EVENT_CODE;\n\n      if ([up, down, left, right].indexOf(code) !== -1) {\n        tabList = e.currentTarget.querySelectorAll(\"[role=tab]\");\n        currentIndex = Array.prototype.indexOf.call(tabList, e.target);\n      } else {\n        return;\n      }\n\n      if (code === left || code === up) {\n        if (currentIndex === 0) {\n          nextIndex = tabList.length - 1;\n        } else {\n          nextIndex = currentIndex - 1;\n        }\n      } else {\n        if (currentIndex < tabList.length - 1) {\n          nextIndex = currentIndex + 1;\n        } else {\n          nextIndex = 0;\n        }\n      }\n\n      tabList[nextIndex].focus();\n      tabList[nextIndex].click();\n      setFocus();\n    };\n\n    const setFocus = () => {\n      if (focusable.value) {\n        isFocus.value = true;\n      }\n    };\n\n    const removeFocus = () => {\n      isFocus.value = false;\n    };\n\n    const visibilityChangeHandler = () => {\n      const visibility = document.visibilityState;\n\n      if (visibility === \"hidden\") {\n        focusable.value = false;\n      } else if (visibility === \"visible\") {\n        setTimeout(() => {\n          focusable.value = true;\n        }, 50);\n      }\n    };\n\n    const windowBlurHandler = () => {\n      focusable.value = false;\n    };\n\n    const windowFocusHandler = () => {\n      setTimeout(() => {\n        focusable.value = true;\n      }, 50);\n    };\n\n    onUpdated(() => {\n      update();\n    });\n    onMounted(() => {\n      addResizeListener(el$.value, update);\n      on(document, \"visibilitychange\", visibilityChangeHandler);\n      on(window, \"blur\", windowBlurHandler);\n      on(window, \"focus\", windowFocusHandler);\n      setTimeout(() => {\n        scrollToActiveTab();\n      }, 0);\n    });\n    onBeforeUnmount(() => {\n      if (el$.value) {\n        removeResizeListener(el$.value, update);\n      }\n\n      off(document, \"visibilitychange\", visibilityChangeHandler);\n      off(window, \"blur\", windowBlurHandler);\n      off(window, \"focus\", windowFocusHandler);\n    });\n    return {\n      rootTabs,\n      scrollable,\n      navOffset,\n      isFocus,\n      focusable,\n      navScroll$,\n      nav$,\n      el$,\n      sizeName,\n      navStyle,\n      scrollPrev,\n      scrollNext,\n      scrollToActiveTab,\n      update,\n      changeTab,\n      setFocus,\n      removeFocus,\n      visibilityChangeHandler,\n      windowBlurHandler,\n      windowFocusHandler\n    };\n  },\n\n  render() {\n    const {\n      type,\n      panes,\n      editable,\n      stretch,\n      onTabClick,\n      onTabRemove,\n      navStyle,\n      scrollable,\n      scrollNext,\n      scrollPrev,\n      changeTab,\n      setFocus,\n      removeFocus,\n      rootTabs,\n      isFocus\n    } = this;\n    const scrollBtn = scrollable ? [h(\"span\", {\n      class: [\"el-tabs__nav-prev\", scrollable.prev ? \"\" : \"is-disabled\"],\n      onClick: scrollPrev\n    }, [h(\"i\", {\n      class: \"el-icon-arrow-left\"\n    })]), h(\"span\", {\n      class: [\"el-tabs__nav-next\", scrollable.next ? \"\" : \"is-disabled\"],\n      onClick: scrollNext\n    }, [h(\"i\", {\n      class: \"el-icon-arrow-right\"\n    })])] : null;\n    const tabs = panes.map((pane, index) => {\n      var _a, _b;\n\n      let tabName = pane.props.name || pane.index || `${index}`;\n      const closable = pane.isClosable || editable;\n      pane.index = `${index}`;\n      const btnClose = closable ? h(\"span\", {\n        class: \"el-icon-close\",\n        onClick: ev => {\n          onTabRemove(pane, ev);\n        }\n      }) : null;\n      const tabLabelContent = ((_b = (_a = pane.instance.slots).label) == null ? void 0 : _b.call(_a)) || pane.props.label;\n      const tabindex = pane.active ? 0 : -1;\n      return h(\"div\", {\n        class: {\n          \"el-tabs__item\": true,\n          [`is-${rootTabs.props.tabPosition}`]: true,\n          \"is-active\": pane.active,\n          \"is-disabled\": pane.props.disabled,\n          \"is-closable\": closable,\n          \"is-focus\": isFocus\n        },\n        id: `tab-${tabName}`,\n        key: `tab-${tabName}`,\n        \"aria-controls\": `pane-${tabName}`,\n        role: \"tab\",\n        \"aria-selected\": pane.active,\n        ref: `tab-${tabName}`,\n        tabindex,\n        onFocus: () => {\n          setFocus();\n        },\n        onBlur: () => {\n          removeFocus();\n        },\n        onClick: ev => {\n          removeFocus();\n          onTabClick(pane, tabName, ev);\n        },\n        onKeydown: ev => {\n          if (closable && (ev.code === EVENT_CODE.delete || ev.code === EVENT_CODE.backspace)) {\n            onTabRemove(pane, ev);\n          }\n        }\n      }, [tabLabelContent, btnClose]);\n    });\n    return h(\"div\", {\n      ref: \"el$\",\n      class: [\"el-tabs__nav-wrap\", scrollable ? \"is-scrollable\" : \"\", `is-${rootTabs.props.tabPosition}`]\n    }, [scrollBtn, h(\"div\", {\n      class: \"el-tabs__nav-scroll\",\n      ref: \"navScroll$\"\n    }, [h(\"div\", {\n      class: [\"el-tabs__nav\", `is-${rootTabs.props.tabPosition}`, stretch && [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"is-stretch\" : \"\"],\n      ref: \"nav$\",\n      style: navStyle,\n      role: \"tablist\",\n      onKeydown: changeTab\n    }, [!type ? h(script, {\n      tabs: panes\n    }) : null, tabs])])]);\n  }\n\n});\nscript$1.__file = \"packages/tabs/src/tab-nav.vue\";\nvar script$2 = defineComponent({\n  name: \"ElTabs\",\n  components: {\n    TabNav: script$1\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"\"\n    },\n    activeName: {\n      type: String,\n      default: \"\"\n    },\n    closable: Boolean,\n    addable: Boolean,\n    modelValue: {\n      type: String,\n      default: \"\"\n    },\n    editable: Boolean,\n    tabPosition: {\n      type: String,\n      default: \"top\"\n    },\n    beforeLeave: {\n      type: Function,\n      default: null\n    },\n    stretch: Boolean\n  },\n  emits: [\"tab-click\", \"edit\", \"tab-remove\", \"tab-add\", \"input\", \"update:modelValue\"],\n\n  setup(props, ctx) {\n    const nav$ = ref(null);\n    const currentName = ref(props.modelValue || props.activeName || \"0\");\n    const panes = ref([]);\n    const instance = getCurrentInstance();\n    const paneStatesMap = {};\n    provide(\"rootTabs\", {\n      props,\n      currentName\n    });\n    provide(\"updatePaneState\", pane => {\n      paneStatesMap[pane.uid] = pane;\n    });\n    watch(() => props.activeName, modelValue => {\n      setCurrentName(modelValue);\n    });\n    watch(() => props.modelValue, modelValue => {\n      setCurrentName(modelValue);\n    });\n    watch(currentName, () => {\n      if (nav$.value) {\n        nextTick(() => {\n          nav$.value.$nextTick(() => {\n            nav$.value.scrollToActiveTab();\n          });\n        });\n      }\n\n      setPaneInstances(true);\n    });\n\n    const getPaneInstanceFromSlot = (vnode, paneInstanceList = []) => {\n      Array.from(vnode.children || []).forEach(node => {\n        let type = node.type;\n        type = type.name || type;\n\n        if (type === \"ElTabPane\" && node.component) {\n          paneInstanceList.push(node.component);\n        } else if (type === Fragment || type === \"template\") {\n          getPaneInstanceFromSlot(node, paneInstanceList);\n        }\n      });\n      return paneInstanceList;\n    };\n\n    const setPaneInstances = (isForceUpdate = false) => {\n      if (ctx.slots.default) {\n        const children = instance.subTree.children;\n        const content = Array.from(children).find(({\n          props: props2\n        }) => {\n          return props2.class === \"el-tabs__content\";\n        });\n        if (!content) return;\n        const paneInstanceList = getPaneInstanceFromSlot(content).map(paneComponent => {\n          return paneStatesMap[paneComponent.uid];\n        });\n        const panesChanged = !(paneInstanceList.length === panes.value.length && paneInstanceList.every((pane, index) => pane.uid === panes.value[index].uid));\n\n        if (isForceUpdate || panesChanged) {\n          panes.value = paneInstanceList;\n        }\n      } else if (panes.value.length !== 0) {\n        panes.value = [];\n      }\n    };\n\n    const changeCurrentName = value => {\n      currentName.value = value;\n      ctx.emit(\"input\", value);\n      ctx.emit(\"update:modelValue\", value);\n    };\n\n    const setCurrentName = value => {\n      if (currentName.value === value) return;\n      const beforeLeave = props.beforeLeave;\n      const before = beforeLeave && beforeLeave(value, currentName.value);\n\n      if (before && isPromise(before)) {\n        before.then(() => {\n          var _a, _b;\n\n          changeCurrentName(value);\n          (_b = (_a = nav$.value).removeFocus) == null ? void 0 : _b.call(_a);\n        }, () => {});\n      } else if (before !== false) {\n        changeCurrentName(value);\n      }\n    };\n\n    const handleTabClick = (tab, tabName, event) => {\n      if (tab.props.disabled) return;\n      setCurrentName(tabName);\n      ctx.emit(\"tab-click\", tab, event);\n    };\n\n    const handleTabRemove = (pane, ev) => {\n      if (pane.props.disabled) return;\n      ev.stopPropagation();\n      ctx.emit(\"edit\", pane.props.name, \"remove\");\n      ctx.emit(\"tab-remove\", pane.props.name);\n    };\n\n    const handleTabAdd = () => {\n      ctx.emit(\"edit\", null, \"add\");\n      ctx.emit(\"tab-add\");\n    };\n\n    onUpdated(() => {\n      setPaneInstances();\n    });\n    onMounted(() => {\n      setPaneInstances();\n    });\n    return {\n      nav$,\n      handleTabClick,\n      handleTabRemove,\n      handleTabAdd,\n      currentName,\n      panes\n    };\n  },\n\n  render() {\n    var _a;\n\n    let {\n      type,\n      handleTabClick,\n      handleTabRemove,\n      handleTabAdd,\n      currentName,\n      panes,\n      editable,\n      addable,\n      tabPosition,\n      stretch\n    } = this;\n    const newButton = editable || addable ? h(\"span\", {\n      class: \"el-tabs__new-tab\",\n      tabindex: \"0\",\n      onClick: handleTabAdd,\n      onKeydown: ev => {\n        if (ev.code === EVENT_CODE.enter) {\n          handleTabAdd();\n        }\n      }\n    }, [h(\"i\", {\n      class: \"el-icon-plus\"\n    })]) : null;\n    const header = h(\"div\", {\n      class: [\"el-tabs__header\", `is-${tabPosition}`]\n    }, [newButton, h(script$1, {\n      currentName,\n      editable,\n      type,\n      panes,\n      stretch,\n      ref: \"nav$\",\n      onTabClick: handleTabClick,\n      onTabRemove: handleTabRemove\n    })]);\n    const panels = h(\"div\", {\n      class: \"el-tabs__content\"\n    }, (_a = this.$slots) == null ? void 0 : _a.default());\n    return h(\"div\", {\n      class: {\n        \"el-tabs\": true,\n        \"el-tabs--card\": type === \"card\",\n        [`el-tabs--${tabPosition}`]: true,\n        \"el-tabs--border-card\": type === \"border-card\"\n      }\n    }, tabPosition !== \"bottom\" ? [header, panels] : [panels, header]);\n  }\n\n});\nscript$2.__file = \"packages/tabs/src/tabs.vue\";\n\nscript$2.install = app => {\n  app.component(script$2.name, script$2);\n};\n\nconst _Tabs = script$2;\nexport default _Tabs;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-tabs/index.js"],"names":["defineComponent","inject","getCurrentInstance","ref","watch","nextTick","resolveDirective","withDirectives","openBlock","createBlock","computed","onUpdated","onMounted","onBeforeUnmount","h","provide","Fragment","EVENT_CODE","addResizeListener","removeResizeListener","on","off","throwError","Resize","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","NOOP","isFunction","val","isObject","isPromise","then","catch","cacheStringFunction","fn","cache","create","str","hit","capitalize","charAt","toUpperCase","slice","script","name","directives","props","tabs","type","Array","default","setup","rootTabs","Error","instance","getBarStyle","style","offset","tabSize","sizeName","includes","tabPosition","sizeDir","every","tab","_a","$el","parent","refs","paneName","active","tabStyles","window","getComputedStyle","length","parseFloat","paddingLeft","paddingRight","transform","barStyle","update","value","render","_ctx","_cache","$props","$setup","$data","$options","_directive_resize","class","__file","script$1","components","TabBar","panes","currentName","String","editable","Boolean","onTabClick","Function","onTabRemove","stretch","scrollable","navOffset","isFocus","focusable","navScroll$","nav$","el$","navStyle","dir","scrollPrev","containerSize","currentOffset","newOffset","scrollNext","navSize","scrollToActiveTab","nav","activeTab","querySelector","navScroll","isHorizontal","activeTabBounding","getBoundingClientRect","navScrollBounding","maxOffset","offsetWidth","width","offsetHeight","height","left","right","top","bottom","Math","max","min","currentOffset2","prev","next","changeTab","e","code","nextIndex","currentIndex","tabList","up","down","indexOf","currentTarget","querySelectorAll","prototype","call","target","focus","click","setFocus","removeFocus","visibilityChangeHandler","visibility","document","visibilityState","setTimeout","windowBlurHandler","windowFocusHandler","scrollBtn","onClick","map","pane","index","_b","tabName","closable","isClosable","btnClose","ev","tabLabelContent","slots","label","tabindex","disabled","id","key","role","onFocus","onBlur","onKeydown","delete","backspace","script$2","TabNav","activeName","addable","modelValue","beforeLeave","emits","ctx","paneStatesMap","uid","setCurrentName","$nextTick","setPaneInstances","getPaneInstanceFromSlot","vnode","paneInstanceList","from","children","forEach","node","component","push","isForceUpdate","subTree","content","find","props2","paneComponent","panesChanged","changeCurrentName","emit","before","handleTabClick","event","handleTabRemove","stopPropagation","handleTabAdd","newButton","enter","header","panels","$slots","install","app","_Tabs"],"mappings":"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","sourcesContent":["import { defineComponent, inject, getCurrentInstance, ref, watch, nextTick, resolveDirective, withDirectives, openBlock, createBlock, computed, onUpdated, onMounted, onBeforeUnmount, h, provide, Fragment } from 'vue';\nimport { EVENT_CODE } from '../utils/aria';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport { on, off } from '../utils/dom';\nimport throwError from '../utils/error';\nimport { Resize } from '../directives';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\n\nvar script = defineComponent({\n  name: \"ElTabBar\",\n  directives: {\n    Resize\n  },\n  props: {\n    tabs: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const rootTabs = inject(\"rootTabs\");\n    if (!rootTabs) {\n      throw new Error(`ElTabBar must use with ElTabs`);\n    }\n    const instance = getCurrentInstance();\n    const getBarStyle = () => {\n      let style = {};\n      let offset = 0;\n      let tabSize = 0;\n      const sizeName = [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"width\" : \"height\";\n      const sizeDir = sizeName === \"width\" ? \"x\" : \"y\";\n      props.tabs.every((tab) => {\n        var _a;\n        let $el = (_a = instance.parent.refs) == null ? void 0 : _a[`tab-${tab.paneName}`];\n        if (!$el) {\n          return false;\n        }\n        if (!tab.active) {\n          offset += $el[`client${capitalize(sizeName)}`];\n          return true;\n        } else {\n          tabSize = $el[`client${capitalize(sizeName)}`];\n          const tabStyles = window.getComputedStyle($el);\n          if (sizeName === \"width\") {\n            if (props.tabs.length > 1) {\n              tabSize -= parseFloat(tabStyles.paddingLeft) + parseFloat(tabStyles.paddingRight);\n            }\n            offset += parseFloat(tabStyles.paddingLeft);\n          }\n          return false;\n        }\n      });\n      const transform = `translate${capitalize(sizeDir)}(${offset}px)`;\n      style[sizeName] = `${tabSize}px`;\n      style.transform = transform;\n      return style;\n    };\n    const barStyle = ref(getBarStyle());\n    const update = () => {\n      barStyle.value = getBarStyle();\n    };\n    watch(() => props.tabs, () => {\n      nextTick(() => {\n        update();\n      });\n    });\n    return {\n      rootTabs,\n      barStyle,\n      update\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_resize = resolveDirective(\"resize\");\n  return withDirectives((openBlock(), createBlock(\"div\", {\n    class: [\"el-tabs__active-bar\", `is-${_ctx.rootTabs.props.tabPosition}`],\n    style: _ctx.barStyle\n  }, null, 6)), [\n    [_directive_resize, _ctx.update]\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/tabs/src/tab-bar.vue\";\n\nvar script$1 = defineComponent({\n  name: \"ElTabNav\",\n  components: {\n    TabBar: script\n  },\n  props: {\n    panes: {\n      type: Array,\n      default: () => []\n    },\n    currentName: {\n      type: String,\n      default: \"\"\n    },\n    editable: Boolean,\n    onTabClick: {\n      type: Function,\n      default: NOOP\n    },\n    onTabRemove: {\n      type: Function,\n      default: NOOP\n    },\n    type: {\n      type: String,\n      default: \"\"\n    },\n    stretch: Boolean\n  },\n  setup() {\n    const rootTabs = inject(\"rootTabs\");\n    if (!rootTabs) {\n      throwError(\"[ElTabNav]\", `ElTabNav must be nested inside ElTabs`);\n    }\n    const scrollable = ref(false);\n    const navOffset = ref(0);\n    const isFocus = ref(false);\n    const focusable = ref(true);\n    const navScroll$ = ref(null);\n    const nav$ = ref(null);\n    const el$ = ref(null);\n    const sizeName = computed(() => {\n      return [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"width\" : \"height\";\n    });\n    const navStyle = computed(() => {\n      const dir = sizeName.value === \"width\" ? \"X\" : \"Y\";\n      return {\n        transform: `translate${dir}(-${navOffset.value}px)`\n      };\n    });\n    const scrollPrev = () => {\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n      if (!currentOffset)\n        return;\n      let newOffset = currentOffset > containerSize ? currentOffset - containerSize : 0;\n      navOffset.value = newOffset;\n    };\n    const scrollNext = () => {\n      const navSize = nav$.value[`offset${capitalize(sizeName.value)}`];\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n      if (navSize - currentOffset <= containerSize)\n        return;\n      let newOffset = navSize - currentOffset > containerSize * 2 ? currentOffset + containerSize : navSize - containerSize;\n      navOffset.value = newOffset;\n    };\n    const scrollToActiveTab = () => {\n      if (!scrollable.value)\n        return;\n      const nav = nav$.value;\n      const activeTab = el$.value.querySelector(\".is-active\");\n      if (!activeTab)\n        return;\n      const navScroll = navScroll$.value;\n      const isHorizontal = [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition);\n      const activeTabBounding = activeTab.getBoundingClientRect();\n      const navScrollBounding = navScroll.getBoundingClientRect();\n      const maxOffset = isHorizontal ? nav.offsetWidth - navScrollBounding.width : nav.offsetHeight - navScrollBounding.height;\n      const currentOffset = navOffset.value;\n      let newOffset = currentOffset;\n      if (isHorizontal) {\n        if (activeTabBounding.left < navScrollBounding.left) {\n          newOffset = currentOffset - (navScrollBounding.left - activeTabBounding.left);\n        }\n        if (activeTabBounding.right > navScrollBounding.right) {\n          newOffset = currentOffset + activeTabBounding.right - navScrollBounding.right;\n        }\n      } else {\n        if (activeTabBounding.top < navScrollBounding.top) {\n          newOffset = currentOffset - (navScrollBounding.top - activeTabBounding.top);\n        }\n        if (activeTabBounding.bottom > navScrollBounding.bottom) {\n          newOffset = currentOffset + (activeTabBounding.bottom - navScrollBounding.bottom);\n        }\n      }\n      newOffset = Math.max(newOffset, 0);\n      navOffset.value = Math.min(newOffset, maxOffset);\n    };\n    const update = () => {\n      if (!nav$.value)\n        return;\n      const navSize = nav$.value[`offset${capitalize(sizeName.value)}`];\n      const containerSize = navScroll$.value[`offset${capitalize(sizeName.value)}`];\n      const currentOffset = navOffset.value;\n      if (containerSize < navSize) {\n        const currentOffset2 = navOffset.value;\n        scrollable.value = scrollable.value || {};\n        scrollable.value.prev = currentOffset2;\n        scrollable.value.next = currentOffset2 + containerSize < navSize;\n        if (navSize - currentOffset2 < containerSize) {\n          navOffset.value = navSize - containerSize;\n        }\n      } else {\n        scrollable.value = false;\n        if (currentOffset > 0) {\n          navOffset.value = 0;\n        }\n      }\n    };\n    const changeTab = (e) => {\n      const code = e.code;\n      let nextIndex;\n      let currentIndex, tabList;\n      const { up, down, left, right } = EVENT_CODE;\n      if ([up, down, left, right].indexOf(code) !== -1) {\n        tabList = e.currentTarget.querySelectorAll(\"[role=tab]\");\n        currentIndex = Array.prototype.indexOf.call(tabList, e.target);\n      } else {\n        return;\n      }\n      if (code === left || code === up) {\n        if (currentIndex === 0) {\n          nextIndex = tabList.length - 1;\n        } else {\n          nextIndex = currentIndex - 1;\n        }\n      } else {\n        if (currentIndex < tabList.length - 1) {\n          nextIndex = currentIndex + 1;\n        } else {\n          nextIndex = 0;\n        }\n      }\n      tabList[nextIndex].focus();\n      tabList[nextIndex].click();\n      setFocus();\n    };\n    const setFocus = () => {\n      if (focusable.value) {\n        isFocus.value = true;\n      }\n    };\n    const removeFocus = () => {\n      isFocus.value = false;\n    };\n    const visibilityChangeHandler = () => {\n      const visibility = document.visibilityState;\n      if (visibility === \"hidden\") {\n        focusable.value = false;\n      } else if (visibility === \"visible\") {\n        setTimeout(() => {\n          focusable.value = true;\n        }, 50);\n      }\n    };\n    const windowBlurHandler = () => {\n      focusable.value = false;\n    };\n    const windowFocusHandler = () => {\n      setTimeout(() => {\n        focusable.value = true;\n      }, 50);\n    };\n    onUpdated(() => {\n      update();\n    });\n    onMounted(() => {\n      addResizeListener(el$.value, update);\n      on(document, \"visibilitychange\", visibilityChangeHandler);\n      on(window, \"blur\", windowBlurHandler);\n      on(window, \"focus\", windowFocusHandler);\n      setTimeout(() => {\n        scrollToActiveTab();\n      }, 0);\n    });\n    onBeforeUnmount(() => {\n      if (el$.value) {\n        removeResizeListener(el$.value, update);\n      }\n      off(document, \"visibilitychange\", visibilityChangeHandler);\n      off(window, \"blur\", windowBlurHandler);\n      off(window, \"focus\", windowFocusHandler);\n    });\n    return {\n      rootTabs,\n      scrollable,\n      navOffset,\n      isFocus,\n      focusable,\n      navScroll$,\n      nav$,\n      el$,\n      sizeName,\n      navStyle,\n      scrollPrev,\n      scrollNext,\n      scrollToActiveTab,\n      update,\n      changeTab,\n      setFocus,\n      removeFocus,\n      visibilityChangeHandler,\n      windowBlurHandler,\n      windowFocusHandler\n    };\n  },\n  render() {\n    const {\n      type,\n      panes,\n      editable,\n      stretch,\n      onTabClick,\n      onTabRemove,\n      navStyle,\n      scrollable,\n      scrollNext,\n      scrollPrev,\n      changeTab,\n      setFocus,\n      removeFocus,\n      rootTabs,\n      isFocus\n    } = this;\n    const scrollBtn = scrollable ? [\n      h(\"span\", {\n        class: [\"el-tabs__nav-prev\", scrollable.prev ? \"\" : \"is-disabled\"],\n        onClick: scrollPrev\n      }, [h(\"i\", { class: \"el-icon-arrow-left\" })]),\n      h(\"span\", {\n        class: [\"el-tabs__nav-next\", scrollable.next ? \"\" : \"is-disabled\"],\n        onClick: scrollNext\n      }, [h(\"i\", { class: \"el-icon-arrow-right\" })])\n    ] : null;\n    const tabs = panes.map((pane, index) => {\n      var _a, _b;\n      let tabName = pane.props.name || pane.index || `${index}`;\n      const closable = pane.isClosable || editable;\n      pane.index = `${index}`;\n      const btnClose = closable ? h(\"span\", {\n        class: \"el-icon-close\",\n        onClick: (ev) => {\n          onTabRemove(pane, ev);\n        }\n      }) : null;\n      const tabLabelContent = ((_b = (_a = pane.instance.slots).label) == null ? void 0 : _b.call(_a)) || pane.props.label;\n      const tabindex = pane.active ? 0 : -1;\n      return h(\"div\", {\n        class: {\n          \"el-tabs__item\": true,\n          [`is-${rootTabs.props.tabPosition}`]: true,\n          \"is-active\": pane.active,\n          \"is-disabled\": pane.props.disabled,\n          \"is-closable\": closable,\n          \"is-focus\": isFocus\n        },\n        id: `tab-${tabName}`,\n        key: `tab-${tabName}`,\n        \"aria-controls\": `pane-${tabName}`,\n        role: \"tab\",\n        \"aria-selected\": pane.active,\n        ref: `tab-${tabName}`,\n        tabindex,\n        onFocus: () => {\n          setFocus();\n        },\n        onBlur: () => {\n          removeFocus();\n        },\n        onClick: (ev) => {\n          removeFocus();\n          onTabClick(pane, tabName, ev);\n        },\n        onKeydown: (ev) => {\n          if (closable && (ev.code === EVENT_CODE.delete || ev.code === EVENT_CODE.backspace)) {\n            onTabRemove(pane, ev);\n          }\n        }\n      }, [tabLabelContent, btnClose]);\n    });\n    return h(\"div\", {\n      ref: \"el$\",\n      class: [\"el-tabs__nav-wrap\", scrollable ? \"is-scrollable\" : \"\", `is-${rootTabs.props.tabPosition}`]\n    }, [\n      scrollBtn,\n      h(\"div\", {\n        class: \"el-tabs__nav-scroll\",\n        ref: \"navScroll$\"\n      }, [\n        h(\"div\", {\n          class: [\"el-tabs__nav\", `is-${rootTabs.props.tabPosition}`, stretch && [\"top\", \"bottom\"].includes(rootTabs.props.tabPosition) ? \"is-stretch\" : \"\"],\n          ref: \"nav$\",\n          style: navStyle,\n          role: \"tablist\",\n          onKeydown: changeTab\n        }, [\n          !type ? h(script, {\n            tabs: panes\n          }) : null,\n          tabs\n        ])\n      ])\n    ]);\n  }\n});\n\nscript$1.__file = \"packages/tabs/src/tab-nav.vue\";\n\nvar script$2 = defineComponent({\n  name: \"ElTabs\",\n  components: { TabNav: script$1 },\n  props: {\n    type: {\n      type: String,\n      default: \"\"\n    },\n    activeName: {\n      type: String,\n      default: \"\"\n    },\n    closable: Boolean,\n    addable: Boolean,\n    modelValue: {\n      type: String,\n      default: \"\"\n    },\n    editable: Boolean,\n    tabPosition: {\n      type: String,\n      default: \"top\"\n    },\n    beforeLeave: {\n      type: Function,\n      default: null\n    },\n    stretch: Boolean\n  },\n  emits: [\"tab-click\", \"edit\", \"tab-remove\", \"tab-add\", \"input\", \"update:modelValue\"],\n  setup(props, ctx) {\n    const nav$ = ref(null);\n    const currentName = ref(props.modelValue || props.activeName || \"0\");\n    const panes = ref([]);\n    const instance = getCurrentInstance();\n    const paneStatesMap = {};\n    provide(\"rootTabs\", {\n      props,\n      currentName\n    });\n    provide(\"updatePaneState\", (pane) => {\n      paneStatesMap[pane.uid] = pane;\n    });\n    watch(() => props.activeName, (modelValue) => {\n      setCurrentName(modelValue);\n    });\n    watch(() => props.modelValue, (modelValue) => {\n      setCurrentName(modelValue);\n    });\n    watch(currentName, () => {\n      if (nav$.value) {\n        nextTick(() => {\n          nav$.value.$nextTick(() => {\n            nav$.value.scrollToActiveTab();\n          });\n        });\n      }\n      setPaneInstances(true);\n    });\n    const getPaneInstanceFromSlot = (vnode, paneInstanceList = []) => {\n      Array.from(vnode.children || []).forEach((node) => {\n        let type = node.type;\n        type = type.name || type;\n        if (type === \"ElTabPane\" && node.component) {\n          paneInstanceList.push(node.component);\n        } else if (type === Fragment || type === \"template\") {\n          getPaneInstanceFromSlot(node, paneInstanceList);\n        }\n      });\n      return paneInstanceList;\n    };\n    const setPaneInstances = (isForceUpdate = false) => {\n      if (ctx.slots.default) {\n        const children = instance.subTree.children;\n        const content = Array.from(children).find(({ props: props2 }) => {\n          return props2.class === \"el-tabs__content\";\n        });\n        if (!content)\n          return;\n        const paneInstanceList = getPaneInstanceFromSlot(content).map((paneComponent) => {\n          return paneStatesMap[paneComponent.uid];\n        });\n        const panesChanged = !(paneInstanceList.length === panes.value.length && paneInstanceList.every((pane, index) => pane.uid === panes.value[index].uid));\n        if (isForceUpdate || panesChanged) {\n          panes.value = paneInstanceList;\n        }\n      } else if (panes.value.length !== 0) {\n        panes.value = [];\n      }\n    };\n    const changeCurrentName = (value) => {\n      currentName.value = value;\n      ctx.emit(\"input\", value);\n      ctx.emit(\"update:modelValue\", value);\n    };\n    const setCurrentName = (value) => {\n      if (currentName.value === value)\n        return;\n      const beforeLeave = props.beforeLeave;\n      const before = beforeLeave && beforeLeave(value, currentName.value);\n      if (before && isPromise(before)) {\n        before.then(() => {\n          var _a, _b;\n          changeCurrentName(value);\n          (_b = (_a = nav$.value).removeFocus) == null ? void 0 : _b.call(_a);\n        }, () => {\n        });\n      } else if (before !== false) {\n        changeCurrentName(value);\n      }\n    };\n    const handleTabClick = (tab, tabName, event) => {\n      if (tab.props.disabled)\n        return;\n      setCurrentName(tabName);\n      ctx.emit(\"tab-click\", tab, event);\n    };\n    const handleTabRemove = (pane, ev) => {\n      if (pane.props.disabled)\n        return;\n      ev.stopPropagation();\n      ctx.emit(\"edit\", pane.props.name, \"remove\");\n      ctx.emit(\"tab-remove\", pane.props.name);\n    };\n    const handleTabAdd = () => {\n      ctx.emit(\"edit\", null, \"add\");\n      ctx.emit(\"tab-add\");\n    };\n    onUpdated(() => {\n      setPaneInstances();\n    });\n    onMounted(() => {\n      setPaneInstances();\n    });\n    return {\n      nav$,\n      handleTabClick,\n      handleTabRemove,\n      handleTabAdd,\n      currentName,\n      panes\n    };\n  },\n  render() {\n    var _a;\n    let {\n      type,\n      handleTabClick,\n      handleTabRemove,\n      handleTabAdd,\n      currentName,\n      panes,\n      editable,\n      addable,\n      tabPosition,\n      stretch\n    } = this;\n    const newButton = editable || addable ? h(\"span\", {\n      class: \"el-tabs__new-tab\",\n      tabindex: \"0\",\n      onClick: handleTabAdd,\n      onKeydown: (ev) => {\n        if (ev.code === EVENT_CODE.enter) {\n          handleTabAdd();\n        }\n      }\n    }, [h(\"i\", { class: \"el-icon-plus\" })]) : null;\n    const header = h(\"div\", {\n      class: [\"el-tabs__header\", `is-${tabPosition}`]\n    }, [\n      newButton,\n      h(script$1, {\n        currentName,\n        editable,\n        type,\n        panes,\n        stretch,\n        ref: \"nav$\",\n        onTabClick: handleTabClick,\n        onTabRemove: handleTabRemove\n      })\n    ]);\n    const panels = h(\"div\", {\n      class: \"el-tabs__content\"\n    }, (_a = this.$slots) == null ? void 0 : _a.default());\n    return h(\"div\", {\n      class: {\n        \"el-tabs\": true,\n        \"el-tabs--card\": type === \"card\",\n        [`el-tabs--${tabPosition}`]: true,\n        \"el-tabs--border-card\": type === \"border-card\"\n      }\n    }, tabPosition !== \"bottom\" ? [header, panels] : [panels, header]);\n  }\n});\n\nscript$2.__file = \"packages/tabs/src/tabs.vue\";\n\nscript$2.install = (app) => {\n  app.component(script$2.name, script$2);\n};\nconst _Tabs = script$2;\n\nexport default _Tabs;\n"]},"metadata":{},"sourceType":"module"}