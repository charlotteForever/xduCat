{"ast":null,"code":"import { inject, computed, getCurrentInstance, watch, onBeforeUnmount, defineComponent, reactive, toRefs, withDirectives, openBlock, createBlock, withModifiers, renderSlot, createVNode, toDisplayString, vShow, ref, onMounted, nextTick, provide, resolveComponent, resolveDirective, withCtx, createCommentVNode, Transition, Fragment, renderList, withKeys, vModelText, createSlots } from 'vue';\nimport ElInput from '../el-input';\nimport { getValueByPath, escapeRegexpString, useGlobalConfig, isIE, isEdge } from '../utils/util';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport ElTag from '../el-tag';\nimport ElPopper from '../el-popper';\nimport ElScrollbar from '../el-scrollbar';\nimport { ClickOutside } from '../directives';\nimport { useLocaleInject, useFocus } from '../hooks';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../utils/constants';\nimport { isValidComponentSize } from '../utils/validators';\nimport mitt from 'mitt';\nimport { EVENT_CODE } from '../utils/aria';\nimport isServer from '../utils/isServer';\nimport scrollIntoView from '../utils/scroll-into-view';\nimport lodashDebounce from 'lodash/debounce';\nimport { isKorean } from '../utils/isDef';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport isEqual from 'lodash/isEqual';\nconst selectGroupKey = \"ElSelectGroup\";\nconst selectKey = \"ElSelect\";\nconst selectEvents = {\n  queryChange: \"elOptionQueryChange\",\n  groupQueryChange: \"elOptionGroupQueryChange\"\n};\n\nfunction useOption(props, states) {\n  const select = inject(selectKey);\n  const selectGroup = inject(selectGroupKey, {\n    disabled: false\n  });\n  const isObject = computed(() => {\n    return Object.prototype.toString.call(props.value).toLowerCase() === \"[object object]\";\n  });\n  const itemSelected = computed(() => {\n    if (!select.props.multiple) {\n      return isEqual(props.value, select.props.modelValue);\n    } else {\n      return contains(select.props.modelValue, props.value);\n    }\n  });\n  const limitReached = computed(() => {\n    if (select.props.multiple) {\n      const modelValue = select.props.modelValue || [];\n      return !itemSelected.value && modelValue.length >= select.props.multipleLimit && select.props.multipleLimit > 0;\n    } else {\n      return false;\n    }\n  });\n  const currentLabel = computed(() => {\n    return props.label || (isObject.value ? \"\" : props.value);\n  });\n  const currentValue = computed(() => {\n    return props.value || props.label || \"\";\n  });\n  const isDisabled = computed(() => {\n    return props.disabled || states.groupDisabled || limitReached.value;\n  });\n  const instance = getCurrentInstance();\n\n  const contains = (arr = [], target) => {\n    if (!isObject.value) {\n      return arr && arr.indexOf(target) > -1;\n    } else {\n      const valueKey = select.props.valueKey;\n      return arr && arr.some(item => {\n        return getValueByPath(item, valueKey) === getValueByPath(target, valueKey);\n      });\n    }\n  };\n\n  const isEqual = (a, b) => {\n    if (!isObject.value) {\n      return a === b;\n    } else {\n      const {\n        valueKey\n      } = select.props;\n      return getValueByPath(a, valueKey) === getValueByPath(b, valueKey);\n    }\n  };\n\n  const hoverItem = () => {\n    if (!props.disabled && !selectGroup.disabled) {\n      select.hoverIndex = select.optionsArray.indexOf(instance);\n    }\n  };\n\n  const queryChange = query => {\n    const regexp = new RegExp(escapeRegexpString(query), \"i\");\n    states.visible = regexp.test(currentLabel.value) || props.created;\n\n    if (!states.visible) {\n      select.filteredOptionsCount--;\n    }\n  };\n\n  watch(() => currentLabel.value, () => {\n    if (!props.created && !select.props.remote) select.setSelected();\n  });\n  watch(() => props.value, (val, oldVal) => {\n    const {\n      remote,\n      valueKey\n    } = select.props;\n\n    if (!props.created && !remote) {\n      if (valueKey && typeof val === \"object\" && typeof oldVal === \"object\" && val[valueKey] === oldVal[valueKey]) {\n        return;\n      }\n\n      select.setSelected();\n    }\n  });\n  watch(() => selectGroup.disabled, () => {\n    states.groupDisabled = selectGroup.disabled;\n  }, {\n    immediate: true\n  });\n  select.selectEmitter.on(selectEvents.queryChange, queryChange);\n  onBeforeUnmount(() => {\n    select.selectEmitter.off(selectEvents.queryChange, queryChange);\n  });\n  return {\n    select,\n    currentLabel,\n    currentValue,\n    itemSelected,\n    isDisabled,\n    hoverItem\n  };\n}\n\nvar script = defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup(props) {\n    const states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n    const {\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem\n    } = useOption(props, states);\n    const {\n      visible,\n      hover\n    } = toRefs(states);\n    const vm = getCurrentInstance().proxy;\n    const key = vm.value;\n    select.onOptionCreate(vm);\n    onBeforeUnmount(() => {\n      const {\n        selected\n      } = select;\n      let selectedOptions = select.props.multiple ? selected : [selected];\n      const doesExist = select.cachedOptions.has(key);\n      const doesSelected = selectedOptions.some(item => {\n        return item.value === vm.value;\n      });\n\n      if (doesExist && !doesSelected) {\n        select.cachedOptions.delete(key);\n      }\n\n      select.onOptionDestroy(key);\n    });\n\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm, true);\n      }\n    }\n\n    return {\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick\n    };\n  }\n\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createBlock(\"li\", {\n    class: [\"el-select-dropdown__item\", {\n      \"selected\": _ctx.itemSelected,\n      \"is-disabled\": _ctx.isDisabled,\n      \"hover\": _ctx.hover\n    }],\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.hoverItem && _ctx.hoverItem(...args)),\n    onClick: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.selectOptionClick && _ctx.selectOptionClick(...args), [\"stop\"]))\n  }, [renderSlot(_ctx.$slots, \"default\", {}, () => [createVNode(\"span\", null, toDisplayString(_ctx.currentLabel), 1)])], 34)), [[vShow, _ctx.visible]]);\n}\n\nscript.render = render;\nscript.__file = \"packages/select/src/option.vue\";\nvar script$1 = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n\n  setup() {\n    const select = inject(selectKey);\n    const popperClass = computed(() => select.props.popperClass);\n    const isMultiple = computed(() => select.props.multiple);\n    const minWidth = ref(\"\");\n\n    function updateMinWidth() {\n      var _a;\n\n      minWidth.value = ((_a = select.selectWrapper) == null ? void 0 : _a.getBoundingClientRect().width) + \"px\";\n    }\n\n    onMounted(() => {\n      addResizeListener(select.selectWrapper, updateMinWidth);\n    });\n    onBeforeUnmount(() => {\n      removeResizeListener(select.selectWrapper, updateMinWidth);\n    });\n    return {\n      minWidth,\n      popperClass,\n      isMultiple\n    };\n  }\n\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-select-dropdown\", [{\n      \"is-multiple\": _ctx.isMultiple\n    }, _ctx.popperClass]],\n    style: {\n      minWidth: _ctx.minWidth\n    }\n  }, [renderSlot(_ctx.$slots, \"default\")], 6);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/select/src/select-dropdown.vue\";\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n * IMPORTANT: all calls of this function must be prefixed with\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\n * So that rollup can tree-shake them if necessary.\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nconst isObject = val => val !== null && typeof val === 'object';\n\nconst objectToString = Object.prototype.toString;\n\nconst toTypeString = value => objectToString.call(value);\n\nconst toRawType = value => {\n  // extract \"RawType\" from strings like \"[object RawType]\"\n  return toTypeString(value).slice(8, -1);\n};\n\nfunction useSelectStates(props) {\n  const {\n    t\n  } = useLocaleInject();\n  const selectEmitter = mitt();\n  return reactive({\n    options: new Map(),\n    cachedOptions: new Map(),\n    createdLabel: null,\n    createdSelected: false,\n    selected: props.multiple ? [] : {},\n    inputLength: 20,\n    inputWidth: 0,\n    initialInputHeight: 0,\n    optionsCount: 0,\n    filteredOptionsCount: 0,\n    visible: false,\n    softFocus: false,\n    selectedLabel: \"\",\n    hoverIndex: -1,\n    query: \"\",\n    previousQuery: null,\n    inputHovering: false,\n    cachedPlaceHolder: \"\",\n    currentPlaceholder: t(\"el.select.placeholder\"),\n    menuVisibleOnFocus: false,\n    isOnComposition: false,\n    isSilentBlur: false,\n    selectEmitter,\n    prefixWidth: null,\n    tagInMultiLine: false\n  });\n}\n\nconst useSelect = (props, states, ctx) => {\n  const ELEMENT = useGlobalConfig();\n  const {\n    t\n  } = useLocaleInject();\n  const reference = ref(null);\n  const input = ref(null);\n  const popper = ref(null);\n  const tags = ref(null);\n  const selectWrapper = ref(null);\n  const scrollbar = ref(null);\n  const hoverOption = ref(-1);\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const readonly = computed(() => !props.filterable || props.multiple || !isIE() && !isEdge() && !states.visible);\n  const selectDisabled = computed(() => props.disabled || elForm.disabled);\n  const showClose = computed(() => {\n    const hasValue = props.multiple ? Array.isArray(props.modelValue) && props.modelValue.length > 0 : props.modelValue !== void 0 && props.modelValue !== null && props.modelValue !== \"\";\n    const criteria = props.clearable && !selectDisabled.value && states.inputHovering && hasValue;\n    return criteria;\n  });\n  const iconClass = computed(() => props.remote && props.filterable ? \"\" : states.visible ? \"arrow-up is-reverse\" : \"arrow-up\");\n  const debounce = computed(() => props.remote ? 300 : 0);\n  const emptyText = computed(() => {\n    if (props.loading) {\n      return props.loadingText || t(\"el.select.loading\");\n    } else {\n      if (props.remote && states.query === \"\" && states.options.size === 0) return false;\n\n      if (props.filterable && states.query && states.options.size > 0 && states.filteredOptionsCount === 0) {\n        return props.noMatchText || t(\"el.select.noMatch\");\n      }\n\n      if (states.options.size === 0) {\n        return props.noDataText || t(\"el.select.noData\");\n      }\n    }\n\n    return null;\n  });\n  const optionsArray = computed(() => Array.from(states.options.values()));\n  const cachedOptionsArray = computed(() => Array.from(states.cachedOptions.values()));\n  const showNewOption = computed(() => {\n    const hasExistingOption = optionsArray.value.filter(option => {\n      return !option.created;\n    }).some(option => {\n      return option.currentLabel === states.query;\n    });\n    return props.filterable && props.allowCreate && states.query !== \"\" && !hasExistingOption;\n  });\n  const selectSize = computed(() => props.size || elFormItem.size || ELEMENT.size);\n  const collapseTagSize = computed(() => [\"small\", \"mini\"].indexOf(selectSize.value) > -1 ? \"mini\" : \"small\");\n  const dropMenuVisible = computed(() => states.visible && emptyText.value !== false);\n  watch(() => selectDisabled.value, () => {\n    nextTick(() => {\n      resetInputHeight();\n    });\n  });\n  watch(() => props.placeholder, val => {\n    states.cachedPlaceHolder = states.currentPlaceholder = val;\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    var _a;\n\n    if (props.multiple) {\n      resetInputHeight();\n\n      if (val && val.length > 0 || input.value && states.query !== \"\") {\n        states.currentPlaceholder = \"\";\n      } else {\n        states.currentPlaceholder = states.cachedPlaceHolder;\n      }\n\n      if (props.filterable && !props.reserveKeyword) {\n        states.query = \"\";\n        handleQueryChange(states.query);\n      }\n    }\n\n    setSelected();\n\n    if (props.filterable && !props.multiple) {\n      states.inputLength = 20;\n    }\n\n    if (!isEqual(val, oldVal)) {\n      (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val);\n    }\n  }, {\n    flush: \"post\",\n    deep: true\n  });\n  watch(() => states.visible, val => {\n    var _a, _b;\n\n    if (!val) {\n      input.value && input.value.blur();\n      states.query = \"\";\n      states.previousQuery = null;\n      states.selectedLabel = \"\";\n      states.inputLength = 20;\n      states.menuVisibleOnFocus = false;\n      resetHoverIndex();\n      nextTick(() => {\n        if (input.value && input.value.value === \"\" && states.selected.length === 0) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      });\n\n      if (!props.multiple) {\n        if (states.selected) {\n          if (props.filterable && props.allowCreate && states.createdSelected && states.createdLabel) {\n            states.selectedLabel = states.createdLabel;\n          } else {\n            states.selectedLabel = states.selected.currentLabel;\n          }\n\n          if (props.filterable) states.query = states.selectedLabel;\n        }\n\n        if (props.filterable) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      }\n    } else {\n      (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n\n      if (props.filterable) {\n        states.filteredOptionsCount = states.optionsCount;\n        states.query = props.remote ? \"\" : states.selectedLabel;\n\n        if (props.multiple) {\n          input.value.focus();\n        } else {\n          if (states.selectedLabel) {\n            states.currentPlaceholder = states.selectedLabel;\n            states.selectedLabel = \"\";\n          }\n        }\n\n        handleQueryChange(states.query);\n\n        if (!props.multiple && !props.remote) {\n          states.selectEmitter.emit(\"elOptionQueryChange\", \"\");\n          states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n        }\n      }\n    }\n\n    ctx.emit(\"visible-change\", val);\n  });\n  watch(() => states.options.entries(), () => {\n    var _a, _b, _c;\n\n    if (isServer) return;\n    (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n\n    if (props.multiple) {\n      resetInputHeight();\n    }\n\n    const inputs = ((_c = selectWrapper.value) == null ? void 0 : _c.querySelectorAll(\"input\")) || [];\n\n    if ([].indexOf.call(inputs, document.activeElement) === -1) {\n      setSelected();\n    }\n\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  }, {\n    flush: \"post\"\n  });\n  watch(() => states.hoverIndex, val => {\n    if (typeof val === \"number\" && val > -1) {\n      hoverOption.value = optionsArray.value[val] || {};\n    }\n\n    optionsArray.value.forEach(option => {\n      option.hover = hoverOption.value === option;\n    });\n  });\n\n  const resetInputHeight = () => {\n    if (props.collapseTags && !props.filterable) return;\n    nextTick(() => {\n      var _a, _b;\n\n      if (!reference.value) return;\n      const inputChildNodes = reference.value.$el.childNodes;\n      const input2 = [].filter.call(inputChildNodes, item => item.tagName === \"INPUT\")[0];\n      const _tags = tags.value;\n      const sizeInMap = states.initialInputHeight || 40;\n      input2.style.height = states.selected.length === 0 ? sizeInMap + \"px\" : Math.max(_tags ? _tags.clientHeight + (_tags.clientHeight > sizeInMap ? 6 : 0) : 0, sizeInMap) + \"px\";\n      states.tagInMultiLine = parseFloat(input2.style.height) > sizeInMap;\n\n      if (states.visible && emptyText.value !== false) {\n        (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n      }\n    });\n  };\n\n  const handleQueryChange = val => {\n    if (states.previousQuery === val || states.isOnComposition) return;\n\n    if (states.previousQuery === null && (typeof props.filterMethod === \"function\" || typeof props.remoteMethod === \"function\")) {\n      states.previousQuery = val;\n      return;\n    }\n\n    states.previousQuery = val;\n    nextTick(() => {\n      var _a, _b;\n\n      if (states.visible) (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n    });\n    states.hoverIndex = -1;\n\n    if (props.multiple && props.filterable) {\n      nextTick(() => {\n        const length = input.value.length * 15 + 20;\n        states.inputLength = props.collapseTags ? Math.min(50, length) : length;\n        managePlaceholder();\n        resetInputHeight();\n      });\n    }\n\n    if (props.remote && typeof props.remoteMethod === \"function\") {\n      states.hoverIndex = -1;\n      props.remoteMethod(val);\n    } else if (typeof props.filterMethod === \"function\") {\n      props.filterMethod(val);\n      states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n    } else {\n      states.filteredOptionsCount = states.optionsCount;\n      states.selectEmitter.emit(\"elOptionQueryChange\", val);\n      states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n    }\n\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  };\n\n  const managePlaceholder = () => {\n    if (states.currentPlaceholder !== \"\") {\n      states.currentPlaceholder = input.value.value ? \"\" : states.cachedPlaceHolder;\n    }\n  };\n\n  const checkDefaultFirstOption = () => {\n    const optionsInDropdown = optionsArray.value.filter(n => n.visible && !n.disabled && !n.groupDisabled);\n    const userCreatedOption = optionsInDropdown.filter(n => n.created)[0];\n    const firstOriginOption = optionsInDropdown[0];\n    states.hoverIndex = getValueIndex(optionsArray.value, userCreatedOption || firstOriginOption);\n  };\n\n  const setSelected = () => {\n    var _a;\n\n    if (!props.multiple) {\n      const option = getOption(props.modelValue);\n\n      if ((_a = option.props) == null ? void 0 : _a.created) {\n        states.createdLabel = option.props.value;\n        states.createdSelected = true;\n      } else {\n        states.createdSelected = false;\n      }\n\n      states.selectedLabel = option.currentLabel;\n      states.selected = option;\n      if (props.filterable) states.query = states.selectedLabel;\n      return;\n    }\n\n    const result = [];\n\n    if (Array.isArray(props.modelValue)) {\n      props.modelValue.forEach(value => {\n        result.push(getOption(value));\n      });\n    }\n\n    states.selected = result;\n    nextTick(() => {\n      resetInputHeight();\n    });\n  };\n\n  const getOption = value => {\n    let option;\n    const isObjectValue = toRawType(value).toLowerCase() === \"object\";\n    const isNull = toRawType(value).toLowerCase() === \"null\";\n    const isUndefined = toRawType(value).toLowerCase() === \"undefined\";\n\n    for (let i = states.cachedOptions.size - 1; i >= 0; i--) {\n      const cachedOption = cachedOptionsArray.value[i];\n      const isEqualValue = isObjectValue ? getValueByPath(cachedOption.value, props.valueKey) === getValueByPath(value, props.valueKey) : cachedOption.value === value;\n\n      if (isEqualValue) {\n        option = {\n          value,\n          currentLabel: cachedOption.currentLabel,\n          isDisabled: cachedOption.isDisabled\n        };\n        break;\n      }\n    }\n\n    if (option) return option;\n    const label = !isObjectValue && !isNull && !isUndefined ? value : \"\";\n    const newOption = {\n      value,\n      currentLabel: label\n    };\n\n    if (props.multiple) {\n      newOption.hitState = false;\n    }\n\n    return newOption;\n  };\n\n  const resetHoverIndex = () => {\n    setTimeout(() => {\n      const valueKey = props.valueKey;\n\n      if (!props.multiple) {\n        states.hoverIndex = optionsArray.value.findIndex(item => {\n          return getValueByPath(item, valueKey) === getValueByPath(states.selected, valueKey);\n        });\n      } else {\n        if (states.selected.length > 0) {\n          states.hoverIndex = Math.min.apply(null, states.selected.map(selected => {\n            return optionsArray.value.findIndex(item => {\n              return getValueByPath(item, valueKey) === getValueByPath(selected, valueKey);\n            });\n          }));\n        } else {\n          states.hoverIndex = -1;\n        }\n      }\n    }, 300);\n  };\n\n  const handleResize = () => {\n    var _a, _b;\n\n    resetInputWidth();\n    (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n    if (props.multiple) resetInputHeight();\n  };\n\n  const resetInputWidth = () => {\n    var _a;\n\n    states.inputWidth = (_a = reference.value) == null ? void 0 : _a.$el.getBoundingClientRect().width;\n  };\n\n  const onInputChange = () => {\n    if (props.filterable && states.query !== states.selectedLabel) {\n      states.query = states.selectedLabel;\n      handleQueryChange(states.query);\n    }\n  };\n\n  const debouncedOnInputChange = lodashDebounce(() => {\n    onInputChange();\n  }, debounce.value);\n  const debouncedQueryChange = lodashDebounce(e => {\n    handleQueryChange(e.target.value);\n  }, debounce.value);\n\n  const emitChange = val => {\n    if (!isEqual(props.modelValue, val)) {\n      ctx.emit(CHANGE_EVENT, val);\n    }\n  };\n\n  const deletePrevTag = e => {\n    if (e.target.value.length <= 0 && !toggleLastOptionHitState()) {\n      const value = props.modelValue.slice();\n      value.pop();\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n    }\n\n    if (e.target.value.length === 1 && props.modelValue.length === 0) {\n      states.currentPlaceholder = states.cachedPlaceHolder;\n    }\n  };\n\n  const deleteTag = (event, tag) => {\n    const index = states.selected.indexOf(tag);\n\n    if (index > -1 && !selectDisabled.value) {\n      const value = props.modelValue.slice();\n      value.splice(index, 1);\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      ctx.emit(\"remove-tag\", tag.value);\n    }\n\n    event.stopPropagation();\n  };\n\n  const deleteSelected = event => {\n    event.stopPropagation();\n    const value = props.multiple ? [] : \"\";\n\n    if (typeof value !== \"string\") {\n      for (const item of states.selected) {\n        if (item.isDisabled) value.push(item.value);\n      }\n    }\n\n    ctx.emit(UPDATE_MODEL_EVENT, value);\n    emitChange(value);\n    states.visible = false;\n    ctx.emit(\"clear\");\n  };\n\n  const handleOptionSelect = (option, byClick) => {\n    if (props.multiple) {\n      const value = (props.modelValue || []).slice();\n      const optionIndex = getValueIndex(value, option.value);\n\n      if (optionIndex > -1) {\n        value.splice(optionIndex, 1);\n      } else if (props.multipleLimit <= 0 || value.length < props.multipleLimit) {\n        value.push(option.value);\n      }\n\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n\n      if (option.created) {\n        states.query = \"\";\n        handleQueryChange(\"\");\n        states.inputLength = 20;\n      }\n\n      if (props.filterable) input.value.focus();\n    } else {\n      ctx.emit(UPDATE_MODEL_EVENT, option.value);\n      emitChange(option.value);\n      states.visible = false;\n    }\n\n    states.isSilentBlur = byClick;\n    setSoftFocus();\n    if (states.visible) return;\n    nextTick(() => {\n      scrollToOption(option);\n    });\n  };\n\n  const getValueIndex = (arr = [], value) => {\n    if (!isObject(value)) return arr.indexOf(value);\n    const valueKey = props.valueKey;\n    let index = -1;\n    arr.some((item, i) => {\n      if (getValueByPath(item, valueKey) === getValueByPath(value, valueKey)) {\n        index = i;\n        return true;\n      }\n\n      return false;\n    });\n    return index;\n  };\n\n  const setSoftFocus = () => {\n    states.softFocus = true;\n\n    const _input = input.value || reference.value;\n\n    if (_input) {\n      _input.focus();\n    }\n  };\n\n  const scrollToOption = option => {\n    var _a, _b, _c, _d;\n\n    const targetOption = Array.isArray(option) ? option[0] : option;\n    let target = null;\n\n    if (targetOption == null ? void 0 : targetOption.value) {\n      const options = optionsArray.value.filter(item => item.value === targetOption.value);\n\n      if (options.length > 0) {\n        target = options[0].$el;\n      }\n    }\n\n    if (popper.value && target) {\n      const menu = (_c = (_b = (_a = popper.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.querySelector) == null ? void 0 : _c.call(_b, \".el-select-dropdown__wrap\");\n\n      if (menu) {\n        scrollIntoView(menu, target);\n      }\n    }\n\n    (_d = scrollbar.value) == null ? void 0 : _d.handleScroll();\n  };\n\n  const onOptionCreate = vm => {\n    states.optionsCount++;\n    states.filteredOptionsCount++;\n    states.options.set(vm.value, vm);\n    states.cachedOptions.set(vm.value, vm);\n  };\n\n  const onOptionDestroy = key => {\n    states.optionsCount--;\n    states.filteredOptionsCount--;\n    states.options.delete(key);\n  };\n\n  const resetInputState = e => {\n    if (e.code !== EVENT_CODE.backspace) toggleLastOptionHitState(false);\n    states.inputLength = input.value.length * 15 + 20;\n    resetInputHeight();\n  };\n\n  const toggleLastOptionHitState = hit => {\n    if (!Array.isArray(states.selected)) return;\n    const option = states.selected[states.selected.length - 1];\n    if (!option) return;\n\n    if (hit === true || hit === false) {\n      option.hitState = hit;\n      return hit;\n    }\n\n    option.hitState = !option.hitState;\n    return option.hitState;\n  };\n\n  const handleComposition = event => {\n    const text = event.target.value;\n\n    if (event.type === \"compositionend\") {\n      states.isOnComposition = false;\n      nextTick(() => handleQueryChange(text));\n    } else {\n      const lastCharacter = text[text.length - 1] || \"\";\n      states.isOnComposition = !isKorean(lastCharacter);\n    }\n  };\n\n  const handleMenuEnter = () => {\n    nextTick(() => scrollToOption(states.selected));\n  };\n\n  const handleFocus = event => {\n    if (!states.softFocus) {\n      if (props.automaticDropdown || props.filterable) {\n        states.visible = true;\n\n        if (props.filterable) {\n          states.menuVisibleOnFocus = true;\n        }\n      }\n\n      ctx.emit(\"focus\", event);\n    } else {\n      states.softFocus = false;\n    }\n  };\n\n  const blur = () => {\n    states.visible = false;\n    reference.value.blur();\n  };\n\n  const handleBlur = event => {\n    nextTick(() => {\n      if (states.isSilentBlur) {\n        states.isSilentBlur = false;\n      } else {\n        ctx.emit(\"blur\", event);\n      }\n    });\n    states.softFocus = false;\n  };\n\n  const handleClearClick = event => {\n    deleteSelected(event);\n  };\n\n  const handleClose = () => {\n    states.visible = false;\n  };\n\n  const toggleMenu = () => {\n    if (props.automaticDropdown) return;\n\n    if (!selectDisabled.value) {\n      if (states.menuVisibleOnFocus) {\n        states.menuVisibleOnFocus = false;\n      } else {\n        states.visible = !states.visible;\n      }\n\n      if (states.visible) {\n        (input.value || reference.value).focus();\n      }\n    }\n  };\n\n  const selectOption = () => {\n    if (!states.visible) {\n      toggleMenu();\n    } else {\n      if (optionsArray.value[states.hoverIndex]) {\n        handleOptionSelect(optionsArray.value[states.hoverIndex], void 0);\n      }\n    }\n  };\n\n  const getValueKey = item => {\n    return isObject(item.value) ? getValueByPath(item.value, props.valueKey) : item.value;\n  };\n\n  const optionsAllDisabled = computed(() => optionsArray.value.filter(option => option.visible).every(option => option.disabled));\n\n  const navigateOptions = direction => {\n    if (!states.visible) {\n      states.visible = true;\n      return;\n    }\n\n    if (states.options.size === 0 || states.filteredOptionsCount === 0) return;\n\n    if (!optionsAllDisabled.value) {\n      if (direction === \"next\") {\n        states.hoverIndex++;\n\n        if (states.hoverIndex === states.options.size) {\n          states.hoverIndex = 0;\n        }\n      } else if (direction === \"prev\") {\n        states.hoverIndex--;\n\n        if (states.hoverIndex < 0) {\n          states.hoverIndex = states.options.size - 1;\n        }\n      }\n\n      const option = optionsArray.value[states.hoverIndex];\n\n      if (option.disabled === true || option.groupDisabled === true || !option.visible) {\n        navigateOptions(direction);\n      }\n\n      nextTick(() => scrollToOption(hoverOption.value));\n    }\n  };\n\n  return {\n    optionsArray,\n    selectSize,\n    handleResize,\n    debouncedOnInputChange,\n    debouncedQueryChange,\n    deletePrevTag,\n    deleteTag,\n    deleteSelected,\n    handleOptionSelect,\n    scrollToOption,\n    readonly,\n    resetInputHeight,\n    showClose,\n    iconClass,\n    showNewOption,\n    collapseTagSize,\n    setSelected,\n    managePlaceholder,\n    selectDisabled,\n    emptyText,\n    toggleLastOptionHitState,\n    resetInputState,\n    handleComposition,\n    onOptionCreate,\n    onOptionDestroy,\n    handleMenuEnter,\n    handleFocus,\n    blur,\n    handleBlur,\n    handleClearClick,\n    handleClose,\n    toggleMenu,\n    selectOption,\n    getValueKey,\n    navigateOptions,\n    dropMenuVisible,\n    reference,\n    input,\n    popper,\n    tags,\n    selectWrapper,\n    scrollbar\n  };\n};\n\nvar script$2 = defineComponent({\n  name: \"ElSelect\",\n  componentName: \"ElSelect\",\n  components: {\n    ElInput,\n    ElSelectMenu: script$1,\n    ElOption: script,\n    ElTag,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: {\n    ClickOutside\n  },\n  props: {\n    name: String,\n    id: String,\n    modelValue: [Array, String, Number, Boolean, Object],\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: \"\"\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: Boolean,\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    collapseTags: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    clearIcon: {\n      type: String,\n      default: \"el-icon-circle-close\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, \"remove-tag\", \"clear\", \"visible-change\", \"focus\", \"blur\"],\n\n  setup(props, ctx) {\n    const {\n      t\n    } = useLocaleInject();\n    const states = useSelectStates(props);\n    const {\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconClass,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      reference,\n      input,\n      popper,\n      tags,\n      selectWrapper,\n      scrollbar\n    } = useSelect(props, states, ctx);\n    const {\n      focus\n    } = useFocus(reference);\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine\n    } = toRefs(states);\n    provide(selectKey, reactive({\n      props,\n      options,\n      optionsArray,\n      cachedOptions,\n      optionsCount,\n      filteredOptionsCount,\n      hoverIndex,\n      handleOptionSelect,\n      selectEmitter: states.selectEmitter,\n      onOptionCreate,\n      onOptionDestroy,\n      selectWrapper,\n      selected,\n      setSelected\n    }));\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value = props.placeholder || t(\"el.select.placeholder\");\n\n      if (props.multiple && Array.isArray(props.modelValue) && props.modelValue.length > 0) {\n        currentPlaceholder.value = \"\";\n      }\n\n      addResizeListener(selectWrapper.value, handleResize);\n\n      if (reference.value && reference.value.$el) {\n        const sizeMap = {\n          medium: 36,\n          small: 32,\n          mini: 28\n        };\n        const input2 = reference.value.input;\n        states.initialInputHeight = input2.getBoundingClientRect().height || sizeMap[selectSize.value];\n      }\n\n      if (props.remote && props.multiple) {\n        resetInputHeight();\n      }\n\n      nextTick(() => {\n        if (reference.value.$el) {\n          inputWidth.value = reference.value.$el.getBoundingClientRect().width;\n        }\n\n        if (ctx.slots.prefix) {\n          const inputChildNodes = reference.value.$el.childNodes;\n          const input2 = [].filter.call(inputChildNodes, item => item.tagName === \"INPUT\")[0];\n          const prefix = reference.value.$el.querySelector(\".el-input__prefix\");\n          prefixWidth.value = Math.max(prefix.getBoundingClientRect().width + 5, 30);\n\n          if (states.prefixWidth) {\n            input2.style.paddingLeft = `${Math.max(states.prefixWidth, 30)}px`;\n          }\n        }\n      });\n      setSelected();\n    });\n    onBeforeUnmount(() => {\n      removeResizeListener(selectWrapper.value, handleResize);\n    });\n\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, []);\n    }\n\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, \"\");\n    }\n\n    const popperPaneRef = computed(() => {\n      var _a;\n\n      return (_a = popper.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconClass,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n      reference,\n      input,\n      popper,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"select-trigger\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"el-select__tags-text\"\n};\nconst _hoisted_4 = {\n  style: {\n    \"height\": \"100%\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"el-select-dropdown__empty\"\n};\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = resolveComponent(\"el-tag\");\n\n  const _component_el_input = resolveComponent(\"el-input\");\n\n  const _component_el_option = resolveComponent(\"el-option\");\n\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  const _component_el_select_menu = resolveComponent(\"el-select-menu\");\n\n  const _component_el_popper = resolveComponent(\"el-popper\");\n\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n\n  return withDirectives((openBlock(), createBlock(\"div\", {\n    ref: \"selectWrapper\",\n    class: [\"el-select\", [_ctx.selectSize ? \"el-select--\" + _ctx.selectSize : \"\"]],\n    onClick: _cache[26] || (_cache[26] = withModifiers((...args) => _ctx.toggleMenu && _ctx.toggleMenu(...args), [\"stop\"]))\n  }, [createVNode(_component_el_popper, {\n    ref: \"popper\",\n    visible: _ctx.dropMenuVisible,\n    \"onUpdate:visible\": _cache[25] || (_cache[25] = $event => _ctx.dropMenuVisible = $event),\n    placement: \"bottom-start\",\n    \"append-to-body\": _ctx.popperAppendToBody,\n    \"popper-class\": `el-select__popper ${_ctx.popperClass}`,\n    \"fallback-placements\": [\"bottom-start\", \"top-start\", \"right\", \"left\"],\n    \"manual-mode\": \"\",\n    effect: \"light\",\n    pure: \"\",\n    trigger: \"click\",\n    transition: \"el-zoom-in-top\",\n    \"stop-popper-mouse-event\": false,\n    \"gpu-acceleration\": false,\n    onBeforeEnter: _ctx.handleMenuEnter\n  }, {\n    trigger: withCtx(() => [createVNode(\"div\", _hoisted_1, [_ctx.multiple ? (openBlock(), createBlock(\"div\", {\n      key: 0,\n      ref: \"tags\",\n      class: \"el-select__tags\",\n      style: {\n        \"max-width\": _ctx.inputWidth - 32 + \"px\",\n        width: \"100%\"\n      }\n    }, [_ctx.collapseTags && _ctx.selected.length ? (openBlock(), createBlock(\"span\", _hoisted_2, [createVNode(_component_el_tag, {\n      closable: !_ctx.selectDisabled && !_ctx.selected[0].isDisabled,\n      size: _ctx.collapseTagSize,\n      hit: _ctx.selected[0].hitState,\n      type: \"info\",\n      \"disable-transitions\": \"\",\n      onClose: _cache[1] || (_cache[1] = $event => _ctx.deleteTag($event, _ctx.selected[0]))\n    }, {\n      default: withCtx(() => [createVNode(\"span\", {\n        class: \"el-select__tags-text\",\n        style: {\n          \"max-width\": _ctx.inputWidth - 123 + \"px\"\n        }\n      }, toDisplayString(_ctx.selected[0].currentLabel), 5)]),\n      _: 1\n    }, 8, [\"closable\", \"size\", \"hit\"]), _ctx.selected.length > 1 ? (openBlock(), createBlock(_component_el_tag, {\n      key: 0,\n      closable: false,\n      size: _ctx.collapseTagSize,\n      type: \"info\",\n      \"disable-transitions\": \"\"\n    }, {\n      default: withCtx(() => [createVNode(\"span\", _hoisted_3, \"+ \" + toDisplayString(_ctx.selected.length - 1), 1)]),\n      _: 1\n    }, 8, [\"size\"])) : createCommentVNode(\"v-if\", true)])) : createCommentVNode(\"v-if\", true), createCommentVNode(\" <div> \"), !_ctx.collapseTags ? (openBlock(), createBlock(Transition, {\n      key: 1,\n      onAfterLeave: _ctx.resetInputHeight\n    }, {\n      default: withCtx(() => [createVNode(\"span\", {\n        style: {\n          marginLeft: _ctx.prefixWidth && _ctx.selected.length ? `${_ctx.prefixWidth}px` : null\n        }\n      }, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.selected, item => {\n        return openBlock(), createBlock(_component_el_tag, {\n          key: _ctx.getValueKey(item),\n          closable: !_ctx.selectDisabled && !item.isDisabled,\n          size: _ctx.collapseTagSize,\n          hit: item.hitState,\n          type: \"info\",\n          \"disable-transitions\": \"\",\n          onClose: $event => _ctx.deleteTag($event, item)\n        }, {\n          default: withCtx(() => [createVNode(\"span\", {\n            class: \"el-select__tags-text\",\n            style: {\n              \"max-width\": _ctx.inputWidth - 75 + \"px\"\n            }\n          }, toDisplayString(item.currentLabel), 5)]),\n          _: 2\n        }, 1032, [\"closable\", \"size\", \"hit\", \"onClose\"]);\n      }), 128))], 4)]),\n      _: 1\n    }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true), createCommentVNode(\" </div> \"), _ctx.filterable ? withDirectives((openBlock(), createBlock(\"input\", {\n      key: 2,\n      ref: \"input\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.query = $event),\n      type: \"text\",\n      class: [\"el-select__input\", [_ctx.selectSize ? `is-${_ctx.selectSize}` : \"\"]],\n      disabled: _ctx.selectDisabled,\n      autocomplete: _ctx.autocomplete,\n      style: {\n        marginLeft: _ctx.prefixWidth && !_ctx.selected.length || _ctx.tagInMultiLine ? `${_ctx.prefixWidth}px` : null,\n        flexGrow: \"1\",\n        width: `${_ctx.inputLength / (_ctx.inputWidth - 32)}%`,\n        maxWidth: `${_ctx.inputWidth - 42}px`\n      },\n      onFocus: _cache[3] || (_cache[3] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n      onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.handleBlur && _ctx.handleBlur(...args)),\n      onKeyup: _cache[5] || (_cache[5] = (...args) => _ctx.managePlaceholder && _ctx.managePlaceholder(...args)),\n      onKeydown: [_cache[6] || (_cache[6] = (...args) => _ctx.resetInputState && _ctx.resetInputState(...args)), _cache[7] || (_cache[7] = withKeys(withModifiers($event => _ctx.navigateOptions(\"next\"), [\"prevent\"]), [\"down\"])), _cache[8] || (_cache[8] = withKeys(withModifiers($event => _ctx.navigateOptions(\"prev\"), [\"prevent\"]), [\"up\"])), _cache[9] || (_cache[9] = withKeys(withModifiers($event => _ctx.visible = false, [\"stop\", \"prevent\"]), [\"esc\"])), _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.selectOption && _ctx.selectOption(...args), [\"stop\", \"prevent\"]), [\"enter\"])), _cache[11] || (_cache[11] = withKeys((...args) => _ctx.deletePrevTag && _ctx.deletePrevTag(...args), [\"delete\"])), _cache[12] || (_cache[12] = withKeys($event => _ctx.visible = false, [\"tab\"]))],\n      onCompositionstart: _cache[13] || (_cache[13] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onCompositionupdate: _cache[14] || (_cache[14] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onCompositionend: _cache[15] || (_cache[15] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n      onInput: _cache[16] || (_cache[16] = (...args) => _ctx.debouncedQueryChange && _ctx.debouncedQueryChange(...args))\n    }, null, 46, [\"disabled\", \"autocomplete\"])), [[vModelText, _ctx.query]]) : createCommentVNode(\"v-if\", true)], 4)) : createCommentVNode(\"v-if\", true), createVNode(_component_el_input, {\n      id: _ctx.id,\n      ref: \"reference\",\n      modelValue: _ctx.selectedLabel,\n      \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => _ctx.selectedLabel = $event),\n      type: \"text\",\n      placeholder: _ctx.currentPlaceholder,\n      name: _ctx.name,\n      autocomplete: _ctx.autocomplete,\n      size: _ctx.selectSize,\n      disabled: _ctx.selectDisabled,\n      readonly: _ctx.readonly,\n      \"validate-event\": false,\n      class: {\n        \"is-focus\": _ctx.visible\n      },\n      tabindex: _ctx.multiple && _ctx.filterable ? \"-1\" : null,\n      onFocus: _ctx.handleFocus,\n      onBlur: _ctx.handleBlur,\n      onInput: _ctx.debouncedOnInputChange,\n      onPaste: _ctx.debouncedOnInputChange,\n      onKeydown: [_cache[19] || (_cache[19] = withKeys(withModifiers($event => _ctx.navigateOptions(\"next\"), [\"stop\", \"prevent\"]), [\"down\"])), _cache[20] || (_cache[20] = withKeys(withModifiers($event => _ctx.navigateOptions(\"prev\"), [\"stop\", \"prevent\"]), [\"up\"])), withKeys(withModifiers(_ctx.selectOption, [\"stop\", \"prevent\"]), [\"enter\"]), _cache[21] || (_cache[21] = withKeys(withModifiers($event => _ctx.visible = false, [\"stop\", \"prevent\"]), [\"esc\"])), _cache[22] || (_cache[22] = withKeys($event => _ctx.visible = false, [\"tab\"]))],\n      onMouseenter: _cache[23] || (_cache[23] = $event => _ctx.inputHovering = true),\n      onMouseleave: _cache[24] || (_cache[24] = $event => _ctx.inputHovering = false)\n    }, createSlots({\n      suffix: withCtx(() => [withDirectives(createVNode(\"i\", {\n        class: [\"el-select__caret\", \"el-input__icon\", \"el-icon-\" + _ctx.iconClass]\n      }, null, 2), [[vShow, !_ctx.showClose]]), _ctx.showClose ? (openBlock(), createBlock(\"i\", {\n        key: 0,\n        class: `el-select__caret el-input__icon ${_ctx.clearIcon}`,\n        onClick: _cache[17] || (_cache[17] = (...args) => _ctx.handleClearClick && _ctx.handleClearClick(...args))\n      }, null, 2)) : createCommentVNode(\"v-if\", true)]),\n      _: 2\n    }, [_ctx.$slots.prefix ? {\n      name: \"prefix\",\n      fn: withCtx(() => [createVNode(\"div\", _hoisted_4, [renderSlot(_ctx.$slots, \"prefix\")])])\n    } : void 0]), 1032, [\"id\", \"modelValue\", \"placeholder\", \"name\", \"autocomplete\", \"size\", \"disabled\", \"readonly\", \"class\", \"tabindex\", \"onFocus\", \"onBlur\", \"onInput\", \"onPaste\", \"onKeydown\"])])]),\n    default: withCtx(() => [createVNode(_component_el_select_menu, null, {\n      default: withCtx(() => [withDirectives(createVNode(_component_el_scrollbar, {\n        ref: \"scrollbar\",\n        tag: \"ul\",\n        \"wrap-class\": \"el-select-dropdown__wrap\",\n        \"view-class\": \"el-select-dropdown__list\",\n        class: {\n          \"is-empty\": !_ctx.allowCreate && _ctx.query && _ctx.filteredOptionsCount === 0\n        }\n      }, {\n        default: withCtx(() => [_ctx.showNewOption ? (openBlock(), createBlock(_component_el_option, {\n          key: 0,\n          value: _ctx.query,\n          created: true\n        }, null, 8, [\"value\"])) : createCommentVNode(\"v-if\", true), renderSlot(_ctx.$slots, \"default\")]),\n        _: 3\n      }, 8, [\"class\"]), [[vShow, _ctx.options.size > 0 && !_ctx.loading]]), _ctx.emptyText && (!_ctx.allowCreate || _ctx.loading || _ctx.allowCreate && _ctx.options.size === 0) ? (openBlock(), createBlock(Fragment, {\n        key: 0\n      }, [_ctx.$slots.empty ? renderSlot(_ctx.$slots, \"empty\", {\n        key: 0\n      }) : (openBlock(), createBlock(\"p\", _hoisted_5, toDisplayString(_ctx.emptyText), 1))], 2112)) : createCommentVNode(\"v-if\", true)]),\n      _: 3\n    })]),\n    _: 1\n  }, 8, [\"visible\", \"append-to-body\", \"popper-class\", \"onBeforeEnter\"])], 2)), [[_directive_click_outside, _ctx.handleClose, _ctx.popperPaneRef]]);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/select/src/select.vue\";\n\nscript$2.install = app => {\n  app.component(script$2.name, script$2);\n};\n\nconst _Select = script$2;\nexport default _Select;\nexport { script as Option };","map":{"version":3,"sources":["D:/A-大三下/web开发/xducat/xducat-client/node_modules/element-plus/es/el-select/index.js"],"names":["inject","computed","getCurrentInstance","watch","onBeforeUnmount","defineComponent","reactive","toRefs","withDirectives","openBlock","createBlock","withModifiers","renderSlot","createVNode","toDisplayString","vShow","ref","onMounted","nextTick","provide","resolveComponent","resolveDirective","withCtx","createCommentVNode","Transition","Fragment","renderList","withKeys","vModelText","createSlots","ElInput","getValueByPath","escapeRegexpString","useGlobalConfig","isIE","isEdge","addResizeListener","removeResizeListener","ElTag","ElPopper","ElScrollbar","ClickOutside","useLocaleInject","useFocus","UPDATE_MODEL_EVENT","CHANGE_EVENT","isValidComponentSize","mitt","EVENT_CODE","isServer","scrollIntoView","lodashDebounce","isKorean","elFormKey","elFormItemKey","isEqual","selectGroupKey","selectKey","selectEvents","queryChange","groupQueryChange","useOption","props","states","select","selectGroup","disabled","isObject","Object","prototype","toString","call","value","toLowerCase","itemSelected","multiple","modelValue","contains","limitReached","length","multipleLimit","currentLabel","label","currentValue","isDisabled","groupDisabled","instance","arr","target","indexOf","valueKey","some","item","a","b","hoverItem","hoverIndex","optionsArray","query","regexp","RegExp","visible","test","created","filteredOptionsCount","remote","setSelected","val","oldVal","immediate","selectEmitter","on","off","script","name","componentName","required","type","String","Number","Boolean","default","setup","index","hitState","hover","vm","proxy","key","onOptionCreate","selected","selectedOptions","doesExist","cachedOptions","has","doesSelected","delete","onOptionDestroy","selectOptionClick","handleOptionSelect","render","_ctx","_cache","$props","$setup","$data","$options","class","onMouseenter","args","onClick","$slots","__file","script$1","popperClass","isMultiple","minWidth","updateMinWidth","_a","selectWrapper","getBoundingClientRect","width","render$1","style","EMPTY_OBJ","process","env","NODE_ENV","freeze","EMPTY_ARR","objectToString","toTypeString","toRawType","slice","useSelectStates","t","options","Map","createdLabel","createdSelected","inputLength","inputWidth","initialInputHeight","optionsCount","softFocus","selectedLabel","previousQuery","inputHovering","cachedPlaceHolder","currentPlaceholder","menuVisibleOnFocus","isOnComposition","isSilentBlur","prefixWidth","tagInMultiLine","useSelect","ctx","ELEMENT","reference","input","popper","tags","scrollbar","hoverOption","elForm","elFormItem","readonly","filterable","selectDisabled","showClose","hasValue","Array","isArray","criteria","clearable","iconClass","debounce","emptyText","loading","loadingText","size","noMatchText","noDataText","from","values","cachedOptionsArray","showNewOption","hasExistingOption","filter","option","allowCreate","selectSize","collapseTagSize","dropMenuVisible","resetInputHeight","placeholder","reserveKeyword","handleQueryChange","formItemMitt","emit","flush","deep","_b","blur","resetHoverIndex","update","focus","entries","_c","inputs","querySelectorAll","document","activeElement","defaultFirstOption","checkDefaultFirstOption","forEach","collapseTags","inputChildNodes","$el","childNodes","input2","tagName","_tags","sizeInMap","height","Math","max","clientHeight","parseFloat","filterMethod","remoteMethod","min","managePlaceholder","optionsInDropdown","n","userCreatedOption","firstOriginOption","getValueIndex","getOption","result","push","isObjectValue","isNull","isUndefined","i","cachedOption","isEqualValue","newOption","setTimeout","findIndex","apply","map","handleResize","resetInputWidth","onInputChange","debouncedOnInputChange","debouncedQueryChange","e","emitChange","deletePrevTag","toggleLastOptionHitState","pop","deleteTag","event","tag","splice","stopPropagation","deleteSelected","byClick","optionIndex","setSoftFocus","scrollToOption","_input","_d","targetOption","menu","popperRef","querySelector","handleScroll","set","resetInputState","code","backspace","hit","handleComposition","text","lastCharacter","handleMenuEnter","handleFocus","automaticDropdown","handleBlur","handleClearClick","handleClose","toggleMenu","selectOption","getValueKey","optionsAllDisabled","every","navigateOptions","direction","script$2","components","ElSelectMenu","ElOption","directives","id","autocomplete","validator","Function","popperAppendToBody","clearIcon","emits","sizeMap","medium","small","mini","slots","prefix","paddingLeft","popperPaneRef","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","render$2","_component_el_tag","_component_el_input","_component_el_option","_component_el_scrollbar","_component_el_select_menu","_component_el_popper","_directive_click_outside","$event","placement","effect","pure","trigger","transition","onBeforeEnter","closable","onClose","_","onAfterLeave","marginLeft","flexGrow","maxWidth","onFocus","onBlur","onKeyup","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","tabindex","onPaste","onMouseleave","suffix","fn","empty","install","app","component","_Select","Option"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,QAAjB,EAA2BC,kBAA3B,EAA+CC,KAA/C,EAAsDC,eAAtD,EAAuEC,eAAvE,EAAwFC,QAAxF,EAAkGC,MAAlG,EAA0GC,cAA1G,EAA0HC,SAA1H,EAAqIC,WAArI,EAAkJC,aAAlJ,EAAiKC,UAAjK,EAA6KC,WAA7K,EAA0LC,eAA1L,EAA2MC,KAA3M,EAAkNC,GAAlN,EAAuNC,SAAvN,EAAkOC,QAAlO,EAA4OC,OAA5O,EAAqPC,gBAArP,EAAuQC,gBAAvQ,EAAyRC,OAAzR,EAAkSC,kBAAlS,EAAsTC,UAAtT,EAAkUC,QAAlU,EAA4UC,UAA5U,EAAwVC,QAAxV,EAAkWC,UAAlW,EAA8WC,WAA9W,QAAiY,KAAjY;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,SAASC,cAAT,EAAyBC,kBAAzB,EAA6CC,eAA7C,EAA8DC,IAA9D,EAAoEC,MAApE,QAAkF,eAAlF;AACA,SAASC,iBAAT,EAA4BC,oBAA5B,QAAwD,uBAAxD;AACA,OAAOC,KAAP,MAAkB,WAAlB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,YAAT,QAA6B,eAA7B;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,UAA1C;AACA,SAASC,kBAAT,EAA6BC,YAA7B,QAAiD,oBAAjD;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,SAAT,EAAoBC,aAApB,QAAyC,YAAzC;AACA,OAAOC,OAAP,MAAoB,gBAApB;AAEA,MAAMC,cAAc,GAAG,eAAvB;AACA,MAAMC,SAAS,GAAG,UAAlB;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,WAAW,EAAE,qBADM;AAEnBC,EAAAA,gBAAgB,EAAE;AAFC,CAArB;;AAKA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkC;AAChC,QAAMC,MAAM,GAAGhE,MAAM,CAACyD,SAAD,CAArB;AACA,QAAMQ,WAAW,GAAGjE,MAAM,CAACwD,cAAD,EAAiB;AAAEU,IAAAA,QAAQ,EAAE;AAAZ,GAAjB,CAA1B;AACA,QAAMC,QAAQ,GAAGlE,QAAQ,CAAC,MAAM;AAC9B,WAAOmE,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BT,KAAK,CAACU,KAArC,EAA4CC,WAA5C,OAA8D,iBAArE;AACD,GAFwB,CAAzB;AAGA,QAAMC,YAAY,GAAGzE,QAAQ,CAAC,MAAM;AAClC,QAAI,CAAC+D,MAAM,CAACF,KAAP,CAAaa,QAAlB,EAA4B;AAC1B,aAAOpB,OAAO,CAACO,KAAK,CAACU,KAAP,EAAcR,MAAM,CAACF,KAAP,CAAac,UAA3B,CAAd;AACD,KAFD,MAEO;AACL,aAAOC,QAAQ,CAACb,MAAM,CAACF,KAAP,CAAac,UAAd,EAA0Bd,KAAK,CAACU,KAAhC,CAAf;AACD;AACF,GAN4B,CAA7B;AAOA,QAAMM,YAAY,GAAG7E,QAAQ,CAAC,MAAM;AAClC,QAAI+D,MAAM,CAACF,KAAP,CAAaa,QAAjB,EAA2B;AACzB,YAAMC,UAAU,GAAGZ,MAAM,CAACF,KAAP,CAAac,UAAb,IAA2B,EAA9C;AACA,aAAO,CAACF,YAAY,CAACF,KAAd,IAAuBI,UAAU,CAACG,MAAX,IAAqBf,MAAM,CAACF,KAAP,CAAakB,aAAzD,IAA0EhB,MAAM,CAACF,KAAP,CAAakB,aAAb,GAA6B,CAA9G;AACD,KAHD,MAGO;AACL,aAAO,KAAP;AACD;AACF,GAP4B,CAA7B;AAQA,QAAMC,YAAY,GAAGhF,QAAQ,CAAC,MAAM;AAClC,WAAO6D,KAAK,CAACoB,KAAN,KAAgBf,QAAQ,CAACK,KAAT,GAAiB,EAAjB,GAAsBV,KAAK,CAACU,KAA5C,CAAP;AACD,GAF4B,CAA7B;AAGA,QAAMW,YAAY,GAAGlF,QAAQ,CAAC,MAAM;AAClC,WAAO6D,KAAK,CAACU,KAAN,IAAeV,KAAK,CAACoB,KAArB,IAA8B,EAArC;AACD,GAF4B,CAA7B;AAGA,QAAME,UAAU,GAAGnF,QAAQ,CAAC,MAAM;AAChC,WAAO6D,KAAK,CAACI,QAAN,IAAkBH,MAAM,CAACsB,aAAzB,IAA0CP,YAAY,CAACN,KAA9D;AACD,GAF0B,CAA3B;AAGA,QAAMc,QAAQ,GAAGpF,kBAAkB,EAAnC;;AACA,QAAM2E,QAAQ,GAAG,CAACU,GAAG,GAAG,EAAP,EAAWC,MAAX,KAAsB;AACrC,QAAI,CAACrB,QAAQ,CAACK,KAAd,EAAqB;AACnB,aAAOe,GAAG,IAAIA,GAAG,CAACE,OAAJ,CAAYD,MAAZ,IAAsB,CAAC,CAArC;AACD,KAFD,MAEO;AACL,YAAME,QAAQ,GAAG1B,MAAM,CAACF,KAAP,CAAa4B,QAA9B;AACA,aAAOH,GAAG,IAAIA,GAAG,CAACI,IAAJ,CAAUC,IAAD,IAAU;AAC/B,eAAO7D,cAAc,CAAC6D,IAAD,EAAOF,QAAP,CAAd,KAAmC3D,cAAc,CAACyD,MAAD,EAASE,QAAT,CAAxD;AACD,OAFa,CAAd;AAGD;AACF,GATD;;AAUA,QAAMnC,OAAO,GAAG,CAACsC,CAAD,EAAIC,CAAJ,KAAU;AACxB,QAAI,CAAC3B,QAAQ,CAACK,KAAd,EAAqB;AACnB,aAAOqB,CAAC,KAAKC,CAAb;AACD,KAFD,MAEO;AACL,YAAM;AAAEJ,QAAAA;AAAF,UAAe1B,MAAM,CAACF,KAA5B;AACA,aAAO/B,cAAc,CAAC8D,CAAD,EAAIH,QAAJ,CAAd,KAAgC3D,cAAc,CAAC+D,CAAD,EAAIJ,QAAJ,CAArD;AACD;AACF,GAPD;;AAQA,QAAMK,SAAS,GAAG,MAAM;AACtB,QAAI,CAACjC,KAAK,CAACI,QAAP,IAAmB,CAACD,WAAW,CAACC,QAApC,EAA8C;AAC5CF,MAAAA,MAAM,CAACgC,UAAP,GAAoBhC,MAAM,CAACiC,YAAP,CAAoBR,OAApB,CAA4BH,QAA5B,CAApB;AACD;AACF,GAJD;;AAKA,QAAM3B,WAAW,GAAIuC,KAAD,IAAW;AAC7B,UAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAWpE,kBAAkB,CAACkE,KAAD,CAA7B,EAAsC,GAAtC,CAAf;AACAnC,IAAAA,MAAM,CAACsC,OAAP,GAAiBF,MAAM,CAACG,IAAP,CAAYrB,YAAY,CAACT,KAAzB,KAAmCV,KAAK,CAACyC,OAA1D;;AACA,QAAI,CAACxC,MAAM,CAACsC,OAAZ,EAAqB;AACnBrC,MAAAA,MAAM,CAACwC,oBAAP;AACD;AACF,GAND;;AAOArG,EAAAA,KAAK,CAAC,MAAM8E,YAAY,CAACT,KAApB,EAA2B,MAAM;AACpC,QAAI,CAACV,KAAK,CAACyC,OAAP,IAAkB,CAACvC,MAAM,CAACF,KAAP,CAAa2C,MAApC,EACEzC,MAAM,CAAC0C,WAAP;AACH,GAHI,CAAL;AAIAvG,EAAAA,KAAK,CAAC,MAAM2D,KAAK,CAACU,KAAb,EAAoB,CAACmC,GAAD,EAAMC,MAAN,KAAiB;AACxC,UAAM;AAAEH,MAAAA,MAAF;AAAUf,MAAAA;AAAV,QAAuB1B,MAAM,CAACF,KAApC;;AACA,QAAI,CAACA,KAAK,CAACyC,OAAP,IAAkB,CAACE,MAAvB,EAA+B;AAC7B,UAAIf,QAAQ,IAAI,OAAOiB,GAAP,KAAe,QAA3B,IAAuC,OAAOC,MAAP,KAAkB,QAAzD,IAAqED,GAAG,CAACjB,QAAD,CAAH,KAAkBkB,MAAM,CAAClB,QAAD,CAAjG,EAA6G;AAC3G;AACD;;AACD1B,MAAAA,MAAM,CAAC0C,WAAP;AACD;AACF,GARI,CAAL;AASAvG,EAAAA,KAAK,CAAC,MAAM8D,WAAW,CAACC,QAAnB,EAA6B,MAAM;AACtCH,IAAAA,MAAM,CAACsB,aAAP,GAAuBpB,WAAW,CAACC,QAAnC;AACD,GAFI,EAEF;AAAE2C,IAAAA,SAAS,EAAE;AAAb,GAFE,CAAL;AAGA7C,EAAAA,MAAM,CAAC8C,aAAP,CAAqBC,EAArB,CAAwBrD,YAAY,CAACC,WAArC,EAAkDA,WAAlD;AACAvD,EAAAA,eAAe,CAAC,MAAM;AACpB4D,IAAAA,MAAM,CAAC8C,aAAP,CAAqBE,GAArB,CAAyBtD,YAAY,CAACC,WAAtC,EAAmDA,WAAnD;AACD,GAFc,CAAf;AAGA,SAAO;AACLK,IAAAA,MADK;AAELiB,IAAAA,YAFK;AAGLE,IAAAA,YAHK;AAILT,IAAAA,YAJK;AAKLU,IAAAA,UALK;AAMLW,IAAAA;AANK,GAAP;AAQD;;AAED,IAAIkB,MAAM,GAAG5G,eAAe,CAAC;AAC3B6G,EAAAA,IAAI,EAAE,UADqB;AAE3BC,EAAAA,aAAa,EAAE,UAFY;AAG3BrD,EAAAA,KAAK,EAAE;AACLU,IAAAA,KAAK,EAAE;AACL4C,MAAAA,QAAQ,EAAE,IADL;AAELC,MAAAA,IAAI,EAAE,CAACC,MAAD,EAASC,MAAT,EAAiBC,OAAjB,EAA0BpD,MAA1B;AAFD,KADF;AAKLc,IAAAA,KAAK,EAAE,CAACoC,MAAD,EAASC,MAAT,CALF;AAMLhB,IAAAA,OAAO,EAAEiB,OANJ;AAOLtD,IAAAA,QAAQ,EAAE;AACRmD,MAAAA,IAAI,EAAEG,OADE;AAERC,MAAAA,OAAO,EAAE;AAFD;AAPL,GAHoB;;AAe3BC,EAAAA,KAAK,CAAC5D,KAAD,EAAQ;AACX,UAAMC,MAAM,GAAGzD,QAAQ,CAAC;AACtBqH,MAAAA,KAAK,EAAE,CAAC,CADc;AAEtBtC,MAAAA,aAAa,EAAE,KAFO;AAGtBgB,MAAAA,OAAO,EAAE,IAHa;AAItBuB,MAAAA,QAAQ,EAAE,KAJY;AAKtBC,MAAAA,KAAK,EAAE;AALe,KAAD,CAAvB;AAOA,UAAM;AACJ5C,MAAAA,YADI;AAEJP,MAAAA,YAFI;AAGJU,MAAAA,UAHI;AAIJpB,MAAAA,MAJI;AAKJ+B,MAAAA;AALI,QAMFlC,SAAS,CAACC,KAAD,EAAQC,MAAR,CANb;AAOA,UAAM;AACJsC,MAAAA,OADI;AAEJwB,MAAAA;AAFI,QAGFtH,MAAM,CAACwD,MAAD,CAHV;AAIA,UAAM+D,EAAE,GAAG5H,kBAAkB,GAAG6H,KAAhC;AACA,UAAMC,GAAG,GAAGF,EAAE,CAACtD,KAAf;AACAR,IAAAA,MAAM,CAACiE,cAAP,CAAsBH,EAAtB;AACA1H,IAAAA,eAAe,CAAC,MAAM;AACpB,YAAM;AAAE8H,QAAAA;AAAF,UAAelE,MAArB;AACA,UAAImE,eAAe,GAAGnE,MAAM,CAACF,KAAP,CAAaa,QAAb,GAAwBuD,QAAxB,GAAmC,CAACA,QAAD,CAAzD;AACA,YAAME,SAAS,GAAGpE,MAAM,CAACqE,aAAP,CAAqBC,GAArB,CAAyBN,GAAzB,CAAlB;AACA,YAAMO,YAAY,GAAGJ,eAAe,CAACxC,IAAhB,CAAsBC,IAAD,IAAU;AAClD,eAAOA,IAAI,CAACpB,KAAL,KAAesD,EAAE,CAACtD,KAAzB;AACD,OAFoB,CAArB;;AAGA,UAAI4D,SAAS,IAAI,CAACG,YAAlB,EAAgC;AAC9BvE,QAAAA,MAAM,CAACqE,aAAP,CAAqBG,MAArB,CAA4BR,GAA5B;AACD;;AACDhE,MAAAA,MAAM,CAACyE,eAAP,CAAuBT,GAAvB;AACD,KAXc,CAAf;;AAYA,aAASU,iBAAT,GAA6B;AAC3B,UAAI5E,KAAK,CAACI,QAAN,KAAmB,IAAnB,IAA2BH,MAAM,CAACsB,aAAP,KAAyB,IAAxD,EAA8D;AAC5DrB,QAAAA,MAAM,CAAC2E,kBAAP,CAA0Bb,EAA1B,EAA8B,IAA9B;AACD;AACF;;AACD,WAAO;AACL7C,MAAAA,YADK;AAELP,MAAAA,YAFK;AAGLU,MAAAA,UAHK;AAILpB,MAAAA,MAJK;AAKL+B,MAAAA,SALK;AAMLM,MAAAA,OANK;AAOLwB,MAAAA,KAPK;AAQLa,MAAAA;AARK,KAAP;AAUD;;AAhE0B,CAAD,CAA5B;;AAmEA,SAASE,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,MAAtC,EAA8CC,KAA9C,EAAqDC,QAArD,EAA+D;AAC7D,SAAO1I,cAAc,EAAEC,SAAS,IAAIC,WAAW,CAAC,IAAD,EAAO;AACpDyI,IAAAA,KAAK,EAAE,CAAC,0BAAD,EAA6B;AAClC,kBAAYN,IAAI,CAACnE,YADiB;AAElC,qBAAemE,IAAI,CAACzD,UAFc;AAGlC,eAASyD,IAAI,CAAChB;AAHoB,KAA7B,CAD6C;AAMpDuB,IAAAA,YAAY,EAAEN,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAAC9C,SAAL,IAAkB8C,IAAI,CAAC9C,SAAL,CAAe,GAAGsD,IAAlB,CAAzD,CANsC;AAOpDC,IAAAA,OAAO,EAAER,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAYnI,aAAa,CAAC,CAAC,GAAG0I,IAAJ,KAAaR,IAAI,CAACH,iBAAL,IAA0BG,IAAI,CAACH,iBAAL,CAAuB,GAAGW,IAA1B,CAAxC,EAAyE,CAAC,MAAD,CAAzE,CAAvC;AAP2C,GAAP,EAQ5C,CACDzI,UAAU,CAACiI,IAAI,CAACU,MAAN,EAAc,SAAd,EAAyB,EAAzB,EAA6B,MAAM,CAC3C1I,WAAW,CAAC,MAAD,EAAS,IAAT,EAAeC,eAAe,CAAC+H,IAAI,CAAC5D,YAAN,CAA9B,EAAmD,CAAnD,CADgC,CAAnC,CADT,CAR4C,EAY5C,EAZ4C,CAA1B,GAYZ,CACP,CAAClE,KAAD,EAAQ8H,IAAI,CAACxC,OAAb,CADO,CAZY,CAArB;AAeD;;AAEDY,MAAM,CAAC2B,MAAP,GAAgBA,MAAhB;AACA3B,MAAM,CAACuC,MAAP,GAAgB,gCAAhB;AAEA,IAAIC,QAAQ,GAAGpJ,eAAe,CAAC;AAC7B6G,EAAAA,IAAI,EAAE,kBADuB;AAE7BC,EAAAA,aAAa,EAAE,kBAFc;;AAG7BO,EAAAA,KAAK,GAAG;AACN,UAAM1D,MAAM,GAAGhE,MAAM,CAACyD,SAAD,CAArB;AACA,UAAMiG,WAAW,GAAGzJ,QAAQ,CAAC,MAAM+D,MAAM,CAACF,KAAP,CAAa4F,WAApB,CAA5B;AACA,UAAMC,UAAU,GAAG1J,QAAQ,CAAC,MAAM+D,MAAM,CAACF,KAAP,CAAaa,QAApB,CAA3B;AACA,UAAMiF,QAAQ,GAAG5I,GAAG,CAAC,EAAD,CAApB;;AACA,aAAS6I,cAAT,GAA0B;AACxB,UAAIC,EAAJ;;AACAF,MAAAA,QAAQ,CAACpF,KAAT,GAAiB,CAAC,CAACsF,EAAE,GAAG9F,MAAM,CAAC+F,aAAb,KAA+B,IAA/B,GAAsC,KAAK,CAA3C,GAA+CD,EAAE,CAACE,qBAAH,GAA2BC,KAA3E,IAAoF,IAArG;AACD;;AACDhJ,IAAAA,SAAS,CAAC,MAAM;AACdmB,MAAAA,iBAAiB,CAAC4B,MAAM,CAAC+F,aAAR,EAAuBF,cAAvB,CAAjB;AACD,KAFQ,CAAT;AAGAzJ,IAAAA,eAAe,CAAC,MAAM;AACpBiC,MAAAA,oBAAoB,CAAC2B,MAAM,CAAC+F,aAAR,EAAuBF,cAAvB,CAApB;AACD,KAFc,CAAf;AAGA,WAAO;AACLD,MAAAA,QADK;AAELF,MAAAA,WAFK;AAGLC,MAAAA;AAHK,KAAP;AAKD;;AAvB4B,CAAD,CAA9B;;AA0BA,SAASO,QAAT,CAAkBrB,IAAlB,EAAwBC,MAAxB,EAAgCC,MAAhC,EAAwCC,MAAxC,EAAgDC,KAAhD,EAAuDC,QAAvD,EAAiE;AAC/D,SAAOzI,SAAS,IAAIC,WAAW,CAAC,KAAD,EAAQ;AACrCyI,IAAAA,KAAK,EAAE,CAAC,oBAAD,EAAuB,CAAC;AAAE,qBAAeN,IAAI,CAACc;AAAtB,KAAD,EAAqCd,IAAI,CAACa,WAA1C,CAAvB,CAD8B;AAErCS,IAAAA,KAAK,EAAE;AAAEP,MAAAA,QAAQ,EAAEf,IAAI,CAACe;AAAjB;AAF8B,GAAR,EAG5B,CACDhJ,UAAU,CAACiI,IAAI,CAACU,MAAN,EAAc,SAAd,CADT,CAH4B,EAK5B,CAL4B,CAA/B;AAMD;;AAEDE,QAAQ,CAACb,MAAT,GAAkBsB,QAAlB;AACAT,QAAQ,CAACD,MAAT,GAAkB,yCAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMY,SAAS,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA1B,GACZnG,MAAM,CAACoG,MAAP,CAAc,EAAd,CADY,GAEZ,EAFN;AAGA,MAAMC,SAAS,GAAIJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA1B,GAA0CnG,MAAM,CAACoG,MAAP,CAAc,EAAd,CAA1C,GAA8D,EAAhF;;AACA,MAAMrG,QAAQ,GAAIwC,GAAD,IAASA,GAAG,KAAK,IAAR,IAAgB,OAAOA,GAAP,KAAe,QAAzD;;AACA,MAAM+D,cAAc,GAAGtG,MAAM,CAACC,SAAP,CAAiBC,QAAxC;;AACA,MAAMqG,YAAY,GAAInG,KAAD,IAAWkG,cAAc,CAACnG,IAAf,CAAoBC,KAApB,CAAhC;;AACA,MAAMoG,SAAS,GAAIpG,KAAD,IAAW;AACzB;AACA,SAAOmG,YAAY,CAACnG,KAAD,CAAZ,CAAoBqG,KAApB,CAA0B,CAA1B,EAA6B,CAAC,CAA9B,CAAP;AACH,CAHD;;AAKA,SAASC,eAAT,CAAyBhH,KAAzB,EAAgC;AAC9B,QAAM;AAAEiH,IAAAA;AAAF,MAAQrI,eAAe,EAA7B;AACA,QAAMoE,aAAa,GAAG/D,IAAI,EAA1B;AACA,SAAOzC,QAAQ,CAAC;AACd0K,IAAAA,OAAO,EAAE,IAAIC,GAAJ,EADK;AAEd5C,IAAAA,aAAa,EAAE,IAAI4C,GAAJ,EAFD;AAGdC,IAAAA,YAAY,EAAE,IAHA;AAIdC,IAAAA,eAAe,EAAE,KAJH;AAKdjD,IAAAA,QAAQ,EAAEpE,KAAK,CAACa,QAAN,GAAiB,EAAjB,GAAsB,EALlB;AAMdyG,IAAAA,WAAW,EAAE,EANC;AAOdC,IAAAA,UAAU,EAAE,CAPE;AAQdC,IAAAA,kBAAkB,EAAE,CARN;AASdC,IAAAA,YAAY,EAAE,CATA;AAUd/E,IAAAA,oBAAoB,EAAE,CAVR;AAWdH,IAAAA,OAAO,EAAE,KAXK;AAYdmF,IAAAA,SAAS,EAAE,KAZG;AAadC,IAAAA,aAAa,EAAE,EAbD;AAcdzF,IAAAA,UAAU,EAAE,CAAC,CAdC;AAedE,IAAAA,KAAK,EAAE,EAfO;AAgBdwF,IAAAA,aAAa,EAAE,IAhBD;AAiBdC,IAAAA,aAAa,EAAE,KAjBD;AAkBdC,IAAAA,iBAAiB,EAAE,EAlBL;AAmBdC,IAAAA,kBAAkB,EAAEd,CAAC,CAAC,uBAAD,CAnBP;AAoBde,IAAAA,kBAAkB,EAAE,KApBN;AAqBdC,IAAAA,eAAe,EAAE,KArBH;AAsBdC,IAAAA,YAAY,EAAE,KAtBA;AAuBdlF,IAAAA,aAvBc;AAwBdmF,IAAAA,WAAW,EAAE,IAxBC;AAyBdC,IAAAA,cAAc,EAAE;AAzBF,GAAD,CAAf;AA2BD;;AACD,MAAMC,SAAS,GAAG,CAACrI,KAAD,EAAQC,MAAR,EAAgBqI,GAAhB,KAAwB;AACxC,QAAMC,OAAO,GAAGpK,eAAe,EAA/B;AACA,QAAM;AAAE8I,IAAAA;AAAF,MAAQrI,eAAe,EAA7B;AACA,QAAM4J,SAAS,GAAGtL,GAAG,CAAC,IAAD,CAArB;AACA,QAAMuL,KAAK,GAAGvL,GAAG,CAAC,IAAD,CAAjB;AACA,QAAMwL,MAAM,GAAGxL,GAAG,CAAC,IAAD,CAAlB;AACA,QAAMyL,IAAI,GAAGzL,GAAG,CAAC,IAAD,CAAhB;AACA,QAAM+I,aAAa,GAAG/I,GAAG,CAAC,IAAD,CAAzB;AACA,QAAM0L,SAAS,GAAG1L,GAAG,CAAC,IAAD,CAArB;AACA,QAAM2L,WAAW,GAAG3L,GAAG,CAAC,CAAC,CAAF,CAAvB;AACA,QAAM4L,MAAM,GAAG5M,MAAM,CAACqD,SAAD,EAAY,EAAZ,CAArB;AACA,QAAMwJ,UAAU,GAAG7M,MAAM,CAACsD,aAAD,EAAgB,EAAhB,CAAzB;AACA,QAAMwJ,QAAQ,GAAG7M,QAAQ,CAAC,MAAM,CAAC6D,KAAK,CAACiJ,UAAP,IAAqBjJ,KAAK,CAACa,QAA3B,IAAuC,CAACzC,IAAI,EAAL,IAAW,CAACC,MAAM,EAAlB,IAAwB,CAAC4B,MAAM,CAACsC,OAA9E,CAAzB;AACA,QAAM2G,cAAc,GAAG/M,QAAQ,CAAC,MAAM6D,KAAK,CAACI,QAAN,IAAkB0I,MAAM,CAAC1I,QAAhC,CAA/B;AACA,QAAM+I,SAAS,GAAGhN,QAAQ,CAAC,MAAM;AAC/B,UAAMiN,QAAQ,GAAGpJ,KAAK,CAACa,QAAN,GAAiBwI,KAAK,CAACC,OAAN,CAActJ,KAAK,CAACc,UAApB,KAAmCd,KAAK,CAACc,UAAN,CAAiBG,MAAjB,GAA0B,CAA9E,GAAkFjB,KAAK,CAACc,UAAN,KAAqB,KAAK,CAA1B,IAA+Bd,KAAK,CAACc,UAAN,KAAqB,IAApD,IAA4Dd,KAAK,CAACc,UAAN,KAAqB,EAApL;AACA,UAAMyI,QAAQ,GAAGvJ,KAAK,CAACwJ,SAAN,IAAmB,CAACN,cAAc,CAACxI,KAAnC,IAA4CT,MAAM,CAAC4H,aAAnD,IAAoEuB,QAArF;AACA,WAAOG,QAAP;AACD,GAJyB,CAA1B;AAKA,QAAME,SAAS,GAAGtN,QAAQ,CAAC,MAAM6D,KAAK,CAAC2C,MAAN,IAAgB3C,KAAK,CAACiJ,UAAtB,GAAmC,EAAnC,GAAwChJ,MAAM,CAACsC,OAAP,GAAiB,qBAAjB,GAAyC,UAAxF,CAA1B;AACA,QAAMmH,QAAQ,GAAGvN,QAAQ,CAAC,MAAM6D,KAAK,CAAC2C,MAAN,GAAe,GAAf,GAAqB,CAA5B,CAAzB;AACA,QAAMgH,SAAS,GAAGxN,QAAQ,CAAC,MAAM;AAC/B,QAAI6D,KAAK,CAAC4J,OAAV,EAAmB;AACjB,aAAO5J,KAAK,CAAC6J,WAAN,IAAqB5C,CAAC,CAAC,mBAAD,CAA7B;AACD,KAFD,MAEO;AACL,UAAIjH,KAAK,CAAC2C,MAAN,IAAgB1C,MAAM,CAACmC,KAAP,KAAiB,EAAjC,IAAuCnC,MAAM,CAACiH,OAAP,CAAe4C,IAAf,KAAwB,CAAnE,EACE,OAAO,KAAP;;AACF,UAAI9J,KAAK,CAACiJ,UAAN,IAAoBhJ,MAAM,CAACmC,KAA3B,IAAoCnC,MAAM,CAACiH,OAAP,CAAe4C,IAAf,GAAsB,CAA1D,IAA+D7J,MAAM,CAACyC,oBAAP,KAAgC,CAAnG,EAAsG;AACpG,eAAO1C,KAAK,CAAC+J,WAAN,IAAqB9C,CAAC,CAAC,mBAAD,CAA7B;AACD;;AACD,UAAIhH,MAAM,CAACiH,OAAP,CAAe4C,IAAf,KAAwB,CAA5B,EAA+B;AAC7B,eAAO9J,KAAK,CAACgK,UAAN,IAAoB/C,CAAC,CAAC,kBAAD,CAA5B;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAdyB,CAA1B;AAeA,QAAM9E,YAAY,GAAGhG,QAAQ,CAAC,MAAMkN,KAAK,CAACY,IAAN,CAAWhK,MAAM,CAACiH,OAAP,CAAegD,MAAf,EAAX,CAAP,CAA7B;AACA,QAAMC,kBAAkB,GAAGhO,QAAQ,CAAC,MAAMkN,KAAK,CAACY,IAAN,CAAWhK,MAAM,CAACsE,aAAP,CAAqB2F,MAArB,EAAX,CAAP,CAAnC;AACA,QAAME,aAAa,GAAGjO,QAAQ,CAAC,MAAM;AACnC,UAAMkO,iBAAiB,GAAGlI,YAAY,CAACzB,KAAb,CAAmB4J,MAAnB,CAA2BC,MAAD,IAAY;AAC9D,aAAO,CAACA,MAAM,CAAC9H,OAAf;AACD,KAFyB,EAEvBZ,IAFuB,CAEjB0I,MAAD,IAAY;AAClB,aAAOA,MAAM,CAACpJ,YAAP,KAAwBlB,MAAM,CAACmC,KAAtC;AACD,KAJyB,CAA1B;AAKA,WAAOpC,KAAK,CAACiJ,UAAN,IAAoBjJ,KAAK,CAACwK,WAA1B,IAAyCvK,MAAM,CAACmC,KAAP,KAAiB,EAA1D,IAAgE,CAACiI,iBAAxE;AACD,GAP6B,CAA9B;AAQA,QAAMI,UAAU,GAAGtO,QAAQ,CAAC,MAAM6D,KAAK,CAAC8J,IAAN,IAAcf,UAAU,CAACe,IAAzB,IAAiCvB,OAAO,CAACuB,IAAhD,CAA3B;AACA,QAAMY,eAAe,GAAGvO,QAAQ,CAAC,MAAM,CAAC,OAAD,EAAU,MAAV,EAAkBwF,OAAlB,CAA0B8I,UAAU,CAAC/J,KAArC,IAA8C,CAAC,CAA/C,GAAmD,MAAnD,GAA4D,OAAnE,CAAhC;AACA,QAAMiK,eAAe,GAAGxO,QAAQ,CAAC,MAAM8D,MAAM,CAACsC,OAAP,IAAkBoH,SAAS,CAACjJ,KAAV,KAAoB,KAA7C,CAAhC;AACArE,EAAAA,KAAK,CAAC,MAAM6M,cAAc,CAACxI,KAAtB,EAA6B,MAAM;AACtCtD,IAAAA,QAAQ,CAAC,MAAM;AACbwN,MAAAA,gBAAgB;AACjB,KAFO,CAAR;AAGD,GAJI,CAAL;AAKAvO,EAAAA,KAAK,CAAC,MAAM2D,KAAK,CAAC6K,WAAb,EAA2BhI,GAAD,IAAS;AACtC5C,IAAAA,MAAM,CAAC6H,iBAAP,GAA2B7H,MAAM,CAAC8H,kBAAP,GAA4BlF,GAAvD;AACD,GAFI,CAAL;AAGAxG,EAAAA,KAAK,CAAC,MAAM2D,KAAK,CAACc,UAAb,EAAyB,CAAC+B,GAAD,EAAMC,MAAN,KAAiB;AAC7C,QAAIkD,EAAJ;;AACA,QAAIhG,KAAK,CAACa,QAAV,EAAoB;AAClB+J,MAAAA,gBAAgB;;AAChB,UAAI/H,GAAG,IAAIA,GAAG,CAAC5B,MAAJ,GAAa,CAApB,IAAyBwH,KAAK,CAAC/H,KAAN,IAAeT,MAAM,CAACmC,KAAP,KAAiB,EAA7D,EAAiE;AAC/DnC,QAAAA,MAAM,CAAC8H,kBAAP,GAA4B,EAA5B;AACD,OAFD,MAEO;AACL9H,QAAAA,MAAM,CAAC8H,kBAAP,GAA4B9H,MAAM,CAAC6H,iBAAnC;AACD;;AACD,UAAI9H,KAAK,CAACiJ,UAAN,IAAoB,CAACjJ,KAAK,CAAC8K,cAA/B,EAA+C;AAC7C7K,QAAAA,MAAM,CAACmC,KAAP,GAAe,EAAf;AACA2I,QAAAA,iBAAiB,CAAC9K,MAAM,CAACmC,KAAR,CAAjB;AACD;AACF;;AACDQ,IAAAA,WAAW;;AACX,QAAI5C,KAAK,CAACiJ,UAAN,IAAoB,CAACjJ,KAAK,CAACa,QAA/B,EAAyC;AACvCZ,MAAAA,MAAM,CAACqH,WAAP,GAAqB,EAArB;AACD;;AACD,QAAI,CAAC7H,OAAO,CAACoD,GAAD,EAAMC,MAAN,CAAZ,EAA2B;AACzB,OAACkD,EAAE,GAAG+C,UAAU,CAACiC,YAAjB,KAAkC,IAAlC,GAAyC,KAAK,CAA9C,GAAkDhF,EAAE,CAACiF,IAAH,CAAQ,gBAAR,EAA0BpI,GAA1B,CAAlD;AACD;AACF,GArBI,EAqBF;AACDqI,IAAAA,KAAK,EAAE,MADN;AAEDC,IAAAA,IAAI,EAAE;AAFL,GArBE,CAAL;AAyBA9O,EAAAA,KAAK,CAAC,MAAM4D,MAAM,CAACsC,OAAd,EAAwBM,GAAD,IAAS;AACnC,QAAImD,EAAJ,EAAQoF,EAAR;;AACA,QAAI,CAACvI,GAAL,EAAU;AACR4F,MAAAA,KAAK,CAAC/H,KAAN,IAAe+H,KAAK,CAAC/H,KAAN,CAAY2K,IAAZ,EAAf;AACApL,MAAAA,MAAM,CAACmC,KAAP,GAAe,EAAf;AACAnC,MAAAA,MAAM,CAAC2H,aAAP,GAAuB,IAAvB;AACA3H,MAAAA,MAAM,CAAC0H,aAAP,GAAuB,EAAvB;AACA1H,MAAAA,MAAM,CAACqH,WAAP,GAAqB,EAArB;AACArH,MAAAA,MAAM,CAAC+H,kBAAP,GAA4B,KAA5B;AACAsD,MAAAA,eAAe;AACflO,MAAAA,QAAQ,CAAC,MAAM;AACb,YAAIqL,KAAK,CAAC/H,KAAN,IAAe+H,KAAK,CAAC/H,KAAN,CAAYA,KAAZ,KAAsB,EAArC,IAA2CT,MAAM,CAACmE,QAAP,CAAgBnD,MAAhB,KAA2B,CAA1E,EAA6E;AAC3EhB,UAAAA,MAAM,CAAC8H,kBAAP,GAA4B9H,MAAM,CAAC6H,iBAAnC;AACD;AACF,OAJO,CAAR;;AAKA,UAAI,CAAC9H,KAAK,CAACa,QAAX,EAAqB;AACnB,YAAIZ,MAAM,CAACmE,QAAX,EAAqB;AACnB,cAAIpE,KAAK,CAACiJ,UAAN,IAAoBjJ,KAAK,CAACwK,WAA1B,IAAyCvK,MAAM,CAACoH,eAAhD,IAAmEpH,MAAM,CAACmH,YAA9E,EAA4F;AAC1FnH,YAAAA,MAAM,CAAC0H,aAAP,GAAuB1H,MAAM,CAACmH,YAA9B;AACD,WAFD,MAEO;AACLnH,YAAAA,MAAM,CAAC0H,aAAP,GAAuB1H,MAAM,CAACmE,QAAP,CAAgBjD,YAAvC;AACD;;AACD,cAAInB,KAAK,CAACiJ,UAAV,EACEhJ,MAAM,CAACmC,KAAP,GAAenC,MAAM,CAAC0H,aAAtB;AACH;;AACD,YAAI3H,KAAK,CAACiJ,UAAV,EAAsB;AACpBhJ,UAAAA,MAAM,CAAC8H,kBAAP,GAA4B9H,MAAM,CAAC6H,iBAAnC;AACD;AACF;AACF,KA3BD,MA2BO;AACL,OAACsD,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAACuF,MAAhD,KAA2D,IAA3D,GAAkE,KAAK,CAAvE,GAA2EH,EAAE,CAAC3K,IAAH,CAAQuF,EAAR,CAA3E;;AACA,UAAIhG,KAAK,CAACiJ,UAAV,EAAsB;AACpBhJ,QAAAA,MAAM,CAACyC,oBAAP,GAA8BzC,MAAM,CAACwH,YAArC;AACAxH,QAAAA,MAAM,CAACmC,KAAP,GAAepC,KAAK,CAAC2C,MAAN,GAAe,EAAf,GAAoB1C,MAAM,CAAC0H,aAA1C;;AACA,YAAI3H,KAAK,CAACa,QAAV,EAAoB;AAClB4H,UAAAA,KAAK,CAAC/H,KAAN,CAAY8K,KAAZ;AACD,SAFD,MAEO;AACL,cAAIvL,MAAM,CAAC0H,aAAX,EAA0B;AACxB1H,YAAAA,MAAM,CAAC8H,kBAAP,GAA4B9H,MAAM,CAAC0H,aAAnC;AACA1H,YAAAA,MAAM,CAAC0H,aAAP,GAAuB,EAAvB;AACD;AACF;;AACDoD,QAAAA,iBAAiB,CAAC9K,MAAM,CAACmC,KAAR,CAAjB;;AACA,YAAI,CAACpC,KAAK,CAACa,QAAP,IAAmB,CAACb,KAAK,CAAC2C,MAA9B,EAAsC;AACpC1C,UAAAA,MAAM,CAAC+C,aAAP,CAAqBiI,IAArB,CAA0B,qBAA1B,EAAiD,EAAjD;AACAhL,UAAAA,MAAM,CAAC+C,aAAP,CAAqBiI,IAArB,CAA0B,0BAA1B;AACD;AACF;AACF;;AACD3C,IAAAA,GAAG,CAAC2C,IAAJ,CAAS,gBAAT,EAA2BpI,GAA3B;AACD,GAlDI,CAAL;AAmDAxG,EAAAA,KAAK,CAAC,MAAM4D,MAAM,CAACiH,OAAP,CAAeuE,OAAf,EAAP,EAAiC,MAAM;AAC1C,QAAIzF,EAAJ,EAAQoF,EAAR,EAAYM,EAAZ;;AACA,QAAIvM,QAAJ,EACE;AACF,KAACiM,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAACuF,MAAhD,KAA2D,IAA3D,GAAkE,KAAK,CAAvE,GAA2EH,EAAE,CAAC3K,IAAH,CAAQuF,EAAR,CAA3E;;AACA,QAAIhG,KAAK,CAACa,QAAV,EAAoB;AAClB+J,MAAAA,gBAAgB;AACjB;;AACD,UAAMe,MAAM,GAAG,CAAC,CAACD,EAAE,GAAGzF,aAAa,CAACvF,KAApB,KAA8B,IAA9B,GAAqC,KAAK,CAA1C,GAA8CgL,EAAE,CAACE,gBAAH,CAAoB,OAApB,CAA/C,KAAgF,EAA/F;;AACA,QAAI,GAAGjK,OAAH,CAAWlB,IAAX,CAAgBkL,MAAhB,EAAwBE,QAAQ,CAACC,aAAjC,MAAoD,CAAC,CAAzD,EAA4D;AAC1DlJ,MAAAA,WAAW;AACZ;;AACD,QAAI5C,KAAK,CAAC+L,kBAAN,KAA6B/L,KAAK,CAACiJ,UAAN,IAAoBjJ,KAAK,CAAC2C,MAAvD,KAAkE1C,MAAM,CAACyC,oBAA7E,EAAmG;AACjGsJ,MAAAA,uBAAuB;AACxB;AACF,GAfI,EAeF;AACDd,IAAAA,KAAK,EAAE;AADN,GAfE,CAAL;AAkBA7O,EAAAA,KAAK,CAAC,MAAM4D,MAAM,CAACiC,UAAd,EAA2BW,GAAD,IAAS;AACtC,QAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,GAAG,CAAC,CAAtC,EAAyC;AACvCgG,MAAAA,WAAW,CAACnI,KAAZ,GAAoByB,YAAY,CAACzB,KAAb,CAAmBmC,GAAnB,KAA2B,EAA/C;AACD;;AACDV,IAAAA,YAAY,CAACzB,KAAb,CAAmBuL,OAAnB,CAA4B1B,MAAD,IAAY;AACrCA,MAAAA,MAAM,CAACxG,KAAP,GAAe8E,WAAW,CAACnI,KAAZ,KAAsB6J,MAArC;AACD,KAFD;AAGD,GAPI,CAAL;;AAQA,QAAMK,gBAAgB,GAAG,MAAM;AAC7B,QAAI5K,KAAK,CAACkM,YAAN,IAAsB,CAAClM,KAAK,CAACiJ,UAAjC,EACE;AACF7L,IAAAA,QAAQ,CAAC,MAAM;AACb,UAAI4I,EAAJ,EAAQoF,EAAR;;AACA,UAAI,CAAC5C,SAAS,CAAC9H,KAAf,EACE;AACF,YAAMyL,eAAe,GAAG3D,SAAS,CAAC9H,KAAV,CAAgB0L,GAAhB,CAAoBC,UAA5C;AACA,YAAMC,MAAM,GAAG,GAAGhC,MAAH,CAAU7J,IAAV,CAAe0L,eAAf,EAAiCrK,IAAD,IAAUA,IAAI,CAACyK,OAAL,KAAiB,OAA3D,EAAoE,CAApE,CAAf;AACA,YAAMC,KAAK,GAAG7D,IAAI,CAACjI,KAAnB;AACA,YAAM+L,SAAS,GAAGxM,MAAM,CAACuH,kBAAP,IAA6B,EAA/C;AACA8E,MAAAA,MAAM,CAACjG,KAAP,CAAaqG,MAAb,GAAsBzM,MAAM,CAACmE,QAAP,CAAgBnD,MAAhB,KAA2B,CAA3B,GAA+BwL,SAAS,GAAG,IAA3C,GAAkDE,IAAI,CAACC,GAAL,CAASJ,KAAK,GAAGA,KAAK,CAACK,YAAN,IAAsBL,KAAK,CAACK,YAAN,GAAqBJ,SAArB,GAAiC,CAAjC,GAAqC,CAA3D,CAAH,GAAmE,CAAjF,EAAoFA,SAApF,IAAiG,IAAzK;AACAxM,MAAAA,MAAM,CAACmI,cAAP,GAAwB0E,UAAU,CAACR,MAAM,CAACjG,KAAP,CAAaqG,MAAd,CAAV,GAAkCD,SAA1D;;AACA,UAAIxM,MAAM,CAACsC,OAAP,IAAkBoH,SAAS,CAACjJ,KAAV,KAAoB,KAA1C,EAAiD;AAC/C,SAAC0K,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAACuF,MAAhD,KAA2D,IAA3D,GAAkE,KAAK,CAAvE,GAA2EH,EAAE,CAAC3K,IAAH,CAAQuF,EAAR,CAA3E;AACD;AACF,KAbO,CAAR;AAcD,GAjBD;;AAkBA,QAAM+E,iBAAiB,GAAIlI,GAAD,IAAS;AACjC,QAAI5C,MAAM,CAAC2H,aAAP,KAAyB/E,GAAzB,IAAgC5C,MAAM,CAACgI,eAA3C,EACE;;AACF,QAAIhI,MAAM,CAAC2H,aAAP,KAAyB,IAAzB,KAAkC,OAAO5H,KAAK,CAAC+M,YAAb,KAA8B,UAA9B,IAA4C,OAAO/M,KAAK,CAACgN,YAAb,KAA8B,UAA5G,CAAJ,EAA6H;AAC3H/M,MAAAA,MAAM,CAAC2H,aAAP,GAAuB/E,GAAvB;AACA;AACD;;AACD5C,IAAAA,MAAM,CAAC2H,aAAP,GAAuB/E,GAAvB;AACAzF,IAAAA,QAAQ,CAAC,MAAM;AACb,UAAI4I,EAAJ,EAAQoF,EAAR;;AACA,UAAInL,MAAM,CAACsC,OAAX,EACE,CAAC6I,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAACuF,MAAhD,KAA2D,IAA3D,GAAkE,KAAK,CAAvE,GAA2EH,EAAE,CAAC3K,IAAH,CAAQuF,EAAR,CAA3E;AACH,KAJO,CAAR;AAKA/F,IAAAA,MAAM,CAACiC,UAAP,GAAoB,CAAC,CAArB;;AACA,QAAIlC,KAAK,CAACa,QAAN,IAAkBb,KAAK,CAACiJ,UAA5B,EAAwC;AACtC7L,MAAAA,QAAQ,CAAC,MAAM;AACb,cAAM6D,MAAM,GAAGwH,KAAK,CAAC/H,KAAN,CAAYO,MAAZ,GAAqB,EAArB,GAA0B,EAAzC;AACAhB,QAAAA,MAAM,CAACqH,WAAP,GAAqBtH,KAAK,CAACkM,YAAN,GAAqBS,IAAI,CAACM,GAAL,CAAS,EAAT,EAAahM,MAAb,CAArB,GAA4CA,MAAjE;AACAiM,QAAAA,iBAAiB;AACjBtC,QAAAA,gBAAgB;AACjB,OALO,CAAR;AAMD;;AACD,QAAI5K,KAAK,CAAC2C,MAAN,IAAgB,OAAO3C,KAAK,CAACgN,YAAb,KAA8B,UAAlD,EAA8D;AAC5D/M,MAAAA,MAAM,CAACiC,UAAP,GAAoB,CAAC,CAArB;AACAlC,MAAAA,KAAK,CAACgN,YAAN,CAAmBnK,GAAnB;AACD,KAHD,MAGO,IAAI,OAAO7C,KAAK,CAAC+M,YAAb,KAA8B,UAAlC,EAA8C;AACnD/M,MAAAA,KAAK,CAAC+M,YAAN,CAAmBlK,GAAnB;AACA5C,MAAAA,MAAM,CAAC+C,aAAP,CAAqBiI,IAArB,CAA0B,0BAA1B;AACD,KAHM,MAGA;AACLhL,MAAAA,MAAM,CAACyC,oBAAP,GAA8BzC,MAAM,CAACwH,YAArC;AACAxH,MAAAA,MAAM,CAAC+C,aAAP,CAAqBiI,IAArB,CAA0B,qBAA1B,EAAiDpI,GAAjD;AACA5C,MAAAA,MAAM,CAAC+C,aAAP,CAAqBiI,IAArB,CAA0B,0BAA1B;AACD;;AACD,QAAIjL,KAAK,CAAC+L,kBAAN,KAA6B/L,KAAK,CAACiJ,UAAN,IAAoBjJ,KAAK,CAAC2C,MAAvD,KAAkE1C,MAAM,CAACyC,oBAA7E,EAAmG;AACjGsJ,MAAAA,uBAAuB;AACxB;AACF,GApCD;;AAqCA,QAAMkB,iBAAiB,GAAG,MAAM;AAC9B,QAAIjN,MAAM,CAAC8H,kBAAP,KAA8B,EAAlC,EAAsC;AACpC9H,MAAAA,MAAM,CAAC8H,kBAAP,GAA4BU,KAAK,CAAC/H,KAAN,CAAYA,KAAZ,GAAoB,EAApB,GAAyBT,MAAM,CAAC6H,iBAA5D;AACD;AACF,GAJD;;AAKA,QAAMkE,uBAAuB,GAAG,MAAM;AACpC,UAAMmB,iBAAiB,GAAGhL,YAAY,CAACzB,KAAb,CAAmB4J,MAAnB,CAA2B8C,CAAD,IAAOA,CAAC,CAAC7K,OAAF,IAAa,CAAC6K,CAAC,CAAChN,QAAhB,IAA4B,CAACgN,CAAC,CAAC7L,aAAhE,CAA1B;AACA,UAAM8L,iBAAiB,GAAGF,iBAAiB,CAAC7C,MAAlB,CAA0B8C,CAAD,IAAOA,CAAC,CAAC3K,OAAlC,EAA2C,CAA3C,CAA1B;AACA,UAAM6K,iBAAiB,GAAGH,iBAAiB,CAAC,CAAD,CAA3C;AACAlN,IAAAA,MAAM,CAACiC,UAAP,GAAoBqL,aAAa,CAACpL,YAAY,CAACzB,KAAd,EAAqB2M,iBAAiB,IAAIC,iBAA1C,CAAjC;AACD,GALD;;AAMA,QAAM1K,WAAW,GAAG,MAAM;AACxB,QAAIoD,EAAJ;;AACA,QAAI,CAAChG,KAAK,CAACa,QAAX,EAAqB;AACnB,YAAM0J,MAAM,GAAGiD,SAAS,CAACxN,KAAK,CAACc,UAAP,CAAxB;;AACA,UAAI,CAACkF,EAAE,GAAGuE,MAAM,CAACvK,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCgG,EAAE,CAACvD,OAA9C,EAAuD;AACrDxC,QAAAA,MAAM,CAACmH,YAAP,GAAsBmD,MAAM,CAACvK,KAAP,CAAaU,KAAnC;AACAT,QAAAA,MAAM,CAACoH,eAAP,GAAyB,IAAzB;AACD,OAHD,MAGO;AACLpH,QAAAA,MAAM,CAACoH,eAAP,GAAyB,KAAzB;AACD;;AACDpH,MAAAA,MAAM,CAAC0H,aAAP,GAAuB4C,MAAM,CAACpJ,YAA9B;AACAlB,MAAAA,MAAM,CAACmE,QAAP,GAAkBmG,MAAlB;AACA,UAAIvK,KAAK,CAACiJ,UAAV,EACEhJ,MAAM,CAACmC,KAAP,GAAenC,MAAM,CAAC0H,aAAtB;AACF;AACD;;AACD,UAAM8F,MAAM,GAAG,EAAf;;AACA,QAAIpE,KAAK,CAACC,OAAN,CAActJ,KAAK,CAACc,UAApB,CAAJ,EAAqC;AACnCd,MAAAA,KAAK,CAACc,UAAN,CAAiBmL,OAAjB,CAA0BvL,KAAD,IAAW;AAClC+M,QAAAA,MAAM,CAACC,IAAP,CAAYF,SAAS,CAAC9M,KAAD,CAArB;AACD,OAFD;AAGD;;AACDT,IAAAA,MAAM,CAACmE,QAAP,GAAkBqJ,MAAlB;AACArQ,IAAAA,QAAQ,CAAC,MAAM;AACbwN,MAAAA,gBAAgB;AACjB,KAFO,CAAR;AAGD,GA1BD;;AA2BA,QAAM4C,SAAS,GAAI9M,KAAD,IAAW;AAC3B,QAAI6J,MAAJ;AACA,UAAMoD,aAAa,GAAG7G,SAAS,CAACpG,KAAD,CAAT,CAAiBC,WAAjB,OAAmC,QAAzD;AACA,UAAMiN,MAAM,GAAG9G,SAAS,CAACpG,KAAD,CAAT,CAAiBC,WAAjB,OAAmC,MAAlD;AACA,UAAMkN,WAAW,GAAG/G,SAAS,CAACpG,KAAD,CAAT,CAAiBC,WAAjB,OAAmC,WAAvD;;AACA,SAAK,IAAImN,CAAC,GAAG7N,MAAM,CAACsE,aAAP,CAAqBuF,IAArB,GAA4B,CAAzC,EAA4CgE,CAAC,IAAI,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;AACvD,YAAMC,YAAY,GAAG5D,kBAAkB,CAACzJ,KAAnB,CAAyBoN,CAAzB,CAArB;AACA,YAAME,YAAY,GAAGL,aAAa,GAAG1P,cAAc,CAAC8P,YAAY,CAACrN,KAAd,EAAqBV,KAAK,CAAC4B,QAA3B,CAAd,KAAuD3D,cAAc,CAACyC,KAAD,EAAQV,KAAK,CAAC4B,QAAd,CAAxE,GAAkGmM,YAAY,CAACrN,KAAb,KAAuBA,KAA3J;;AACA,UAAIsN,YAAJ,EAAkB;AAChBzD,QAAAA,MAAM,GAAG;AACP7J,UAAAA,KADO;AAEPS,UAAAA,YAAY,EAAE4M,YAAY,CAAC5M,YAFpB;AAGPG,UAAAA,UAAU,EAAEyM,YAAY,CAACzM;AAHlB,SAAT;AAKA;AACD;AACF;;AACD,QAAIiJ,MAAJ,EACE,OAAOA,MAAP;AACF,UAAMnJ,KAAK,GAAG,CAACuM,aAAD,IAAkB,CAACC,MAAnB,IAA6B,CAACC,WAA9B,GAA4CnN,KAA5C,GAAoD,EAAlE;AACA,UAAMuN,SAAS,GAAG;AAChBvN,MAAAA,KADgB;AAEhBS,MAAAA,YAAY,EAAEC;AAFE,KAAlB;;AAIA,QAAIpB,KAAK,CAACa,QAAV,EAAoB;AAClBoN,MAAAA,SAAS,CAACnK,QAAV,GAAqB,KAArB;AACD;;AACD,WAAOmK,SAAP;AACD,GA5BD;;AA6BA,QAAM3C,eAAe,GAAG,MAAM;AAC5B4C,IAAAA,UAAU,CAAC,MAAM;AACf,YAAMtM,QAAQ,GAAG5B,KAAK,CAAC4B,QAAvB;;AACA,UAAI,CAAC5B,KAAK,CAACa,QAAX,EAAqB;AACnBZ,QAAAA,MAAM,CAACiC,UAAP,GAAoBC,YAAY,CAACzB,KAAb,CAAmByN,SAAnB,CAA8BrM,IAAD,IAAU;AACzD,iBAAO7D,cAAc,CAAC6D,IAAD,EAAOF,QAAP,CAAd,KAAmC3D,cAAc,CAACgC,MAAM,CAACmE,QAAR,EAAkBxC,QAAlB,CAAxD;AACD,SAFmB,CAApB;AAGD,OAJD,MAIO;AACL,YAAI3B,MAAM,CAACmE,QAAP,CAAgBnD,MAAhB,GAAyB,CAA7B,EAAgC;AAC9BhB,UAAAA,MAAM,CAACiC,UAAP,GAAoByK,IAAI,CAACM,GAAL,CAASmB,KAAT,CAAe,IAAf,EAAqBnO,MAAM,CAACmE,QAAP,CAAgBiK,GAAhB,CAAqBjK,QAAD,IAAc;AACzE,mBAAOjC,YAAY,CAACzB,KAAb,CAAmByN,SAAnB,CAA8BrM,IAAD,IAAU;AAC5C,qBAAO7D,cAAc,CAAC6D,IAAD,EAAOF,QAAP,CAAd,KAAmC3D,cAAc,CAACmG,QAAD,EAAWxC,QAAX,CAAxD;AACD,aAFM,CAAP;AAGD,WAJwC,CAArB,CAApB;AAKD,SAND,MAMO;AACL3B,UAAAA,MAAM,CAACiC,UAAP,GAAoB,CAAC,CAArB;AACD;AACF;AACF,KAjBS,EAiBP,GAjBO,CAAV;AAkBD,GAnBD;;AAoBA,QAAMoM,YAAY,GAAG,MAAM;AACzB,QAAItI,EAAJ,EAAQoF,EAAR;;AACAmD,IAAAA,eAAe;AACf,KAACnD,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAACuF,MAAhD,KAA2D,IAA3D,GAAkE,KAAK,CAAvE,GAA2EH,EAAE,CAAC3K,IAAH,CAAQuF,EAAR,CAA3E;AACA,QAAIhG,KAAK,CAACa,QAAV,EACE+J,gBAAgB;AACnB,GAND;;AAOA,QAAM2D,eAAe,GAAG,MAAM;AAC5B,QAAIvI,EAAJ;;AACA/F,IAAAA,MAAM,CAACsH,UAAP,GAAoB,CAACvB,EAAE,GAAGwC,SAAS,CAAC9H,KAAhB,KAA0B,IAA1B,GAAiC,KAAK,CAAtC,GAA0CsF,EAAE,CAACoG,GAAH,CAAOlG,qBAAP,GAA+BC,KAA7F;AACD,GAHD;;AAIA,QAAMqI,aAAa,GAAG,MAAM;AAC1B,QAAIxO,KAAK,CAACiJ,UAAN,IAAoBhJ,MAAM,CAACmC,KAAP,KAAiBnC,MAAM,CAAC0H,aAAhD,EAA+D;AAC7D1H,MAAAA,MAAM,CAACmC,KAAP,GAAenC,MAAM,CAAC0H,aAAtB;AACAoD,MAAAA,iBAAiB,CAAC9K,MAAM,CAACmC,KAAR,CAAjB;AACD;AACF,GALD;;AAMA,QAAMqM,sBAAsB,GAAGpP,cAAc,CAAC,MAAM;AAClDmP,IAAAA,aAAa;AACd,GAF4C,EAE1C9E,QAAQ,CAAChJ,KAFiC,CAA7C;AAGA,QAAMgO,oBAAoB,GAAGrP,cAAc,CAAEsP,CAAD,IAAO;AACjD5D,IAAAA,iBAAiB,CAAC4D,CAAC,CAACjN,MAAF,CAAShB,KAAV,CAAjB;AACD,GAF0C,EAExCgJ,QAAQ,CAAChJ,KAF+B,CAA3C;;AAGA,QAAMkO,UAAU,GAAI/L,GAAD,IAAS;AAC1B,QAAI,CAACpD,OAAO,CAACO,KAAK,CAACc,UAAP,EAAmB+B,GAAnB,CAAZ,EAAqC;AACnCyF,MAAAA,GAAG,CAAC2C,IAAJ,CAASlM,YAAT,EAAuB8D,GAAvB;AACD;AACF,GAJD;;AAKA,QAAMgM,aAAa,GAAIF,CAAD,IAAO;AAC3B,QAAIA,CAAC,CAACjN,MAAF,CAAShB,KAAT,CAAeO,MAAf,IAAyB,CAAzB,IAA8B,CAAC6N,wBAAwB,EAA3D,EAA+D;AAC7D,YAAMpO,KAAK,GAAGV,KAAK,CAACc,UAAN,CAAiBiG,KAAjB,EAAd;AACArG,MAAAA,KAAK,CAACqO,GAAN;AACAzG,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B4B,KAA7B;AACAkO,MAAAA,UAAU,CAAClO,KAAD,CAAV;AACD;;AACD,QAAIiO,CAAC,CAACjN,MAAF,CAAShB,KAAT,CAAeO,MAAf,KAA0B,CAA1B,IAA+BjB,KAAK,CAACc,UAAN,CAAiBG,MAAjB,KAA4B,CAA/D,EAAkE;AAChEhB,MAAAA,MAAM,CAAC8H,kBAAP,GAA4B9H,MAAM,CAAC6H,iBAAnC;AACD;AACF,GAVD;;AAWA,QAAMkH,SAAS,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAChC,UAAMrL,KAAK,GAAG5D,MAAM,CAACmE,QAAP,CAAgBzC,OAAhB,CAAwBuN,GAAxB,CAAd;;AACA,QAAIrL,KAAK,GAAG,CAAC,CAAT,IAAc,CAACqF,cAAc,CAACxI,KAAlC,EAAyC;AACvC,YAAMA,KAAK,GAAGV,KAAK,CAACc,UAAN,CAAiBiG,KAAjB,EAAd;AACArG,MAAAA,KAAK,CAACyO,MAAN,CAAatL,KAAb,EAAoB,CAApB;AACAyE,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B4B,KAA7B;AACAkO,MAAAA,UAAU,CAAClO,KAAD,CAAV;AACA4H,MAAAA,GAAG,CAAC2C,IAAJ,CAAS,YAAT,EAAuBiE,GAAG,CAACxO,KAA3B;AACD;;AACDuO,IAAAA,KAAK,CAACG,eAAN;AACD,GAVD;;AAWA,QAAMC,cAAc,GAAIJ,KAAD,IAAW;AAChCA,IAAAA,KAAK,CAACG,eAAN;AACA,UAAM1O,KAAK,GAAGV,KAAK,CAACa,QAAN,GAAiB,EAAjB,GAAsB,EAApC;;AACA,QAAI,OAAOH,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAK,MAAMoB,IAAX,IAAmB7B,MAAM,CAACmE,QAA1B,EAAoC;AAClC,YAAItC,IAAI,CAACR,UAAT,EACEZ,KAAK,CAACgN,IAAN,CAAW5L,IAAI,CAACpB,KAAhB;AACH;AACF;;AACD4H,IAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B4B,KAA7B;AACAkO,IAAAA,UAAU,CAAClO,KAAD,CAAV;AACAT,IAAAA,MAAM,CAACsC,OAAP,GAAiB,KAAjB;AACA+F,IAAAA,GAAG,CAAC2C,IAAJ,CAAS,OAAT;AACD,GAbD;;AAcA,QAAMpG,kBAAkB,GAAG,CAAC0F,MAAD,EAAS+E,OAAT,KAAqB;AAC9C,QAAItP,KAAK,CAACa,QAAV,EAAoB;AAClB,YAAMH,KAAK,GAAG,CAACV,KAAK,CAACc,UAAN,IAAoB,EAArB,EAAyBiG,KAAzB,EAAd;AACA,YAAMwI,WAAW,GAAGhC,aAAa,CAAC7M,KAAD,EAAQ6J,MAAM,CAAC7J,KAAf,CAAjC;;AACA,UAAI6O,WAAW,GAAG,CAAC,CAAnB,EAAsB;AACpB7O,QAAAA,KAAK,CAACyO,MAAN,CAAaI,WAAb,EAA0B,CAA1B;AACD,OAFD,MAEO,IAAIvP,KAAK,CAACkB,aAAN,IAAuB,CAAvB,IAA4BR,KAAK,CAACO,MAAN,GAAejB,KAAK,CAACkB,aAArD,EAAoE;AACzER,QAAAA,KAAK,CAACgN,IAAN,CAAWnD,MAAM,CAAC7J,KAAlB;AACD;;AACD4H,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B4B,KAA7B;AACAkO,MAAAA,UAAU,CAAClO,KAAD,CAAV;;AACA,UAAI6J,MAAM,CAAC9H,OAAX,EAAoB;AAClBxC,QAAAA,MAAM,CAACmC,KAAP,GAAe,EAAf;AACA2I,QAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACA9K,QAAAA,MAAM,CAACqH,WAAP,GAAqB,EAArB;AACD;;AACD,UAAItH,KAAK,CAACiJ,UAAV,EACER,KAAK,CAAC/H,KAAN,CAAY8K,KAAZ;AACH,KAjBD,MAiBO;AACLlD,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6ByL,MAAM,CAAC7J,KAApC;AACAkO,MAAAA,UAAU,CAACrE,MAAM,CAAC7J,KAAR,CAAV;AACAT,MAAAA,MAAM,CAACsC,OAAP,GAAiB,KAAjB;AACD;;AACDtC,IAAAA,MAAM,CAACiI,YAAP,GAAsBoH,OAAtB;AACAE,IAAAA,YAAY;AACZ,QAAIvP,MAAM,CAACsC,OAAX,EACE;AACFnF,IAAAA,QAAQ,CAAC,MAAM;AACbqS,MAAAA,cAAc,CAAClF,MAAD,CAAd;AACD,KAFO,CAAR;AAGD,GA9BD;;AA+BA,QAAMgD,aAAa,GAAG,CAAC9L,GAAG,GAAG,EAAP,EAAWf,KAAX,KAAqB;AACzC,QAAI,CAACL,QAAQ,CAACK,KAAD,CAAb,EACE,OAAOe,GAAG,CAACE,OAAJ,CAAYjB,KAAZ,CAAP;AACF,UAAMkB,QAAQ,GAAG5B,KAAK,CAAC4B,QAAvB;AACA,QAAIiC,KAAK,GAAG,CAAC,CAAb;AACApC,IAAAA,GAAG,CAACI,IAAJ,CAAS,CAACC,IAAD,EAAOgM,CAAP,KAAa;AACpB,UAAI7P,cAAc,CAAC6D,IAAD,EAAOF,QAAP,CAAd,KAAmC3D,cAAc,CAACyC,KAAD,EAAQkB,QAAR,CAArD,EAAwE;AACtEiC,QAAAA,KAAK,GAAGiK,CAAR;AACA,eAAO,IAAP;AACD;;AACD,aAAO,KAAP;AACD,KAND;AAOA,WAAOjK,KAAP;AACD,GAbD;;AAcA,QAAM2L,YAAY,GAAG,MAAM;AACzBvP,IAAAA,MAAM,CAACyH,SAAP,GAAmB,IAAnB;;AACA,UAAMgI,MAAM,GAAGjH,KAAK,CAAC/H,KAAN,IAAe8H,SAAS,CAAC9H,KAAxC;;AACA,QAAIgP,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAAClE,KAAP;AACD;AACF,GAND;;AAOA,QAAMiE,cAAc,GAAIlF,MAAD,IAAY;AACjC,QAAIvE,EAAJ,EAAQoF,EAAR,EAAYM,EAAZ,EAAgBiE,EAAhB;;AACA,UAAMC,YAAY,GAAGvG,KAAK,CAACC,OAAN,CAAciB,MAAd,IAAwBA,MAAM,CAAC,CAAD,CAA9B,GAAoCA,MAAzD;AACA,QAAI7I,MAAM,GAAG,IAAb;;AACA,QAAIkO,YAAY,IAAI,IAAhB,GAAuB,KAAK,CAA5B,GAAgCA,YAAY,CAAClP,KAAjD,EAAwD;AACtD,YAAMwG,OAAO,GAAG/E,YAAY,CAACzB,KAAb,CAAmB4J,MAAnB,CAA2BxI,IAAD,IAAUA,IAAI,CAACpB,KAAL,KAAekP,YAAY,CAAClP,KAAhE,CAAhB;;AACA,UAAIwG,OAAO,CAACjG,MAAR,GAAiB,CAArB,EAAwB;AACtBS,QAAAA,MAAM,GAAGwF,OAAO,CAAC,CAAD,CAAP,CAAWkF,GAApB;AACD;AACF;;AACD,QAAI1D,MAAM,CAAChI,KAAP,IAAgBgB,MAApB,EAA4B;AAC1B,YAAMmO,IAAI,GAAG,CAACnE,EAAE,GAAG,CAACN,EAAE,GAAG,CAACpF,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAAC8J,SAAhD,KAA8D,IAA9D,GAAqE,KAAK,CAA1E,GAA8E1E,EAAE,CAAC2E,aAAvF,KAAyG,IAAzG,GAAgH,KAAK,CAArH,GAAyHrE,EAAE,CAACjL,IAAH,CAAQ2K,EAAR,EAAY,2BAAZ,CAAtI;;AACA,UAAIyE,IAAJ,EAAU;AACRzQ,QAAAA,cAAc,CAACyQ,IAAD,EAAOnO,MAAP,CAAd;AACD;AACF;;AACD,KAACiO,EAAE,GAAG/G,SAAS,CAAClI,KAAhB,KAA0B,IAA1B,GAAiC,KAAK,CAAtC,GAA0CiP,EAAE,CAACK,YAAH,EAA1C;AACD,GAjBD;;AAkBA,QAAM7L,cAAc,GAAIH,EAAD,IAAQ;AAC7B/D,IAAAA,MAAM,CAACwH,YAAP;AACAxH,IAAAA,MAAM,CAACyC,oBAAP;AACAzC,IAAAA,MAAM,CAACiH,OAAP,CAAe+I,GAAf,CAAmBjM,EAAE,CAACtD,KAAtB,EAA6BsD,EAA7B;AACA/D,IAAAA,MAAM,CAACsE,aAAP,CAAqB0L,GAArB,CAAyBjM,EAAE,CAACtD,KAA5B,EAAmCsD,EAAnC;AACD,GALD;;AAMA,QAAMW,eAAe,GAAIT,GAAD,IAAS;AAC/BjE,IAAAA,MAAM,CAACwH,YAAP;AACAxH,IAAAA,MAAM,CAACyC,oBAAP;AACAzC,IAAAA,MAAM,CAACiH,OAAP,CAAexC,MAAf,CAAsBR,GAAtB;AACD,GAJD;;AAKA,QAAMgM,eAAe,GAAIvB,CAAD,IAAO;AAC7B,QAAIA,CAAC,CAACwB,IAAF,KAAWjR,UAAU,CAACkR,SAA1B,EACEtB,wBAAwB,CAAC,KAAD,CAAxB;AACF7O,IAAAA,MAAM,CAACqH,WAAP,GAAqBmB,KAAK,CAAC/H,KAAN,CAAYO,MAAZ,GAAqB,EAArB,GAA0B,EAA/C;AACA2J,IAAAA,gBAAgB;AACjB,GALD;;AAMA,QAAMkE,wBAAwB,GAAIuB,GAAD,IAAS;AACxC,QAAI,CAAChH,KAAK,CAACC,OAAN,CAAcrJ,MAAM,CAACmE,QAArB,CAAL,EACE;AACF,UAAMmG,MAAM,GAAGtK,MAAM,CAACmE,QAAP,CAAgBnE,MAAM,CAACmE,QAAP,CAAgBnD,MAAhB,GAAyB,CAAzC,CAAf;AACA,QAAI,CAACsJ,MAAL,EACE;;AACF,QAAI8F,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAA5B,EAAmC;AACjC9F,MAAAA,MAAM,CAACzG,QAAP,GAAkBuM,GAAlB;AACA,aAAOA,GAAP;AACD;;AACD9F,IAAAA,MAAM,CAACzG,QAAP,GAAkB,CAACyG,MAAM,CAACzG,QAA1B;AACA,WAAOyG,MAAM,CAACzG,QAAd;AACD,GAZD;;AAaA,QAAMwM,iBAAiB,GAAIrB,KAAD,IAAW;AACnC,UAAMsB,IAAI,GAAGtB,KAAK,CAACvN,MAAN,CAAahB,KAA1B;;AACA,QAAIuO,KAAK,CAAC1L,IAAN,KAAe,gBAAnB,EAAqC;AACnCtD,MAAAA,MAAM,CAACgI,eAAP,GAAyB,KAAzB;AACA7K,MAAAA,QAAQ,CAAC,MAAM2N,iBAAiB,CAACwF,IAAD,CAAxB,CAAR;AACD,KAHD,MAGO;AACL,YAAMC,aAAa,GAAGD,IAAI,CAACA,IAAI,CAACtP,MAAL,GAAc,CAAf,CAAJ,IAAyB,EAA/C;AACAhB,MAAAA,MAAM,CAACgI,eAAP,GAAyB,CAAC3I,QAAQ,CAACkR,aAAD,CAAlC;AACD;AACF,GATD;;AAUA,QAAMC,eAAe,GAAG,MAAM;AAC5BrT,IAAAA,QAAQ,CAAC,MAAMqS,cAAc,CAACxP,MAAM,CAACmE,QAAR,CAArB,CAAR;AACD,GAFD;;AAGA,QAAMsM,WAAW,GAAIzB,KAAD,IAAW;AAC7B,QAAI,CAAChP,MAAM,CAACyH,SAAZ,EAAuB;AACrB,UAAI1H,KAAK,CAAC2Q,iBAAN,IAA2B3Q,KAAK,CAACiJ,UAArC,EAAiD;AAC/ChJ,QAAAA,MAAM,CAACsC,OAAP,GAAiB,IAAjB;;AACA,YAAIvC,KAAK,CAACiJ,UAAV,EAAsB;AACpBhJ,UAAAA,MAAM,CAAC+H,kBAAP,GAA4B,IAA5B;AACD;AACF;;AACDM,MAAAA,GAAG,CAAC2C,IAAJ,CAAS,OAAT,EAAkBgE,KAAlB;AACD,KARD,MAQO;AACLhP,MAAAA,MAAM,CAACyH,SAAP,GAAmB,KAAnB;AACD;AACF,GAZD;;AAaA,QAAM2D,IAAI,GAAG,MAAM;AACjBpL,IAAAA,MAAM,CAACsC,OAAP,GAAiB,KAAjB;AACAiG,IAAAA,SAAS,CAAC9H,KAAV,CAAgB2K,IAAhB;AACD,GAHD;;AAIA,QAAMuF,UAAU,GAAI3B,KAAD,IAAW;AAC5B7R,IAAAA,QAAQ,CAAC,MAAM;AACb,UAAI6C,MAAM,CAACiI,YAAX,EAAyB;AACvBjI,QAAAA,MAAM,CAACiI,YAAP,GAAsB,KAAtB;AACD,OAFD,MAEO;AACLI,QAAAA,GAAG,CAAC2C,IAAJ,CAAS,MAAT,EAAiBgE,KAAjB;AACD;AACF,KANO,CAAR;AAOAhP,IAAAA,MAAM,CAACyH,SAAP,GAAmB,KAAnB;AACD,GATD;;AAUA,QAAMmJ,gBAAgB,GAAI5B,KAAD,IAAW;AAClCI,IAAAA,cAAc,CAACJ,KAAD,CAAd;AACD,GAFD;;AAGA,QAAM6B,WAAW,GAAG,MAAM;AACxB7Q,IAAAA,MAAM,CAACsC,OAAP,GAAiB,KAAjB;AACD,GAFD;;AAGA,QAAMwO,UAAU,GAAG,MAAM;AACvB,QAAI/Q,KAAK,CAAC2Q,iBAAV,EACE;;AACF,QAAI,CAACzH,cAAc,CAACxI,KAApB,EAA2B;AACzB,UAAIT,MAAM,CAAC+H,kBAAX,EAA+B;AAC7B/H,QAAAA,MAAM,CAAC+H,kBAAP,GAA4B,KAA5B;AACD,OAFD,MAEO;AACL/H,QAAAA,MAAM,CAACsC,OAAP,GAAiB,CAACtC,MAAM,CAACsC,OAAzB;AACD;;AACD,UAAItC,MAAM,CAACsC,OAAX,EAAoB;AAClB,SAACkG,KAAK,CAAC/H,KAAN,IAAe8H,SAAS,CAAC9H,KAA1B,EAAiC8K,KAAjC;AACD;AACF;AACF,GAbD;;AAcA,QAAMwF,YAAY,GAAG,MAAM;AACzB,QAAI,CAAC/Q,MAAM,CAACsC,OAAZ,EAAqB;AACnBwO,MAAAA,UAAU;AACX,KAFD,MAEO;AACL,UAAI5O,YAAY,CAACzB,KAAb,CAAmBT,MAAM,CAACiC,UAA1B,CAAJ,EAA2C;AACzC2C,QAAAA,kBAAkB,CAAC1C,YAAY,CAACzB,KAAb,CAAmBT,MAAM,CAACiC,UAA1B,CAAD,EAAwC,KAAK,CAA7C,CAAlB;AACD;AACF;AACF,GARD;;AASA,QAAM+O,WAAW,GAAInP,IAAD,IAAU;AAC5B,WAAOzB,QAAQ,CAACyB,IAAI,CAACpB,KAAN,CAAR,GAAuBzC,cAAc,CAAC6D,IAAI,CAACpB,KAAN,EAAaV,KAAK,CAAC4B,QAAnB,CAArC,GAAoEE,IAAI,CAACpB,KAAhF;AACD,GAFD;;AAGA,QAAMwQ,kBAAkB,GAAG/U,QAAQ,CAAC,MAAMgG,YAAY,CAACzB,KAAb,CAAmB4J,MAAnB,CAA2BC,MAAD,IAAYA,MAAM,CAAChI,OAA7C,EAAsD4O,KAAtD,CAA6D5G,MAAD,IAAYA,MAAM,CAACnK,QAA/E,CAAP,CAAnC;;AACA,QAAMgR,eAAe,GAAIC,SAAD,IAAe;AACrC,QAAI,CAACpR,MAAM,CAACsC,OAAZ,EAAqB;AACnBtC,MAAAA,MAAM,CAACsC,OAAP,GAAiB,IAAjB;AACA;AACD;;AACD,QAAItC,MAAM,CAACiH,OAAP,CAAe4C,IAAf,KAAwB,CAAxB,IAA6B7J,MAAM,CAACyC,oBAAP,KAAgC,CAAjE,EACE;;AACF,QAAI,CAACwO,kBAAkB,CAACxQ,KAAxB,EAA+B;AAC7B,UAAI2Q,SAAS,KAAK,MAAlB,EAA0B;AACxBpR,QAAAA,MAAM,CAACiC,UAAP;;AACA,YAAIjC,MAAM,CAACiC,UAAP,KAAsBjC,MAAM,CAACiH,OAAP,CAAe4C,IAAzC,EAA+C;AAC7C7J,UAAAA,MAAM,CAACiC,UAAP,GAAoB,CAApB;AACD;AACF,OALD,MAKO,IAAImP,SAAS,KAAK,MAAlB,EAA0B;AAC/BpR,QAAAA,MAAM,CAACiC,UAAP;;AACA,YAAIjC,MAAM,CAACiC,UAAP,GAAoB,CAAxB,EAA2B;AACzBjC,UAAAA,MAAM,CAACiC,UAAP,GAAoBjC,MAAM,CAACiH,OAAP,CAAe4C,IAAf,GAAsB,CAA1C;AACD;AACF;;AACD,YAAMS,MAAM,GAAGpI,YAAY,CAACzB,KAAb,CAAmBT,MAAM,CAACiC,UAA1B,CAAf;;AACA,UAAIqI,MAAM,CAACnK,QAAP,KAAoB,IAApB,IAA4BmK,MAAM,CAAChJ,aAAP,KAAyB,IAArD,IAA6D,CAACgJ,MAAM,CAAChI,OAAzE,EAAkF;AAChF6O,QAAAA,eAAe,CAACC,SAAD,CAAf;AACD;;AACDjU,MAAAA,QAAQ,CAAC,MAAMqS,cAAc,CAAC5G,WAAW,CAACnI,KAAb,CAArB,CAAR;AACD;AACF,GAzBD;;AA0BA,SAAO;AACLyB,IAAAA,YADK;AAELsI,IAAAA,UAFK;AAGL6D,IAAAA,YAHK;AAILG,IAAAA,sBAJK;AAKLC,IAAAA,oBALK;AAMLG,IAAAA,aANK;AAOLG,IAAAA,SAPK;AAQLK,IAAAA,cARK;AASLxK,IAAAA,kBATK;AAUL4K,IAAAA,cAVK;AAWLzG,IAAAA,QAXK;AAYL4B,IAAAA,gBAZK;AAaLzB,IAAAA,SAbK;AAcLM,IAAAA,SAdK;AAeLW,IAAAA,aAfK;AAgBLM,IAAAA,eAhBK;AAiBL9H,IAAAA,WAjBK;AAkBLsK,IAAAA,iBAlBK;AAmBLhE,IAAAA,cAnBK;AAoBLS,IAAAA,SApBK;AAqBLmF,IAAAA,wBArBK;AAsBLoB,IAAAA,eAtBK;AAuBLI,IAAAA,iBAvBK;AAwBLnM,IAAAA,cAxBK;AAyBLQ,IAAAA,eAzBK;AA0BL8L,IAAAA,eA1BK;AA2BLC,IAAAA,WA3BK;AA4BLrF,IAAAA,IA5BK;AA6BLuF,IAAAA,UA7BK;AA8BLC,IAAAA,gBA9BK;AA+BLC,IAAAA,WA/BK;AAgCLC,IAAAA,UAhCK;AAiCLC,IAAAA,YAjCK;AAkCLC,IAAAA,WAlCK;AAmCLG,IAAAA,eAnCK;AAoCLzG,IAAAA,eApCK;AAqCLnC,IAAAA,SArCK;AAsCLC,IAAAA,KAtCK;AAuCLC,IAAAA,MAvCK;AAwCLC,IAAAA,IAxCK;AAyCL1C,IAAAA,aAzCK;AA0CL2C,IAAAA;AA1CK,GAAP;AA4CD,CAhmBD;;AAkmBA,IAAI0I,QAAQ,GAAG/U,eAAe,CAAC;AAC7B6G,EAAAA,IAAI,EAAE,UADuB;AAE7BC,EAAAA,aAAa,EAAE,UAFc;AAG7BkO,EAAAA,UAAU,EAAE;AACVvT,IAAAA,OADU;AAEVwT,IAAAA,YAAY,EAAE7L,QAFJ;AAGV8L,IAAAA,QAAQ,EAAEtO,MAHA;AAIV3E,IAAAA,KAJU;AAKVE,IAAAA,WALU;AAMVD,IAAAA;AANU,GAHiB;AAW7BiT,EAAAA,UAAU,EAAE;AAAE/S,IAAAA;AAAF,GAXiB;AAY7BqB,EAAAA,KAAK,EAAE;AACLoD,IAAAA,IAAI,EAAEI,MADD;AAELmO,IAAAA,EAAE,EAAEnO,MAFC;AAGL1C,IAAAA,UAAU,EAAE,CAACuI,KAAD,EAAQ7F,MAAR,EAAgBC,MAAhB,EAAwBC,OAAxB,EAAiCpD,MAAjC,CAHP;AAILsR,IAAAA,YAAY,EAAE;AACZrO,MAAAA,IAAI,EAAEC,MADM;AAEZG,MAAAA,OAAO,EAAE;AAFG,KAJT;AAQLgN,IAAAA,iBAAiB,EAAEjN,OARd;AASLoG,IAAAA,IAAI,EAAE;AACJvG,MAAAA,IAAI,EAAEC,MADF;AAEJqO,MAAAA,SAAS,EAAE7S;AAFP,KATD;AAaLoB,IAAAA,QAAQ,EAAEsD,OAbL;AAcL8F,IAAAA,SAAS,EAAE9F,OAdN;AAeLuF,IAAAA,UAAU,EAAEvF,OAfP;AAgBL8G,IAAAA,WAAW,EAAE9G,OAhBR;AAiBLkG,IAAAA,OAAO,EAAElG,OAjBJ;AAkBLkC,IAAAA,WAAW,EAAE;AACXrC,MAAAA,IAAI,EAAEC,MADK;AAEXG,MAAAA,OAAO,EAAE;AAFE,KAlBR;AAsBLhB,IAAAA,MAAM,EAAEe,OAtBH;AAuBLmG,IAAAA,WAAW,EAAErG,MAvBR;AAwBLuG,IAAAA,WAAW,EAAEvG,MAxBR;AAyBLwG,IAAAA,UAAU,EAAExG,MAzBP;AA0BLwJ,IAAAA,YAAY,EAAE8E,QA1BT;AA2BL/E,IAAAA,YAAY,EAAE+E,QA3BT;AA4BLjR,IAAAA,QAAQ,EAAE6C,OA5BL;AA6BLxC,IAAAA,aAAa,EAAE;AACbqC,MAAAA,IAAI,EAAEE,MADO;AAEbE,MAAAA,OAAO,EAAE;AAFI,KA7BV;AAiCLkH,IAAAA,WAAW,EAAE;AACXtH,MAAAA,IAAI,EAAEC;AADK,KAjCR;AAoCLuI,IAAAA,kBAAkB,EAAErI,OApCf;AAqCLoH,IAAAA,cAAc,EAAEpH,OArCX;AAsCL9B,IAAAA,QAAQ,EAAE;AACR2B,MAAAA,IAAI,EAAEC,MADE;AAERG,MAAAA,OAAO,EAAE;AAFD,KAtCL;AA0CLuI,IAAAA,YAAY,EAAExI,OA1CT;AA2CLqO,IAAAA,kBAAkB,EAAE;AAClBxO,MAAAA,IAAI,EAAEG,OADY;AAElBC,MAAAA,OAAO,EAAE;AAFS,KA3Cf;AA+CLqO,IAAAA,SAAS,EAAE;AACTzO,MAAAA,IAAI,EAAEC,MADG;AAETG,MAAAA,OAAO,EAAE;AAFA;AA/CN,GAZsB;AAgE7BsO,EAAAA,KAAK,EAAE,CAACnT,kBAAD,EAAqBC,YAArB,EAAmC,YAAnC,EAAiD,OAAjD,EAA0D,gBAA1D,EAA4E,OAA5E,EAAqF,MAArF,CAhEsB;;AAiE7B6E,EAAAA,KAAK,CAAC5D,KAAD,EAAQsI,GAAR,EAAa;AAChB,UAAM;AAAErB,MAAAA;AAAF,QAAQrI,eAAe,EAA7B;AACA,UAAMqB,MAAM,GAAG+G,eAAe,CAAChH,KAAD,CAA9B;AACA,UAAM;AACJmC,MAAAA,YADI;AAEJsI,MAAAA,UAFI;AAGJzB,MAAAA,QAHI;AAIJsF,MAAAA,YAJI;AAKJ5D,MAAAA,eALI;AAMJ+D,MAAAA,sBANI;AAOJC,MAAAA,oBAPI;AAQJG,MAAAA,aARI;AASJG,MAAAA,SATI;AAUJK,MAAAA,cAVI;AAWJxK,MAAAA,kBAXI;AAYJ4K,MAAAA,cAZI;AAaJ7M,MAAAA,WAbI;AAcJgI,MAAAA,gBAdI;AAeJsC,MAAAA,iBAfI;AAgBJ/D,MAAAA,SAhBI;AAiBJD,MAAAA,cAjBI;AAkBJO,MAAAA,SAlBI;AAmBJW,MAAAA,aAnBI;AAoBJT,MAAAA,SApBI;AAqBJmF,MAAAA,wBArBI;AAsBJoB,MAAAA,eAtBI;AAuBJI,MAAAA,iBAvBI;AAwBJnM,MAAAA,cAxBI;AAyBJQ,MAAAA,eAzBI;AA0BJ8L,MAAAA,eA1BI;AA2BJC,MAAAA,WA3BI;AA4BJrF,MAAAA,IA5BI;AA6BJuF,MAAAA,UA7BI;AA8BJC,MAAAA,gBA9BI;AA+BJC,MAAAA,WA/BI;AAgCJC,MAAAA,UAhCI;AAiCJC,MAAAA,YAjCI;AAkCJC,MAAAA,WAlCI;AAmCJG,MAAAA,eAnCI;AAoCJzG,MAAAA,eApCI;AAqCJnC,MAAAA,SArCI;AAsCJC,MAAAA,KAtCI;AAuCJC,MAAAA,MAvCI;AAwCJC,MAAAA,IAxCI;AAyCJ1C,MAAAA,aAzCI;AA0CJ2C,MAAAA;AA1CI,QA2CFP,SAAS,CAACrI,KAAD,EAAQC,MAAR,EAAgBqI,GAAhB,CA3Cb;AA4CA,UAAM;AAAEkD,MAAAA;AAAF,QAAY3M,QAAQ,CAAC2J,SAAD,CAA1B;AACA,UAAM;AACJjB,MAAAA,UADI;AAEJnD,MAAAA,QAFI;AAGJkD,MAAAA,WAHI;AAIJ5E,MAAAA,oBAJI;AAKJH,MAAAA,OALI;AAMJmF,MAAAA,SANI;AAOJC,MAAAA,aAPI;AAQJzF,MAAAA,UARI;AASJE,MAAAA,KATI;AAUJyF,MAAAA,aAVI;AAWJE,MAAAA,kBAXI;AAYJC,MAAAA,kBAZI;AAaJC,MAAAA,eAbI;AAcJC,MAAAA,YAdI;AAeJhB,MAAAA,OAfI;AAgBJ3C,MAAAA,aAhBI;AAiBJkD,MAAAA,YAjBI;AAkBJU,MAAAA,WAlBI;AAmBJC,MAAAA;AAnBI,QAoBF3L,MAAM,CAACwD,MAAD,CApBV;AAqBA5C,IAAAA,OAAO,CAACsC,SAAD,EAAYnD,QAAQ,CAAC;AAC1BwD,MAAAA,KAD0B;AAE1BkH,MAAAA,OAF0B;AAG1B/E,MAAAA,YAH0B;AAI1BoC,MAAAA,aAJ0B;AAK1BkD,MAAAA,YAL0B;AAM1B/E,MAAAA,oBAN0B;AAO1BR,MAAAA,UAP0B;AAQ1B2C,MAAAA,kBAR0B;AAS1B7B,MAAAA,aAAa,EAAE/C,MAAM,CAAC+C,aATI;AAU1BmB,MAAAA,cAV0B;AAW1BQ,MAAAA,eAX0B;AAY1BsB,MAAAA,aAZ0B;AAa1B7B,MAAAA,QAb0B;AAc1BxB,MAAAA;AAd0B,KAAD,CAApB,CAAP;AAgBAzF,IAAAA,SAAS,CAAC,MAAM;AACd8C,MAAAA,MAAM,CAAC6H,iBAAP,GAA2BC,kBAAkB,CAACrH,KAAnB,GAA2BV,KAAK,CAAC6K,WAAN,IAAqB5D,CAAC,CAAC,uBAAD,CAA5E;;AACA,UAAIjH,KAAK,CAACa,QAAN,IAAkBwI,KAAK,CAACC,OAAN,CAActJ,KAAK,CAACc,UAApB,CAAlB,IAAqDd,KAAK,CAACc,UAAN,CAAiBG,MAAjB,GAA0B,CAAnF,EAAsF;AACpF8G,QAAAA,kBAAkB,CAACrH,KAAnB,GAA2B,EAA3B;AACD;;AACDpC,MAAAA,iBAAiB,CAAC2H,aAAa,CAACvF,KAAf,EAAsB4N,YAAtB,CAAjB;;AACA,UAAI9F,SAAS,CAAC9H,KAAV,IAAmB8H,SAAS,CAAC9H,KAAV,CAAgB0L,GAAvC,EAA4C;AAC1C,cAAM8F,OAAO,GAAG;AACdC,UAAAA,MAAM,EAAE,EADM;AAEdC,UAAAA,KAAK,EAAE,EAFO;AAGdC,UAAAA,IAAI,EAAE;AAHQ,SAAhB;AAKA,cAAM/F,MAAM,GAAG9D,SAAS,CAAC9H,KAAV,CAAgB+H,KAA/B;AACAxI,QAAAA,MAAM,CAACuH,kBAAP,GAA4B8E,MAAM,CAACpG,qBAAP,GAA+BwG,MAA/B,IAAyCwF,OAAO,CAACzH,UAAU,CAAC/J,KAAZ,CAA5E;AACD;;AACD,UAAIV,KAAK,CAAC2C,MAAN,IAAgB3C,KAAK,CAACa,QAA1B,EAAoC;AAClC+J,QAAAA,gBAAgB;AACjB;;AACDxN,MAAAA,QAAQ,CAAC,MAAM;AACb,YAAIoL,SAAS,CAAC9H,KAAV,CAAgB0L,GAApB,EAAyB;AACvB7E,UAAAA,UAAU,CAAC7G,KAAX,GAAmB8H,SAAS,CAAC9H,KAAV,CAAgB0L,GAAhB,CAAoBlG,qBAApB,GAA4CC,KAA/D;AACD;;AACD,YAAImC,GAAG,CAACgK,KAAJ,CAAUC,MAAd,EAAsB;AACpB,gBAAMpG,eAAe,GAAG3D,SAAS,CAAC9H,KAAV,CAAgB0L,GAAhB,CAAoBC,UAA5C;AACA,gBAAMC,MAAM,GAAG,GAAGhC,MAAH,CAAU7J,IAAV,CAAe0L,eAAf,EAAiCrK,IAAD,IAAUA,IAAI,CAACyK,OAAL,KAAiB,OAA3D,EAAoE,CAApE,CAAf;AACA,gBAAMgG,MAAM,GAAG/J,SAAS,CAAC9H,KAAV,CAAgB0L,GAAhB,CAAoB2D,aAApB,CAAkC,mBAAlC,CAAf;AACA5H,UAAAA,WAAW,CAACzH,KAAZ,GAAoBiM,IAAI,CAACC,GAAL,CAAS2F,MAAM,CAACrM,qBAAP,GAA+BC,KAA/B,GAAuC,CAAhD,EAAmD,EAAnD,CAApB;;AACA,cAAIlG,MAAM,CAACkI,WAAX,EAAwB;AACtBmE,YAAAA,MAAM,CAACjG,KAAP,CAAamM,WAAb,GAA4B,GAAE7F,IAAI,CAACC,GAAL,CAAS3M,MAAM,CAACkI,WAAhB,EAA6B,EAA7B,CAAiC,IAA/D;AACD;AACF;AACF,OAbO,CAAR;AAcAvF,MAAAA,WAAW;AACZ,KAjCQ,CAAT;AAkCAtG,IAAAA,eAAe,CAAC,MAAM;AACpBiC,MAAAA,oBAAoB,CAAC0H,aAAa,CAACvF,KAAf,EAAsB4N,YAAtB,CAApB;AACD,KAFc,CAAf;;AAGA,QAAItO,KAAK,CAACa,QAAN,IAAkB,CAACwI,KAAK,CAACC,OAAN,CAActJ,KAAK,CAACc,UAApB,CAAvB,EAAwD;AACtDwH,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B,EAA7B;AACD;;AACD,QAAI,CAACkB,KAAK,CAACa,QAAP,IAAmBwI,KAAK,CAACC,OAAN,CAActJ,KAAK,CAACc,UAApB,CAAvB,EAAwD;AACtDwH,MAAAA,GAAG,CAAC2C,IAAJ,CAASnM,kBAAT,EAA6B,EAA7B;AACD;;AACD,UAAM2T,aAAa,GAAGtW,QAAQ,CAAC,MAAM;AACnC,UAAI6J,EAAJ;;AACA,aAAO,CAACA,EAAE,GAAG0C,MAAM,CAAChI,KAAb,KAAuB,IAAvB,GAA8B,KAAK,CAAnC,GAAuCsF,EAAE,CAAC8J,SAAjD;AACD,KAH6B,CAA9B;AAIA,WAAO;AACL1H,MAAAA,cADK;AAELD,MAAAA,WAFK;AAGLsC,MAAAA,UAHK;AAILzB,MAAAA,QAJK;AAKLsF,MAAAA,YALK;AAML5D,MAAAA,eANK;AAOL+D,MAAAA,sBAPK;AAQLC,MAAAA,oBARK;AASLG,MAAAA,aATK;AAULG,MAAAA,SAVK;AAWLK,MAAAA,cAXK;AAYLxK,MAAAA,kBAZK;AAaL4K,MAAAA,cAbK;AAcLlI,MAAAA,UAdK;AAeLnD,MAAAA,QAfK;AAgBLkD,MAAAA,WAhBK;AAiBL5E,MAAAA,oBAjBK;AAkBLH,MAAAA,OAlBK;AAmBLmF,MAAAA,SAnBK;AAoBLC,MAAAA,aApBK;AAqBLzF,MAAAA,UArBK;AAsBLE,MAAAA,KAtBK;AAuBLyF,MAAAA,aAvBK;AAwBLE,MAAAA,kBAxBK;AAyBLC,MAAAA,kBAzBK;AA0BLC,MAAAA,eA1BK;AA2BLC,MAAAA,YA3BK;AA4BLhB,MAAAA,OA5BK;AA6BL0D,MAAAA,gBA7BK;AA8BLsC,MAAAA,iBA9BK;AA+BL/D,MAAAA,SA/BK;AAgCLD,MAAAA,cAhCK;AAiCLO,MAAAA,SAjCK;AAkCLW,MAAAA,aAlCK;AAmCLT,MAAAA,SAnCK;AAoCLmF,MAAAA,wBApCK;AAqCLoB,MAAAA,eArCK;AAsCLI,MAAAA,iBAtCK;AAuCLG,MAAAA,eAvCK;AAwCLC,MAAAA,WAxCK;AAyCLrF,MAAAA,IAzCK;AA0CLuF,MAAAA,UA1CK;AA2CLC,MAAAA,gBA3CK;AA4CLC,MAAAA,WA5CK;AA6CLC,MAAAA,UA7CK;AA8CLC,MAAAA,YA9CK;AA+CLC,MAAAA,WA/CK;AAgDLG,MAAAA,eAhDK;AAiDLzG,MAAAA,eAjDK;AAkDLa,MAAAA,KAlDK;AAmDLhD,MAAAA,SAnDK;AAoDLC,MAAAA,KApDK;AAqDLC,MAAAA,MArDK;AAsDL+J,MAAAA,aAtDK;AAuDL9J,MAAAA,IAvDK;AAwDL1C,MAAAA,aAxDK;AAyDL2C,MAAAA;AAzDK,KAAP;AA2DD;;AAhQ4B,CAAD,CAA9B;AAmQA,MAAM8J,UAAU,GAAG;AAAErN,EAAAA,KAAK,EAAE;AAAT,CAAnB;AACA,MAAMsN,UAAU,GAAG;AAAEzO,EAAAA,GAAG,EAAE;AAAP,CAAnB;AACA,MAAM0O,UAAU,GAAG;AAAEvN,EAAAA,KAAK,EAAE;AAAT,CAAnB;AACA,MAAMwN,UAAU,GAAG;AAAExM,EAAAA,KAAK,EAAE;AAAE,cAAU,MAAZ;AAAoB,eAAW,MAA/B;AAAuC,uBAAmB,QAA1D;AAAoE,mBAAe;AAAnF;AAAT,CAAnB;AACA,MAAMyM,UAAU,GAAG;AACjB5O,EAAAA,GAAG,EAAE,CADY;AAEjBmB,EAAAA,KAAK,EAAE;AAFU,CAAnB;;AAIA,SAAS0N,QAAT,CAAkBhO,IAAlB,EAAwBC,MAAxB,EAAgCC,MAAhC,EAAwCC,MAAxC,EAAgDC,KAAhD,EAAuDC,QAAvD,EAAiE;AAC/D,QAAM4N,iBAAiB,GAAG1V,gBAAgB,CAAC,QAAD,CAA1C;;AACA,QAAM2V,mBAAmB,GAAG3V,gBAAgB,CAAC,UAAD,CAA5C;;AACA,QAAM4V,oBAAoB,GAAG5V,gBAAgB,CAAC,WAAD,CAA7C;;AACA,QAAM6V,uBAAuB,GAAG7V,gBAAgB,CAAC,cAAD,CAAhD;;AACA,QAAM8V,yBAAyB,GAAG9V,gBAAgB,CAAC,gBAAD,CAAlD;;AACA,QAAM+V,oBAAoB,GAAG/V,gBAAgB,CAAC,WAAD,CAA7C;;AACA,QAAMgW,wBAAwB,GAAG/V,gBAAgB,CAAC,eAAD,CAAjD;;AACA,SAAOb,cAAc,EAAEC,SAAS,IAAIC,WAAW,CAAC,KAAD,EAAQ;AACrDM,IAAAA,GAAG,EAAE,eADgD;AAErDmI,IAAAA,KAAK,EAAE,CAAC,WAAD,EAAc,CAACN,IAAI,CAAC0F,UAAL,GAAkB,gBAAgB1F,IAAI,CAAC0F,UAAvC,GAAoD,EAArD,CAAd,CAF8C;AAGrDjF,IAAAA,OAAO,EAAER,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanI,aAAa,CAAC,CAAC,GAAG0I,IAAJ,KAAaR,IAAI,CAACgM,UAAL,IAAmBhM,IAAI,CAACgM,UAAL,CAAgB,GAAGxL,IAAnB,CAAjC,EAA2D,CAAC,MAAD,CAA3D,CAAzC;AAH4C,GAAR,EAI5C,CACDxI,WAAW,CAACsW,oBAAD,EAAuB;AAChCnW,IAAAA,GAAG,EAAE,QAD2B;AAEhCqF,IAAAA,OAAO,EAAEwC,IAAI,CAAC4F,eAFkB;AAGhC,wBAAoB3F,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAcuO,MAAD,IAAYxO,IAAI,CAAC4F,eAAL,GAAuB4I,MAA/D,CAHY;AAIhCC,IAAAA,SAAS,EAAE,cAJqB;AAKhC,sBAAkBzO,IAAI,CAACgN,kBALS;AAMhC,oBAAiB,qBAAoBhN,IAAI,CAACa,WAAY,EANtB;AAOhC,2BAAuB,CAAC,cAAD,EAAiB,WAAjB,EAA8B,OAA9B,EAAuC,MAAvC,CAPS;AAQhC,mBAAe,EARiB;AAShC6N,IAAAA,MAAM,EAAE,OATwB;AAUhCC,IAAAA,IAAI,EAAE,EAV0B;AAWhCC,IAAAA,OAAO,EAAE,OAXuB;AAYhCC,IAAAA,UAAU,EAAE,gBAZoB;AAahC,+BAA2B,KAbK;AAchC,wBAAoB,KAdY;AAehCC,IAAAA,aAAa,EAAE9O,IAAI,CAAC0L;AAfY,GAAvB,EAgBR;AACDkD,IAAAA,OAAO,EAAEnW,OAAO,CAAC,MAAM,CACrBT,WAAW,CAAC,KAAD,EAAQ2V,UAAR,EAAoB,CAC7B3N,IAAI,CAAClE,QAAL,IAAiBlE,SAAS,IAAIC,WAAW,CAAC,KAAD,EAAQ;AAC/CsH,MAAAA,GAAG,EAAE,CAD0C;AAE/ChH,MAAAA,GAAG,EAAE,MAF0C;AAG/CmI,MAAAA,KAAK,EAAE,iBAHwC;AAI/CgB,MAAAA,KAAK,EAAE;AAAE,qBAAatB,IAAI,CAACwC,UAAL,GAAkB,EAAlB,GAAuB,IAAtC;AAA4CpB,QAAAA,KAAK,EAAE;AAAnD;AAJwC,KAAR,EAKtC,CACDpB,IAAI,CAACmH,YAAL,IAAqBnH,IAAI,CAACX,QAAL,CAAcnD,MAAnC,IAA6CtE,SAAS,IAAIC,WAAW,CAAC,MAAD,EAAS+V,UAAT,EAAqB,CACxF5V,WAAW,CAACiW,iBAAD,EAAoB;AAC7Bc,MAAAA,QAAQ,EAAE,CAAC/O,IAAI,CAACmE,cAAN,IAAwB,CAACnE,IAAI,CAACX,QAAL,CAAc,CAAd,EAAiB9C,UADvB;AAE7BwI,MAAAA,IAAI,EAAE/E,IAAI,CAAC2F,eAFkB;AAG7B2F,MAAAA,GAAG,EAAEtL,IAAI,CAACX,QAAL,CAAc,CAAd,EAAiBN,QAHO;AAI7BP,MAAAA,IAAI,EAAE,MAJuB;AAK7B,6BAAuB,EALM;AAM7BwQ,MAAAA,OAAO,EAAE/O,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAauO,MAAD,IAAYxO,IAAI,CAACiK,SAAL,CAAeuE,MAAf,EAAuBxO,IAAI,CAACX,QAAL,CAAc,CAAd,CAAvB,CAAtC;AANoB,KAApB,EAOR;AACDT,MAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBT,WAAW,CAAC,MAAD,EAAS;AAClBsI,QAAAA,KAAK,EAAE,sBADW;AAElBgB,QAAAA,KAAK,EAAE;AAAE,uBAAatB,IAAI,CAACwC,UAAL,GAAkB,GAAlB,GAAwB;AAAvC;AAFW,OAAT,EAGRvK,eAAe,CAAC+H,IAAI,CAACX,QAAL,CAAc,CAAd,EAAiBjD,YAAlB,CAHP,EAGwC,CAHxC,CADU,CAAP,CADf;AAOD6S,MAAAA,CAAC,EAAE;AAPF,KAPQ,EAeR,CAfQ,EAeL,CAAC,UAAD,EAAa,MAAb,EAAqB,KAArB,CAfK,CAD6E,EAiBxFjP,IAAI,CAACX,QAAL,CAAcnD,MAAd,GAAuB,CAAvB,IAA4BtE,SAAS,IAAIC,WAAW,CAACoW,iBAAD,EAAoB;AACtE9O,MAAAA,GAAG,EAAE,CADiE;AAEtE4P,MAAAA,QAAQ,EAAE,KAF4D;AAGtEhK,MAAAA,IAAI,EAAE/E,IAAI,CAAC2F,eAH2D;AAItEnH,MAAAA,IAAI,EAAE,MAJgE;AAKtE,6BAAuB;AAL+C,KAApB,EAMjD;AACDI,MAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBT,WAAW,CAAC,MAAD,EAAS6V,UAAT,EAAqB,OAAO5V,eAAe,CAAC+H,IAAI,CAACX,QAAL,CAAcnD,MAAd,GAAuB,CAAxB,CAA3C,EAAuE,CAAvE,CADU,CAAP,CADf;AAID+S,MAAAA,CAAC,EAAE;AAJF,KANiD,EAWjD,CAXiD,EAW9C,CAAC,MAAD,CAX8C,CAApD,IAWmBvW,kBAAkB,CAAC,MAAD,EAAS,IAAT,CA5BmD,CAArB,CAArE,IA6BMA,kBAAkB,CAAC,MAAD,EAAS,IAAT,CA9BvB,EA+BDA,kBAAkB,CAAC,SAAD,CA/BjB,EAgCD,CAACsH,IAAI,CAACmH,YAAN,IAAsBvP,SAAS,IAAIC,WAAW,CAACc,UAAD,EAAa;AACzDwG,MAAAA,GAAG,EAAE,CADoD;AAEzD+P,MAAAA,YAAY,EAAElP,IAAI,CAAC6F;AAFsC,KAAb,EAG3C;AACDjH,MAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBT,WAAW,CAAC,MAAD,EAAS;AAClBsJ,QAAAA,KAAK,EAAE;AAAE6N,UAAAA,UAAU,EAAEnP,IAAI,CAACoD,WAAL,IAAoBpD,IAAI,CAACX,QAAL,CAAcnD,MAAlC,GAA4C,GAAE8D,IAAI,CAACoD,WAAY,IAA/D,GAAqE;AAAnF;AADW,OAAT,EAER,EACAxL,SAAS,CAAC,IAAD,CAAT,EAAiBC,WAAW,CAACe,QAAD,EAAW,IAAX,EAAiBC,UAAU,CAACmH,IAAI,CAACX,QAAN,EAAiBtC,IAAD,IAAU;AAChF,eAAOnF,SAAS,IAAIC,WAAW,CAACoW,iBAAD,EAAoB;AACjD9O,UAAAA,GAAG,EAAEa,IAAI,CAACkM,WAAL,CAAiBnP,IAAjB,CAD4C;AAEjDgS,UAAAA,QAAQ,EAAE,CAAC/O,IAAI,CAACmE,cAAN,IAAwB,CAACpH,IAAI,CAACR,UAFS;AAGjDwI,UAAAA,IAAI,EAAE/E,IAAI,CAAC2F,eAHsC;AAIjD2F,UAAAA,GAAG,EAAEvO,IAAI,CAACgC,QAJuC;AAKjDP,UAAAA,IAAI,EAAE,MAL2C;AAMjD,iCAAuB,EAN0B;AAOjDwQ,UAAAA,OAAO,EAAGR,MAAD,IAAYxO,IAAI,CAACiK,SAAL,CAAeuE,MAAf,EAAuBzR,IAAvB;AAP4B,SAApB,EAQ5B;AACD6B,UAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBT,WAAW,CAAC,MAAD,EAAS;AAClBsI,YAAAA,KAAK,EAAE,sBADW;AAElBgB,YAAAA,KAAK,EAAE;AAAE,2BAAatB,IAAI,CAACwC,UAAL,GAAkB,EAAlB,GAAuB;AAAtC;AAFW,WAAT,EAGRvK,eAAe,CAAC8E,IAAI,CAACX,YAAN,CAHP,EAG4B,CAH5B,CADU,CAAP,CADf;AAOD6S,UAAAA,CAAC,EAAE;AAPF,SAR4B,EAgB5B,IAhB4B,EAgBtB,CAAC,UAAD,EAAa,MAAb,EAAqB,KAArB,EAA4B,SAA5B,CAhBsB,CAA/B;AAiBD,OAlBuD,CAA3B,EAkBzB,GAlByB,CAD5B,EAFQ,EAsBR,CAtBQ,CADU,CAAP,CADf;AA0BDA,MAAAA,CAAC,EAAE;AA1BF,KAH2C,EA8B3C,CA9B2C,EA8BxC,CAAC,cAAD,CA9BwC,CAA9C,IA8B2BvW,kBAAkB,CAAC,MAAD,EAAS,IAAT,CA9D5C,EA+DDA,kBAAkB,CAAC,UAAD,CA/DjB,EAgEDsH,IAAI,CAACkE,UAAL,GAAkBvM,cAAc,EAAEC,SAAS,IAAIC,WAAW,CAAC,OAAD,EAAU;AAClEsH,MAAAA,GAAG,EAAE,CAD6D;AAElEhH,MAAAA,GAAG,EAAE,OAF6D;AAGlE,6BAAuB8H,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAauO,MAAD,IAAYxO,IAAI,CAAC3C,KAAL,GAAamR,MAAnD,CAH2C;AAIlEhQ,MAAAA,IAAI,EAAE,MAJ4D;AAKlE8B,MAAAA,KAAK,EAAE,CAAC,kBAAD,EAAqB,CAACN,IAAI,CAAC0F,UAAL,GAAmB,MAAK1F,IAAI,CAAC0F,UAAW,EAAxC,GAA4C,EAA7C,CAArB,CAL2D;AAMlErK,MAAAA,QAAQ,EAAE2E,IAAI,CAACmE,cANmD;AAOlE0I,MAAAA,YAAY,EAAE7M,IAAI,CAAC6M,YAP+C;AAQlEvL,MAAAA,KAAK,EAAE;AAAE6N,QAAAA,UAAU,EAAEnP,IAAI,CAACoD,WAAL,IAAoB,CAACpD,IAAI,CAACX,QAAL,CAAcnD,MAAnC,IAA6C8D,IAAI,CAACqD,cAAlD,GAAoE,GAAErD,IAAI,CAACoD,WAAY,IAAvF,GAA6F,IAA3G;AAAiHgM,QAAAA,QAAQ,EAAE,GAA3H;AAAgIhO,QAAAA,KAAK,EAAG,GAAEpB,IAAI,CAACuC,WAAL,IAAoBvC,IAAI,CAACwC,UAAL,GAAkB,EAAtC,CAA0C,GAApL;AAAwL6M,QAAAA,QAAQ,EAAG,GAAErP,IAAI,CAACwC,UAAL,GAAkB,EAAG;AAA1N,OAR2D;AASlE8M,MAAAA,OAAO,EAAErP,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAAC2L,WAAL,IAAoB3L,IAAI,CAAC2L,WAAL,CAAiB,GAAGnL,IAApB,CAA3D,CATyD;AAUlE+O,MAAAA,MAAM,EAAEtP,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAAC6L,UAAL,IAAmB7L,IAAI,CAAC6L,UAAL,CAAgB,GAAGrL,IAAnB,CAA1D,CAV0D;AAWlEgP,MAAAA,OAAO,EAAEvP,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAACmI,iBAAL,IAA0BnI,IAAI,CAACmI,iBAAL,CAAuB,GAAG3H,IAA1B,CAAjE,CAXyD;AAYlEiP,MAAAA,SAAS,EAAE,CACTxP,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAY,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAACmL,eAAL,IAAwBnL,IAAI,CAACmL,eAAL,CAAqB,GAAG3K,IAAxB,CAA/D,CADS,EAETP,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAYnH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACqM,eAAL,CAAqB,MAArB,CAAb,EAA2C,CAAC,SAAD,CAA3C,CAAd,EAAuE,CAAC,MAAD,CAAvE,CAAlC,CAFS,EAGTpM,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAYnH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACqM,eAAL,CAAqB,MAArB,CAAb,EAA2C,CAAC,SAAD,CAA3C,CAAd,EAAuE,CAAC,IAAD,CAAvE,CAAlC,CAHS,EAITpM,MAAM,CAAC,CAAD,CAAN,KAAcA,MAAM,CAAC,CAAD,CAAN,GAAYnH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACxC,OAAL,GAAe,KAA5B,EAAmC,CAAC,MAAD,EAAS,SAAT,CAAnC,CAAd,EAAuE,CAAC,KAAD,CAAvE,CAAlC,CAJS,EAKTyC,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAChB,aAAa,CAAC,CAAC,GAAG0I,IAAJ,KAAaR,IAAI,CAACiM,YAAL,IAAqBjM,IAAI,CAACiM,YAAL,CAAkB,GAAGzL,IAArB,CAAnC,EAA+D,CAAC,MAAD,EAAS,SAAT,CAA/D,CAAd,EAAmG,CAAC,OAAD,CAAnG,CAApC,CALS,EAMTP,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAC,CAAC,GAAG0H,IAAJ,KAAaR,IAAI,CAAC8J,aAAL,IAAsB9J,IAAI,CAAC8J,aAAL,CAAmB,GAAGtJ,IAAtB,CAApC,EAAiE,CAAC,QAAD,CAAjE,CAApC,CANS,EAOTP,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAE0V,MAAD,IAAYxO,IAAI,CAACxC,OAAL,GAAe,KAA5B,EAAmC,CAAC,KAAD,CAAnC,CAApC,CAPS,CAZuD;AAqBlEkS,MAAAA,kBAAkB,EAAEzP,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAa,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAACuL,iBAAL,IAA0BvL,IAAI,CAACuL,iBAAL,CAAuB,GAAG/K,IAA1B,CAAnE,CArB8C;AAsBlEmP,MAAAA,mBAAmB,EAAE1P,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAa,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAACuL,iBAAL,IAA0BvL,IAAI,CAACuL,iBAAL,CAAuB,GAAG/K,IAA1B,CAAnE,CAtB6C;AAuBlEoP,MAAAA,gBAAgB,EAAE3P,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAa,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAACuL,iBAAL,IAA0BvL,IAAI,CAACuL,iBAAL,CAAuB,GAAG/K,IAA1B,CAAnE,CAvBgD;AAwBlEqP,MAAAA,OAAO,EAAE5P,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAa,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAAC2J,oBAAL,IAA6B3J,IAAI,CAAC2J,oBAAL,CAA0B,GAAGnJ,IAA7B,CAAtE;AAxByD,KAAV,EAyBvD,IAzBuD,EAyBjD,EAzBiD,EAyB7C,CAAC,UAAD,EAAa,cAAb,CAzB6C,CAA1B,GAyBa,CAC3C,CAACzH,UAAD,EAAaiH,IAAI,CAAC3C,KAAlB,CAD2C,CAzBb,CAAhC,GA2BK3E,kBAAkB,CAAC,MAAD,EAAS,IAAT,CA3FtB,CALsC,EAiGtC,CAjGsC,CAAzC,IAiGSA,kBAAkB,CAAC,MAAD,EAAS,IAAT,CAlGE,EAmG7BV,WAAW,CAACkW,mBAAD,EAAsB;AAC/BtB,MAAAA,EAAE,EAAE5M,IAAI,CAAC4M,EADsB;AAE/BzU,MAAAA,GAAG,EAAE,WAF0B;AAG/B4D,MAAAA,UAAU,EAAEiE,IAAI,CAAC4C,aAHc;AAI/B,6BAAuB3C,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAcuO,MAAD,IAAYxO,IAAI,CAAC4C,aAAL,GAAqB4L,MAA7D,CAJQ;AAK/BhQ,MAAAA,IAAI,EAAE,MALyB;AAM/BsH,MAAAA,WAAW,EAAE9F,IAAI,CAACgD,kBANa;AAO/B3E,MAAAA,IAAI,EAAE2B,IAAI,CAAC3B,IAPoB;AAQ/BwO,MAAAA,YAAY,EAAE7M,IAAI,CAAC6M,YARY;AAS/B9H,MAAAA,IAAI,EAAE/E,IAAI,CAAC0F,UAToB;AAU/BrK,MAAAA,QAAQ,EAAE2E,IAAI,CAACmE,cAVgB;AAW/BF,MAAAA,QAAQ,EAAEjE,IAAI,CAACiE,QAXgB;AAY/B,wBAAkB,KAZa;AAa/B3D,MAAAA,KAAK,EAAE;AAAE,oBAAYN,IAAI,CAACxC;AAAnB,OAbwB;AAc/BsS,MAAAA,QAAQ,EAAE9P,IAAI,CAAClE,QAAL,IAAiBkE,IAAI,CAACkE,UAAtB,GAAmC,IAAnC,GAA0C,IAdrB;AAe/BoL,MAAAA,OAAO,EAAEtP,IAAI,CAAC2L,WAfiB;AAgB/B4D,MAAAA,MAAM,EAAEvP,IAAI,CAAC6L,UAhBkB;AAiB/BgE,MAAAA,OAAO,EAAE7P,IAAI,CAAC0J,sBAjBiB;AAkB/BqG,MAAAA,OAAO,EAAE/P,IAAI,CAAC0J,sBAlBiB;AAmB/B+F,MAAAA,SAAS,EAAE,CACTxP,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACqM,eAAL,CAAqB,MAArB,CAAb,EAA2C,CAAC,MAAD,EAAS,SAAT,CAA3C,CAAd,EAA+E,CAAC,MAAD,CAA/E,CAApC,CADS,EAETpM,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACqM,eAAL,CAAqB,MAArB,CAAb,EAA2C,CAAC,MAAD,EAAS,SAAT,CAA3C,CAAd,EAA+E,CAAC,IAAD,CAA/E,CAApC,CAFS,EAGTvT,QAAQ,CAAChB,aAAa,CAACkI,IAAI,CAACiM,YAAN,EAAoB,CAAC,MAAD,EAAS,SAAT,CAApB,CAAd,EAAwD,CAAC,OAAD,CAAxD,CAHC,EAIThM,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAChB,aAAa,CAAE0W,MAAD,IAAYxO,IAAI,CAACxC,OAAL,GAAe,KAA5B,EAAmC,CAAC,MAAD,EAAS,SAAT,CAAnC,CAAd,EAAuE,CAAC,KAAD,CAAvE,CAApC,CAJS,EAKTyC,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAanH,QAAQ,CAAE0V,MAAD,IAAYxO,IAAI,CAACxC,OAAL,GAAe,KAA5B,EAAmC,CAAC,KAAD,CAAnC,CAApC,CALS,CAnBoB;AA0B/B+C,MAAAA,YAAY,EAAEN,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAcuO,MAAD,IAAYxO,IAAI,CAAC8C,aAAL,GAAqB,IAA7D,CA1BiB;AA2B/BkN,MAAAA,YAAY,EAAE/P,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAcuO,MAAD,IAAYxO,IAAI,CAAC8C,aAAL,GAAqB,KAA7D;AA3BiB,KAAtB,EA4BR9J,WAAW,CAAC;AACbiX,MAAAA,MAAM,EAAExX,OAAO,CAAC,MAAM,CACpBd,cAAc,CAACK,WAAW,CAAC,GAAD,EAAM;AAC9BsI,QAAAA,KAAK,EAAE,CAAC,kBAAD,EAAqB,gBAArB,EAAuC,aAAaN,IAAI,CAAC0E,SAAzD;AADuB,OAAN,EAEvB,IAFuB,EAEjB,CAFiB,CAAZ,EAED,CACX,CAACxM,KAAD,EAAQ,CAAC8H,IAAI,CAACoE,SAAd,CADW,CAFC,CADM,EAMpBpE,IAAI,CAACoE,SAAL,IAAkBxM,SAAS,IAAIC,WAAW,CAAC,GAAD,EAAM;AAC9CsH,QAAAA,GAAG,EAAE,CADyC;AAE9CmB,QAAAA,KAAK,EAAG,mCAAkCN,IAAI,CAACiN,SAAU,EAFX;AAG9CxM,QAAAA,OAAO,EAAER,MAAM,CAAC,EAAD,CAAN,KAAeA,MAAM,CAAC,EAAD,CAAN,GAAa,CAAC,GAAGO,IAAJ,KAAaR,IAAI,CAAC8L,gBAAL,IAAyB9L,IAAI,CAAC8L,gBAAL,CAAsB,GAAGtL,IAAzB,CAAlE;AAHqC,OAAN,EAIvC,IAJuC,EAIjC,CAJiC,CAA1C,IAIe9H,kBAAkB,CAAC,MAAD,EAAS,IAAT,CAVb,CAAP,CADF;AAabuW,MAAAA,CAAC,EAAE;AAbU,KAAD,EAcX,CACDjP,IAAI,CAACU,MAAL,CAAY8M,MAAZ,GAAqB;AACnBnP,MAAAA,IAAI,EAAE,QADa;AAEnB6R,MAAAA,EAAE,EAAEzX,OAAO,CAAC,MAAM,CAChBT,WAAW,CAAC,KAAD,EAAQ8V,UAAR,EAAoB,CAC7B/V,UAAU,CAACiI,IAAI,CAACU,MAAN,EAAc,QAAd,CADmB,CAApB,CADK,CAAP;AAFQ,KAArB,GAOI,KAAK,CARR,CAdW,CA5BH,EAmDP,IAnDO,EAmDD,CAAC,IAAD,EAAO,YAAP,EAAqB,aAArB,EAAoC,MAApC,EAA4C,cAA5C,EAA4D,MAA5D,EAAoE,UAApE,EAAgF,UAAhF,EAA4F,OAA5F,EAAqG,UAArG,EAAiH,SAAjH,EAA4H,QAA5H,EAAsI,SAAtI,EAAiJ,SAAjJ,EAA4J,WAA5J,CAnDC,CAnGkB,CAApB,CADU,CAAP,CADf;AA2JD9B,IAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBT,WAAW,CAACqW,yBAAD,EAA4B,IAA5B,EAAkC;AAC3CzP,MAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBd,cAAc,CAACK,WAAW,CAACoW,uBAAD,EAA0B;AAClDjW,QAAAA,GAAG,EAAE,WAD6C;AAElDgS,QAAAA,GAAG,EAAE,IAF6C;AAGlD,sBAAc,0BAHoC;AAIlD,sBAAc,0BAJoC;AAKlD7J,QAAAA,KAAK,EAAE;AAAE,sBAAY,CAACN,IAAI,CAACyF,WAAN,IAAqBzF,IAAI,CAAC3C,KAA1B,IAAmC2C,IAAI,CAACrC,oBAAL,KAA8B;AAA/E;AAL2C,OAA1B,EAMvB;AACDiB,QAAAA,OAAO,EAAEnG,OAAO,CAAC,MAAM,CACrBuH,IAAI,CAACqF,aAAL,IAAsBzN,SAAS,IAAIC,WAAW,CAACsW,oBAAD,EAAuB;AACnEhP,UAAAA,GAAG,EAAE,CAD8D;AAEnExD,UAAAA,KAAK,EAAEqE,IAAI,CAAC3C,KAFuD;AAGnEK,UAAAA,OAAO,EAAE;AAH0D,SAAvB,EAI3C,IAJ2C,EAIrC,CAJqC,EAIlC,CAAC,OAAD,CAJkC,CAA9C,IAI0BhF,kBAAkB,CAAC,MAAD,EAAS,IAAT,CALvB,EAMrBX,UAAU,CAACiI,IAAI,CAACU,MAAN,EAAc,SAAd,CANW,CAAP,CADf;AASDuO,QAAAA,CAAC,EAAE;AATF,OANuB,EAgBvB,CAhBuB,EAgBpB,CAAC,OAAD,CAhBoB,CAAZ,EAgBI,CAChB,CAAC/W,KAAD,EAAQ8H,IAAI,CAACmC,OAAL,CAAa4C,IAAb,GAAoB,CAApB,IAAyB,CAAC/E,IAAI,CAAC6E,OAAvC,CADgB,CAhBJ,CADO,EAoBrB7E,IAAI,CAAC4E,SAAL,KAAmB,CAAC5E,IAAI,CAACyF,WAAN,IAAqBzF,IAAI,CAAC6E,OAA1B,IAAqC7E,IAAI,CAACyF,WAAL,IAAoBzF,IAAI,CAACmC,OAAL,CAAa4C,IAAb,KAAsB,CAAlG,KAAwGnN,SAAS,IAAIC,WAAW,CAACe,QAAD,EAAW;AAAEuG,QAAAA,GAAG,EAAE;AAAP,OAAX,EAAuB,CACrJa,IAAI,CAACU,MAAL,CAAYyP,KAAZ,GAAoBpY,UAAU,CAACiI,IAAI,CAACU,MAAN,EAAc,OAAd,EAAuB;AAAEvB,QAAAA,GAAG,EAAE;AAAP,OAAvB,CAA9B,IAAoEvH,SAAS,IAAIC,WAAW,CAAC,GAAD,EAAMkW,UAAN,EAAkB9V,eAAe,CAAC+H,IAAI,CAAC4E,SAAN,CAAjC,EAAmD,CAAnD,CAA5F,CADqJ,CAAvB,EAE7H,IAF6H,CAAhI,IAEYlM,kBAAkB,CAAC,MAAD,EAAS,IAAT,CAtBT,CAAP,CAD2B;AAyB3CuW,MAAAA,CAAC,EAAE;AAzBwC,KAAlC,CADU,CAAP,CA3Jf;AAwLDA,IAAAA,CAAC,EAAE;AAxLF,GAhBQ,EAyMR,CAzMQ,EAyML,CAAC,SAAD,EAAY,gBAAZ,EAA8B,cAA9B,EAA8C,eAA9C,CAzMK,CADV,CAJ4C,EA+M5C,CA/M4C,CAA1B,GA+Mb,CACN,CAACV,wBAAD,EAA2BvO,IAAI,CAAC+L,WAAhC,EAA6C/L,IAAI,CAAC0N,aAAlD,CADM,CA/Ma,CAArB;AAkND;;AAEDnB,QAAQ,CAACxM,MAAT,GAAkBiO,QAAlB;AACAzB,QAAQ,CAAC5L,MAAT,GAAkB,gCAAlB;;AAEA4L,QAAQ,CAAC6D,OAAT,GAAoBC,GAAD,IAAS;AAC1BA,EAAAA,GAAG,CAACC,SAAJ,CAAc/D,QAAQ,CAAClO,IAAvB,EAA6BkO,QAA7B;AACD,CAFD;;AAGA,MAAMgE,OAAO,GAAGhE,QAAhB;AAEA,eAAegE,OAAf;AACA,SAASnS,MAAM,IAAIoS,MAAnB","sourcesContent":["import { inject, computed, getCurrentInstance, watch, onBeforeUnmount, defineComponent, reactive, toRefs, withDirectives, openBlock, createBlock, withModifiers, renderSlot, createVNode, toDisplayString, vShow, ref, onMounted, nextTick, provide, resolveComponent, resolveDirective, withCtx, createCommentVNode, Transition, Fragment, renderList, withKeys, vModelText, createSlots } from 'vue';\nimport ElInput from '../el-input';\nimport { getValueByPath, escapeRegexpString, useGlobalConfig, isIE, isEdge } from '../utils/util';\nimport { addResizeListener, removeResizeListener } from '../utils/resize-event';\nimport ElTag from '../el-tag';\nimport ElPopper from '../el-popper';\nimport ElScrollbar from '../el-scrollbar';\nimport { ClickOutside } from '../directives';\nimport { useLocaleInject, useFocus } from '../hooks';\nimport { UPDATE_MODEL_EVENT, CHANGE_EVENT } from '../utils/constants';\nimport { isValidComponentSize } from '../utils/validators';\nimport mitt from 'mitt';\nimport { EVENT_CODE } from '../utils/aria';\nimport isServer from '../utils/isServer';\nimport scrollIntoView from '../utils/scroll-into-view';\nimport lodashDebounce from 'lodash/debounce';\nimport { isKorean } from '../utils/isDef';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport isEqual from 'lodash/isEqual';\n\nconst selectGroupKey = \"ElSelectGroup\";\nconst selectKey = \"ElSelect\";\nconst selectEvents = {\n  queryChange: \"elOptionQueryChange\",\n  groupQueryChange: \"elOptionGroupQueryChange\"\n};\n\nfunction useOption(props, states) {\n  const select = inject(selectKey);\n  const selectGroup = inject(selectGroupKey, { disabled: false });\n  const isObject = computed(() => {\n    return Object.prototype.toString.call(props.value).toLowerCase() === \"[object object]\";\n  });\n  const itemSelected = computed(() => {\n    if (!select.props.multiple) {\n      return isEqual(props.value, select.props.modelValue);\n    } else {\n      return contains(select.props.modelValue, props.value);\n    }\n  });\n  const limitReached = computed(() => {\n    if (select.props.multiple) {\n      const modelValue = select.props.modelValue || [];\n      return !itemSelected.value && modelValue.length >= select.props.multipleLimit && select.props.multipleLimit > 0;\n    } else {\n      return false;\n    }\n  });\n  const currentLabel = computed(() => {\n    return props.label || (isObject.value ? \"\" : props.value);\n  });\n  const currentValue = computed(() => {\n    return props.value || props.label || \"\";\n  });\n  const isDisabled = computed(() => {\n    return props.disabled || states.groupDisabled || limitReached.value;\n  });\n  const instance = getCurrentInstance();\n  const contains = (arr = [], target) => {\n    if (!isObject.value) {\n      return arr && arr.indexOf(target) > -1;\n    } else {\n      const valueKey = select.props.valueKey;\n      return arr && arr.some((item) => {\n        return getValueByPath(item, valueKey) === getValueByPath(target, valueKey);\n      });\n    }\n  };\n  const isEqual = (a, b) => {\n    if (!isObject.value) {\n      return a === b;\n    } else {\n      const { valueKey } = select.props;\n      return getValueByPath(a, valueKey) === getValueByPath(b, valueKey);\n    }\n  };\n  const hoverItem = () => {\n    if (!props.disabled && !selectGroup.disabled) {\n      select.hoverIndex = select.optionsArray.indexOf(instance);\n    }\n  };\n  const queryChange = (query) => {\n    const regexp = new RegExp(escapeRegexpString(query), \"i\");\n    states.visible = regexp.test(currentLabel.value) || props.created;\n    if (!states.visible) {\n      select.filteredOptionsCount--;\n    }\n  };\n  watch(() => currentLabel.value, () => {\n    if (!props.created && !select.props.remote)\n      select.setSelected();\n  });\n  watch(() => props.value, (val, oldVal) => {\n    const { remote, valueKey } = select.props;\n    if (!props.created && !remote) {\n      if (valueKey && typeof val === \"object\" && typeof oldVal === \"object\" && val[valueKey] === oldVal[valueKey]) {\n        return;\n      }\n      select.setSelected();\n    }\n  });\n  watch(() => selectGroup.disabled, () => {\n    states.groupDisabled = selectGroup.disabled;\n  }, { immediate: true });\n  select.selectEmitter.on(selectEvents.queryChange, queryChange);\n  onBeforeUnmount(() => {\n    select.selectEmitter.off(selectEvents.queryChange, queryChange);\n  });\n  return {\n    select,\n    currentLabel,\n    currentValue,\n    itemSelected,\n    isDisabled,\n    hoverItem\n  };\n}\n\nvar script = defineComponent({\n  name: \"ElOption\",\n  componentName: \"ElOption\",\n  props: {\n    value: {\n      required: true,\n      type: [String, Number, Boolean, Object]\n    },\n    label: [String, Number],\n    created: Boolean,\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const states = reactive({\n      index: -1,\n      groupDisabled: false,\n      visible: true,\n      hitState: false,\n      hover: false\n    });\n    const {\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem\n    } = useOption(props, states);\n    const {\n      visible,\n      hover\n    } = toRefs(states);\n    const vm = getCurrentInstance().proxy;\n    const key = vm.value;\n    select.onOptionCreate(vm);\n    onBeforeUnmount(() => {\n      const { selected } = select;\n      let selectedOptions = select.props.multiple ? selected : [selected];\n      const doesExist = select.cachedOptions.has(key);\n      const doesSelected = selectedOptions.some((item) => {\n        return item.value === vm.value;\n      });\n      if (doesExist && !doesSelected) {\n        select.cachedOptions.delete(key);\n      }\n      select.onOptionDestroy(key);\n    });\n    function selectOptionClick() {\n      if (props.disabled !== true && states.groupDisabled !== true) {\n        select.handleOptionSelect(vm, true);\n      }\n    }\n    return {\n      currentLabel,\n      itemSelected,\n      isDisabled,\n      select,\n      hoverItem,\n      visible,\n      hover,\n      selectOptionClick\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return withDirectives((openBlock(), createBlock(\"li\", {\n    class: [\"el-select-dropdown__item\", {\n      \"selected\": _ctx.itemSelected,\n      \"is-disabled\": _ctx.isDisabled,\n      \"hover\": _ctx.hover\n    }],\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.hoverItem && _ctx.hoverItem(...args)),\n    onClick: _cache[2] || (_cache[2] = withModifiers((...args) => _ctx.selectOptionClick && _ctx.selectOptionClick(...args), [\"stop\"]))\n  }, [\n    renderSlot(_ctx.$slots, \"default\", {}, () => [\n      createVNode(\"span\", null, toDisplayString(_ctx.currentLabel), 1)\n    ])\n  ], 34)), [\n    [vShow, _ctx.visible]\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/select/src/option.vue\";\n\nvar script$1 = defineComponent({\n  name: \"ElSelectDropdown\",\n  componentName: \"ElSelectDropdown\",\n  setup() {\n    const select = inject(selectKey);\n    const popperClass = computed(() => select.props.popperClass);\n    const isMultiple = computed(() => select.props.multiple);\n    const minWidth = ref(\"\");\n    function updateMinWidth() {\n      var _a;\n      minWidth.value = ((_a = select.selectWrapper) == null ? void 0 : _a.getBoundingClientRect().width) + \"px\";\n    }\n    onMounted(() => {\n      addResizeListener(select.selectWrapper, updateMinWidth);\n    });\n    onBeforeUnmount(() => {\n      removeResizeListener(select.selectWrapper, updateMinWidth);\n    });\n    return {\n      minWidth,\n      popperClass,\n      isMultiple\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-select-dropdown\", [{ \"is-multiple\": _ctx.isMultiple }, _ctx.popperClass]],\n    style: { minWidth: _ctx.minWidth }\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/select/src/select-dropdown.vue\";\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n * IMPORTANT: all calls of this function must be prefixed with\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\n * So that rollup can tree-shake them if necessary.\n */\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\n    ? Object.freeze({})\n    : {};\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\nconst isObject = (val) => val !== null && typeof val === 'object';\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n    // extract \"RawType\" from strings like \"[object RawType]\"\n    return toTypeString(value).slice(8, -1);\n};\n\nfunction useSelectStates(props) {\n  const { t } = useLocaleInject();\n  const selectEmitter = mitt();\n  return reactive({\n    options: new Map(),\n    cachedOptions: new Map(),\n    createdLabel: null,\n    createdSelected: false,\n    selected: props.multiple ? [] : {},\n    inputLength: 20,\n    inputWidth: 0,\n    initialInputHeight: 0,\n    optionsCount: 0,\n    filteredOptionsCount: 0,\n    visible: false,\n    softFocus: false,\n    selectedLabel: \"\",\n    hoverIndex: -1,\n    query: \"\",\n    previousQuery: null,\n    inputHovering: false,\n    cachedPlaceHolder: \"\",\n    currentPlaceholder: t(\"el.select.placeholder\"),\n    menuVisibleOnFocus: false,\n    isOnComposition: false,\n    isSilentBlur: false,\n    selectEmitter,\n    prefixWidth: null,\n    tagInMultiLine: false\n  });\n}\nconst useSelect = (props, states, ctx) => {\n  const ELEMENT = useGlobalConfig();\n  const { t } = useLocaleInject();\n  const reference = ref(null);\n  const input = ref(null);\n  const popper = ref(null);\n  const tags = ref(null);\n  const selectWrapper = ref(null);\n  const scrollbar = ref(null);\n  const hoverOption = ref(-1);\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const readonly = computed(() => !props.filterable || props.multiple || !isIE() && !isEdge() && !states.visible);\n  const selectDisabled = computed(() => props.disabled || elForm.disabled);\n  const showClose = computed(() => {\n    const hasValue = props.multiple ? Array.isArray(props.modelValue) && props.modelValue.length > 0 : props.modelValue !== void 0 && props.modelValue !== null && props.modelValue !== \"\";\n    const criteria = props.clearable && !selectDisabled.value && states.inputHovering && hasValue;\n    return criteria;\n  });\n  const iconClass = computed(() => props.remote && props.filterable ? \"\" : states.visible ? \"arrow-up is-reverse\" : \"arrow-up\");\n  const debounce = computed(() => props.remote ? 300 : 0);\n  const emptyText = computed(() => {\n    if (props.loading) {\n      return props.loadingText || t(\"el.select.loading\");\n    } else {\n      if (props.remote && states.query === \"\" && states.options.size === 0)\n        return false;\n      if (props.filterable && states.query && states.options.size > 0 && states.filteredOptionsCount === 0) {\n        return props.noMatchText || t(\"el.select.noMatch\");\n      }\n      if (states.options.size === 0) {\n        return props.noDataText || t(\"el.select.noData\");\n      }\n    }\n    return null;\n  });\n  const optionsArray = computed(() => Array.from(states.options.values()));\n  const cachedOptionsArray = computed(() => Array.from(states.cachedOptions.values()));\n  const showNewOption = computed(() => {\n    const hasExistingOption = optionsArray.value.filter((option) => {\n      return !option.created;\n    }).some((option) => {\n      return option.currentLabel === states.query;\n    });\n    return props.filterable && props.allowCreate && states.query !== \"\" && !hasExistingOption;\n  });\n  const selectSize = computed(() => props.size || elFormItem.size || ELEMENT.size);\n  const collapseTagSize = computed(() => [\"small\", \"mini\"].indexOf(selectSize.value) > -1 ? \"mini\" : \"small\");\n  const dropMenuVisible = computed(() => states.visible && emptyText.value !== false);\n  watch(() => selectDisabled.value, () => {\n    nextTick(() => {\n      resetInputHeight();\n    });\n  });\n  watch(() => props.placeholder, (val) => {\n    states.cachedPlaceHolder = states.currentPlaceholder = val;\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    var _a;\n    if (props.multiple) {\n      resetInputHeight();\n      if (val && val.length > 0 || input.value && states.query !== \"\") {\n        states.currentPlaceholder = \"\";\n      } else {\n        states.currentPlaceholder = states.cachedPlaceHolder;\n      }\n      if (props.filterable && !props.reserveKeyword) {\n        states.query = \"\";\n        handleQueryChange(states.query);\n      }\n    }\n    setSelected();\n    if (props.filterable && !props.multiple) {\n      states.inputLength = 20;\n    }\n    if (!isEqual(val, oldVal)) {\n      (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val);\n    }\n  }, {\n    flush: \"post\",\n    deep: true\n  });\n  watch(() => states.visible, (val) => {\n    var _a, _b;\n    if (!val) {\n      input.value && input.value.blur();\n      states.query = \"\";\n      states.previousQuery = null;\n      states.selectedLabel = \"\";\n      states.inputLength = 20;\n      states.menuVisibleOnFocus = false;\n      resetHoverIndex();\n      nextTick(() => {\n        if (input.value && input.value.value === \"\" && states.selected.length === 0) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      });\n      if (!props.multiple) {\n        if (states.selected) {\n          if (props.filterable && props.allowCreate && states.createdSelected && states.createdLabel) {\n            states.selectedLabel = states.createdLabel;\n          } else {\n            states.selectedLabel = states.selected.currentLabel;\n          }\n          if (props.filterable)\n            states.query = states.selectedLabel;\n        }\n        if (props.filterable) {\n          states.currentPlaceholder = states.cachedPlaceHolder;\n        }\n      }\n    } else {\n      (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n      if (props.filterable) {\n        states.filteredOptionsCount = states.optionsCount;\n        states.query = props.remote ? \"\" : states.selectedLabel;\n        if (props.multiple) {\n          input.value.focus();\n        } else {\n          if (states.selectedLabel) {\n            states.currentPlaceholder = states.selectedLabel;\n            states.selectedLabel = \"\";\n          }\n        }\n        handleQueryChange(states.query);\n        if (!props.multiple && !props.remote) {\n          states.selectEmitter.emit(\"elOptionQueryChange\", \"\");\n          states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n        }\n      }\n    }\n    ctx.emit(\"visible-change\", val);\n  });\n  watch(() => states.options.entries(), () => {\n    var _a, _b, _c;\n    if (isServer)\n      return;\n    (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n    if (props.multiple) {\n      resetInputHeight();\n    }\n    const inputs = ((_c = selectWrapper.value) == null ? void 0 : _c.querySelectorAll(\"input\")) || [];\n    if ([].indexOf.call(inputs, document.activeElement) === -1) {\n      setSelected();\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  }, {\n    flush: \"post\"\n  });\n  watch(() => states.hoverIndex, (val) => {\n    if (typeof val === \"number\" && val > -1) {\n      hoverOption.value = optionsArray.value[val] || {};\n    }\n    optionsArray.value.forEach((option) => {\n      option.hover = hoverOption.value === option;\n    });\n  });\n  const resetInputHeight = () => {\n    if (props.collapseTags && !props.filterable)\n      return;\n    nextTick(() => {\n      var _a, _b;\n      if (!reference.value)\n        return;\n      const inputChildNodes = reference.value.$el.childNodes;\n      const input2 = [].filter.call(inputChildNodes, (item) => item.tagName === \"INPUT\")[0];\n      const _tags = tags.value;\n      const sizeInMap = states.initialInputHeight || 40;\n      input2.style.height = states.selected.length === 0 ? sizeInMap + \"px\" : Math.max(_tags ? _tags.clientHeight + (_tags.clientHeight > sizeInMap ? 6 : 0) : 0, sizeInMap) + \"px\";\n      states.tagInMultiLine = parseFloat(input2.style.height) > sizeInMap;\n      if (states.visible && emptyText.value !== false) {\n        (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n      }\n    });\n  };\n  const handleQueryChange = (val) => {\n    if (states.previousQuery === val || states.isOnComposition)\n      return;\n    if (states.previousQuery === null && (typeof props.filterMethod === \"function\" || typeof props.remoteMethod === \"function\")) {\n      states.previousQuery = val;\n      return;\n    }\n    states.previousQuery = val;\n    nextTick(() => {\n      var _a, _b;\n      if (states.visible)\n        (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n    });\n    states.hoverIndex = -1;\n    if (props.multiple && props.filterable) {\n      nextTick(() => {\n        const length = input.value.length * 15 + 20;\n        states.inputLength = props.collapseTags ? Math.min(50, length) : length;\n        managePlaceholder();\n        resetInputHeight();\n      });\n    }\n    if (props.remote && typeof props.remoteMethod === \"function\") {\n      states.hoverIndex = -1;\n      props.remoteMethod(val);\n    } else if (typeof props.filterMethod === \"function\") {\n      props.filterMethod(val);\n      states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n    } else {\n      states.filteredOptionsCount = states.optionsCount;\n      states.selectEmitter.emit(\"elOptionQueryChange\", val);\n      states.selectEmitter.emit(\"elOptionGroupQueryChange\");\n    }\n    if (props.defaultFirstOption && (props.filterable || props.remote) && states.filteredOptionsCount) {\n      checkDefaultFirstOption();\n    }\n  };\n  const managePlaceholder = () => {\n    if (states.currentPlaceholder !== \"\") {\n      states.currentPlaceholder = input.value.value ? \"\" : states.cachedPlaceHolder;\n    }\n  };\n  const checkDefaultFirstOption = () => {\n    const optionsInDropdown = optionsArray.value.filter((n) => n.visible && !n.disabled && !n.groupDisabled);\n    const userCreatedOption = optionsInDropdown.filter((n) => n.created)[0];\n    const firstOriginOption = optionsInDropdown[0];\n    states.hoverIndex = getValueIndex(optionsArray.value, userCreatedOption || firstOriginOption);\n  };\n  const setSelected = () => {\n    var _a;\n    if (!props.multiple) {\n      const option = getOption(props.modelValue);\n      if ((_a = option.props) == null ? void 0 : _a.created) {\n        states.createdLabel = option.props.value;\n        states.createdSelected = true;\n      } else {\n        states.createdSelected = false;\n      }\n      states.selectedLabel = option.currentLabel;\n      states.selected = option;\n      if (props.filterable)\n        states.query = states.selectedLabel;\n      return;\n    }\n    const result = [];\n    if (Array.isArray(props.modelValue)) {\n      props.modelValue.forEach((value) => {\n        result.push(getOption(value));\n      });\n    }\n    states.selected = result;\n    nextTick(() => {\n      resetInputHeight();\n    });\n  };\n  const getOption = (value) => {\n    let option;\n    const isObjectValue = toRawType(value).toLowerCase() === \"object\";\n    const isNull = toRawType(value).toLowerCase() === \"null\";\n    const isUndefined = toRawType(value).toLowerCase() === \"undefined\";\n    for (let i = states.cachedOptions.size - 1; i >= 0; i--) {\n      const cachedOption = cachedOptionsArray.value[i];\n      const isEqualValue = isObjectValue ? getValueByPath(cachedOption.value, props.valueKey) === getValueByPath(value, props.valueKey) : cachedOption.value === value;\n      if (isEqualValue) {\n        option = {\n          value,\n          currentLabel: cachedOption.currentLabel,\n          isDisabled: cachedOption.isDisabled\n        };\n        break;\n      }\n    }\n    if (option)\n      return option;\n    const label = !isObjectValue && !isNull && !isUndefined ? value : \"\";\n    const newOption = {\n      value,\n      currentLabel: label\n    };\n    if (props.multiple) {\n      newOption.hitState = false;\n    }\n    return newOption;\n  };\n  const resetHoverIndex = () => {\n    setTimeout(() => {\n      const valueKey = props.valueKey;\n      if (!props.multiple) {\n        states.hoverIndex = optionsArray.value.findIndex((item) => {\n          return getValueByPath(item, valueKey) === getValueByPath(states.selected, valueKey);\n        });\n      } else {\n        if (states.selected.length > 0) {\n          states.hoverIndex = Math.min.apply(null, states.selected.map((selected) => {\n            return optionsArray.value.findIndex((item) => {\n              return getValueByPath(item, valueKey) === getValueByPath(selected, valueKey);\n            });\n          }));\n        } else {\n          states.hoverIndex = -1;\n        }\n      }\n    }, 300);\n  };\n  const handleResize = () => {\n    var _a, _b;\n    resetInputWidth();\n    (_b = (_a = popper.value) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a);\n    if (props.multiple)\n      resetInputHeight();\n  };\n  const resetInputWidth = () => {\n    var _a;\n    states.inputWidth = (_a = reference.value) == null ? void 0 : _a.$el.getBoundingClientRect().width;\n  };\n  const onInputChange = () => {\n    if (props.filterable && states.query !== states.selectedLabel) {\n      states.query = states.selectedLabel;\n      handleQueryChange(states.query);\n    }\n  };\n  const debouncedOnInputChange = lodashDebounce(() => {\n    onInputChange();\n  }, debounce.value);\n  const debouncedQueryChange = lodashDebounce((e) => {\n    handleQueryChange(e.target.value);\n  }, debounce.value);\n  const emitChange = (val) => {\n    if (!isEqual(props.modelValue, val)) {\n      ctx.emit(CHANGE_EVENT, val);\n    }\n  };\n  const deletePrevTag = (e) => {\n    if (e.target.value.length <= 0 && !toggleLastOptionHitState()) {\n      const value = props.modelValue.slice();\n      value.pop();\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n    }\n    if (e.target.value.length === 1 && props.modelValue.length === 0) {\n      states.currentPlaceholder = states.cachedPlaceHolder;\n    }\n  };\n  const deleteTag = (event, tag) => {\n    const index = states.selected.indexOf(tag);\n    if (index > -1 && !selectDisabled.value) {\n      const value = props.modelValue.slice();\n      value.splice(index, 1);\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      ctx.emit(\"remove-tag\", tag.value);\n    }\n    event.stopPropagation();\n  };\n  const deleteSelected = (event) => {\n    event.stopPropagation();\n    const value = props.multiple ? [] : \"\";\n    if (typeof value !== \"string\") {\n      for (const item of states.selected) {\n        if (item.isDisabled)\n          value.push(item.value);\n      }\n    }\n    ctx.emit(UPDATE_MODEL_EVENT, value);\n    emitChange(value);\n    states.visible = false;\n    ctx.emit(\"clear\");\n  };\n  const handleOptionSelect = (option, byClick) => {\n    if (props.multiple) {\n      const value = (props.modelValue || []).slice();\n      const optionIndex = getValueIndex(value, option.value);\n      if (optionIndex > -1) {\n        value.splice(optionIndex, 1);\n      } else if (props.multipleLimit <= 0 || value.length < props.multipleLimit) {\n        value.push(option.value);\n      }\n      ctx.emit(UPDATE_MODEL_EVENT, value);\n      emitChange(value);\n      if (option.created) {\n        states.query = \"\";\n        handleQueryChange(\"\");\n        states.inputLength = 20;\n      }\n      if (props.filterable)\n        input.value.focus();\n    } else {\n      ctx.emit(UPDATE_MODEL_EVENT, option.value);\n      emitChange(option.value);\n      states.visible = false;\n    }\n    states.isSilentBlur = byClick;\n    setSoftFocus();\n    if (states.visible)\n      return;\n    nextTick(() => {\n      scrollToOption(option);\n    });\n  };\n  const getValueIndex = (arr = [], value) => {\n    if (!isObject(value))\n      return arr.indexOf(value);\n    const valueKey = props.valueKey;\n    let index = -1;\n    arr.some((item, i) => {\n      if (getValueByPath(item, valueKey) === getValueByPath(value, valueKey)) {\n        index = i;\n        return true;\n      }\n      return false;\n    });\n    return index;\n  };\n  const setSoftFocus = () => {\n    states.softFocus = true;\n    const _input = input.value || reference.value;\n    if (_input) {\n      _input.focus();\n    }\n  };\n  const scrollToOption = (option) => {\n    var _a, _b, _c, _d;\n    const targetOption = Array.isArray(option) ? option[0] : option;\n    let target = null;\n    if (targetOption == null ? void 0 : targetOption.value) {\n      const options = optionsArray.value.filter((item) => item.value === targetOption.value);\n      if (options.length > 0) {\n        target = options[0].$el;\n      }\n    }\n    if (popper.value && target) {\n      const menu = (_c = (_b = (_a = popper.value) == null ? void 0 : _a.popperRef) == null ? void 0 : _b.querySelector) == null ? void 0 : _c.call(_b, \".el-select-dropdown__wrap\");\n      if (menu) {\n        scrollIntoView(menu, target);\n      }\n    }\n    (_d = scrollbar.value) == null ? void 0 : _d.handleScroll();\n  };\n  const onOptionCreate = (vm) => {\n    states.optionsCount++;\n    states.filteredOptionsCount++;\n    states.options.set(vm.value, vm);\n    states.cachedOptions.set(vm.value, vm);\n  };\n  const onOptionDestroy = (key) => {\n    states.optionsCount--;\n    states.filteredOptionsCount--;\n    states.options.delete(key);\n  };\n  const resetInputState = (e) => {\n    if (e.code !== EVENT_CODE.backspace)\n      toggleLastOptionHitState(false);\n    states.inputLength = input.value.length * 15 + 20;\n    resetInputHeight();\n  };\n  const toggleLastOptionHitState = (hit) => {\n    if (!Array.isArray(states.selected))\n      return;\n    const option = states.selected[states.selected.length - 1];\n    if (!option)\n      return;\n    if (hit === true || hit === false) {\n      option.hitState = hit;\n      return hit;\n    }\n    option.hitState = !option.hitState;\n    return option.hitState;\n  };\n  const handleComposition = (event) => {\n    const text = event.target.value;\n    if (event.type === \"compositionend\") {\n      states.isOnComposition = false;\n      nextTick(() => handleQueryChange(text));\n    } else {\n      const lastCharacter = text[text.length - 1] || \"\";\n      states.isOnComposition = !isKorean(lastCharacter);\n    }\n  };\n  const handleMenuEnter = () => {\n    nextTick(() => scrollToOption(states.selected));\n  };\n  const handleFocus = (event) => {\n    if (!states.softFocus) {\n      if (props.automaticDropdown || props.filterable) {\n        states.visible = true;\n        if (props.filterable) {\n          states.menuVisibleOnFocus = true;\n        }\n      }\n      ctx.emit(\"focus\", event);\n    } else {\n      states.softFocus = false;\n    }\n  };\n  const blur = () => {\n    states.visible = false;\n    reference.value.blur();\n  };\n  const handleBlur = (event) => {\n    nextTick(() => {\n      if (states.isSilentBlur) {\n        states.isSilentBlur = false;\n      } else {\n        ctx.emit(\"blur\", event);\n      }\n    });\n    states.softFocus = false;\n  };\n  const handleClearClick = (event) => {\n    deleteSelected(event);\n  };\n  const handleClose = () => {\n    states.visible = false;\n  };\n  const toggleMenu = () => {\n    if (props.automaticDropdown)\n      return;\n    if (!selectDisabled.value) {\n      if (states.menuVisibleOnFocus) {\n        states.menuVisibleOnFocus = false;\n      } else {\n        states.visible = !states.visible;\n      }\n      if (states.visible) {\n        (input.value || reference.value).focus();\n      }\n    }\n  };\n  const selectOption = () => {\n    if (!states.visible) {\n      toggleMenu();\n    } else {\n      if (optionsArray.value[states.hoverIndex]) {\n        handleOptionSelect(optionsArray.value[states.hoverIndex], void 0);\n      }\n    }\n  };\n  const getValueKey = (item) => {\n    return isObject(item.value) ? getValueByPath(item.value, props.valueKey) : item.value;\n  };\n  const optionsAllDisabled = computed(() => optionsArray.value.filter((option) => option.visible).every((option) => option.disabled));\n  const navigateOptions = (direction) => {\n    if (!states.visible) {\n      states.visible = true;\n      return;\n    }\n    if (states.options.size === 0 || states.filteredOptionsCount === 0)\n      return;\n    if (!optionsAllDisabled.value) {\n      if (direction === \"next\") {\n        states.hoverIndex++;\n        if (states.hoverIndex === states.options.size) {\n          states.hoverIndex = 0;\n        }\n      } else if (direction === \"prev\") {\n        states.hoverIndex--;\n        if (states.hoverIndex < 0) {\n          states.hoverIndex = states.options.size - 1;\n        }\n      }\n      const option = optionsArray.value[states.hoverIndex];\n      if (option.disabled === true || option.groupDisabled === true || !option.visible) {\n        navigateOptions(direction);\n      }\n      nextTick(() => scrollToOption(hoverOption.value));\n    }\n  };\n  return {\n    optionsArray,\n    selectSize,\n    handleResize,\n    debouncedOnInputChange,\n    debouncedQueryChange,\n    deletePrevTag,\n    deleteTag,\n    deleteSelected,\n    handleOptionSelect,\n    scrollToOption,\n    readonly,\n    resetInputHeight,\n    showClose,\n    iconClass,\n    showNewOption,\n    collapseTagSize,\n    setSelected,\n    managePlaceholder,\n    selectDisabled,\n    emptyText,\n    toggleLastOptionHitState,\n    resetInputState,\n    handleComposition,\n    onOptionCreate,\n    onOptionDestroy,\n    handleMenuEnter,\n    handleFocus,\n    blur,\n    handleBlur,\n    handleClearClick,\n    handleClose,\n    toggleMenu,\n    selectOption,\n    getValueKey,\n    navigateOptions,\n    dropMenuVisible,\n    reference,\n    input,\n    popper,\n    tags,\n    selectWrapper,\n    scrollbar\n  };\n};\n\nvar script$2 = defineComponent({\n  name: \"ElSelect\",\n  componentName: \"ElSelect\",\n  components: {\n    ElInput,\n    ElSelectMenu: script$1,\n    ElOption: script,\n    ElTag,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: { ClickOutside },\n  props: {\n    name: String,\n    id: String,\n    modelValue: [Array, String, Number, Boolean, Object],\n    autocomplete: {\n      type: String,\n      default: \"off\"\n    },\n    automaticDropdown: Boolean,\n    size: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    disabled: Boolean,\n    clearable: Boolean,\n    filterable: Boolean,\n    allowCreate: Boolean,\n    loading: Boolean,\n    popperClass: {\n      type: String,\n      default: \"\"\n    },\n    remote: Boolean,\n    loadingText: String,\n    noMatchText: String,\n    noDataText: String,\n    remoteMethod: Function,\n    filterMethod: Function,\n    multiple: Boolean,\n    multipleLimit: {\n      type: Number,\n      default: 0\n    },\n    placeholder: {\n      type: String\n    },\n    defaultFirstOption: Boolean,\n    reserveKeyword: Boolean,\n    valueKey: {\n      type: String,\n      default: \"value\"\n    },\n    collapseTags: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: true\n    },\n    clearIcon: {\n      type: String,\n      default: \"el-icon-circle-close\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, \"remove-tag\", \"clear\", \"visible-change\", \"focus\", \"blur\"],\n  setup(props, ctx) {\n    const { t } = useLocaleInject();\n    const states = useSelectStates(props);\n    const {\n      optionsArray,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      setSelected,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconClass,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      onOptionCreate,\n      onOptionDestroy,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      reference,\n      input,\n      popper,\n      tags,\n      selectWrapper,\n      scrollbar\n    } = useSelect(props, states, ctx);\n    const { focus } = useFocus(reference);\n    const {\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      cachedOptions,\n      optionsCount,\n      prefixWidth,\n      tagInMultiLine\n    } = toRefs(states);\n    provide(selectKey, reactive({\n      props,\n      options,\n      optionsArray,\n      cachedOptions,\n      optionsCount,\n      filteredOptionsCount,\n      hoverIndex,\n      handleOptionSelect,\n      selectEmitter: states.selectEmitter,\n      onOptionCreate,\n      onOptionDestroy,\n      selectWrapper,\n      selected,\n      setSelected\n    }));\n    onMounted(() => {\n      states.cachedPlaceHolder = currentPlaceholder.value = props.placeholder || t(\"el.select.placeholder\");\n      if (props.multiple && Array.isArray(props.modelValue) && props.modelValue.length > 0) {\n        currentPlaceholder.value = \"\";\n      }\n      addResizeListener(selectWrapper.value, handleResize);\n      if (reference.value && reference.value.$el) {\n        const sizeMap = {\n          medium: 36,\n          small: 32,\n          mini: 28\n        };\n        const input2 = reference.value.input;\n        states.initialInputHeight = input2.getBoundingClientRect().height || sizeMap[selectSize.value];\n      }\n      if (props.remote && props.multiple) {\n        resetInputHeight();\n      }\n      nextTick(() => {\n        if (reference.value.$el) {\n          inputWidth.value = reference.value.$el.getBoundingClientRect().width;\n        }\n        if (ctx.slots.prefix) {\n          const inputChildNodes = reference.value.$el.childNodes;\n          const input2 = [].filter.call(inputChildNodes, (item) => item.tagName === \"INPUT\")[0];\n          const prefix = reference.value.$el.querySelector(\".el-input__prefix\");\n          prefixWidth.value = Math.max(prefix.getBoundingClientRect().width + 5, 30);\n          if (states.prefixWidth) {\n            input2.style.paddingLeft = `${Math.max(states.prefixWidth, 30)}px`;\n          }\n        }\n      });\n      setSelected();\n    });\n    onBeforeUnmount(() => {\n      removeResizeListener(selectWrapper.value, handleResize);\n    });\n    if (props.multiple && !Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, []);\n    }\n    if (!props.multiple && Array.isArray(props.modelValue)) {\n      ctx.emit(UPDATE_MODEL_EVENT, \"\");\n    }\n    const popperPaneRef = computed(() => {\n      var _a;\n      return (_a = popper.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tagInMultiLine,\n      prefixWidth,\n      selectSize,\n      readonly,\n      handleResize,\n      collapseTagSize,\n      debouncedOnInputChange,\n      debouncedQueryChange,\n      deletePrevTag,\n      deleteTag,\n      deleteSelected,\n      handleOptionSelect,\n      scrollToOption,\n      inputWidth,\n      selected,\n      inputLength,\n      filteredOptionsCount,\n      visible,\n      softFocus,\n      selectedLabel,\n      hoverIndex,\n      query,\n      inputHovering,\n      currentPlaceholder,\n      menuVisibleOnFocus,\n      isOnComposition,\n      isSilentBlur,\n      options,\n      resetInputHeight,\n      managePlaceholder,\n      showClose,\n      selectDisabled,\n      iconClass,\n      showNewOption,\n      emptyText,\n      toggleLastOptionHitState,\n      resetInputState,\n      handleComposition,\n      handleMenuEnter,\n      handleFocus,\n      blur,\n      handleBlur,\n      handleClearClick,\n      handleClose,\n      toggleMenu,\n      selectOption,\n      getValueKey,\n      navigateOptions,\n      dropMenuVisible,\n      focus,\n      reference,\n      input,\n      popper,\n      popperPaneRef,\n      tags,\n      selectWrapper,\n      scrollbar\n    };\n  }\n});\n\nconst _hoisted_1 = { class: \"select-trigger\" };\nconst _hoisted_2 = { key: 0 };\nconst _hoisted_3 = { class: \"el-select__tags-text\" };\nconst _hoisted_4 = { style: { \"height\": \"100%\", \"display\": \"flex\", \"justify-content\": \"center\", \"align-items\": \"center\" } };\nconst _hoisted_5 = {\n  key: 1,\n  class: \"el-select-dropdown__empty\"\n};\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = resolveComponent(\"el-tag\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_option = resolveComponent(\"el-option\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_select_menu = resolveComponent(\"el-select-menu\");\n  const _component_el_popper = resolveComponent(\"el-popper\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return withDirectives((openBlock(), createBlock(\"div\", {\n    ref: \"selectWrapper\",\n    class: [\"el-select\", [_ctx.selectSize ? \"el-select--\" + _ctx.selectSize : \"\"]],\n    onClick: _cache[26] || (_cache[26] = withModifiers((...args) => _ctx.toggleMenu && _ctx.toggleMenu(...args), [\"stop\"]))\n  }, [\n    createVNode(_component_el_popper, {\n      ref: \"popper\",\n      visible: _ctx.dropMenuVisible,\n      \"onUpdate:visible\": _cache[25] || (_cache[25] = ($event) => _ctx.dropMenuVisible = $event),\n      placement: \"bottom-start\",\n      \"append-to-body\": _ctx.popperAppendToBody,\n      \"popper-class\": `el-select__popper ${_ctx.popperClass}`,\n      \"fallback-placements\": [\"bottom-start\", \"top-start\", \"right\", \"left\"],\n      \"manual-mode\": \"\",\n      effect: \"light\",\n      pure: \"\",\n      trigger: \"click\",\n      transition: \"el-zoom-in-top\",\n      \"stop-popper-mouse-event\": false,\n      \"gpu-acceleration\": false,\n      onBeforeEnter: _ctx.handleMenuEnter\n    }, {\n      trigger: withCtx(() => [\n        createVNode(\"div\", _hoisted_1, [\n          _ctx.multiple ? (openBlock(), createBlock(\"div\", {\n            key: 0,\n            ref: \"tags\",\n            class: \"el-select__tags\",\n            style: { \"max-width\": _ctx.inputWidth - 32 + \"px\", width: \"100%\" }\n          }, [\n            _ctx.collapseTags && _ctx.selected.length ? (openBlock(), createBlock(\"span\", _hoisted_2, [\n              createVNode(_component_el_tag, {\n                closable: !_ctx.selectDisabled && !_ctx.selected[0].isDisabled,\n                size: _ctx.collapseTagSize,\n                hit: _ctx.selected[0].hitState,\n                type: \"info\",\n                \"disable-transitions\": \"\",\n                onClose: _cache[1] || (_cache[1] = ($event) => _ctx.deleteTag($event, _ctx.selected[0]))\n              }, {\n                default: withCtx(() => [\n                  createVNode(\"span\", {\n                    class: \"el-select__tags-text\",\n                    style: { \"max-width\": _ctx.inputWidth - 123 + \"px\" }\n                  }, toDisplayString(_ctx.selected[0].currentLabel), 5)\n                ]),\n                _: 1\n              }, 8, [\"closable\", \"size\", \"hit\"]),\n              _ctx.selected.length > 1 ? (openBlock(), createBlock(_component_el_tag, {\n                key: 0,\n                closable: false,\n                size: _ctx.collapseTagSize,\n                type: \"info\",\n                \"disable-transitions\": \"\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(\"span\", _hoisted_3, \"+ \" + toDisplayString(_ctx.selected.length - 1), 1)\n                ]),\n                _: 1\n              }, 8, [\"size\"])) : createCommentVNode(\"v-if\", true)\n            ])) : createCommentVNode(\"v-if\", true),\n            createCommentVNode(\" <div> \"),\n            !_ctx.collapseTags ? (openBlock(), createBlock(Transition, {\n              key: 1,\n              onAfterLeave: _ctx.resetInputHeight\n            }, {\n              default: withCtx(() => [\n                createVNode(\"span\", {\n                  style: { marginLeft: _ctx.prefixWidth && _ctx.selected.length ? `${_ctx.prefixWidth}px` : null }\n                }, [\n                  (openBlock(true), createBlock(Fragment, null, renderList(_ctx.selected, (item) => {\n                    return openBlock(), createBlock(_component_el_tag, {\n                      key: _ctx.getValueKey(item),\n                      closable: !_ctx.selectDisabled && !item.isDisabled,\n                      size: _ctx.collapseTagSize,\n                      hit: item.hitState,\n                      type: \"info\",\n                      \"disable-transitions\": \"\",\n                      onClose: ($event) => _ctx.deleteTag($event, item)\n                    }, {\n                      default: withCtx(() => [\n                        createVNode(\"span\", {\n                          class: \"el-select__tags-text\",\n                          style: { \"max-width\": _ctx.inputWidth - 75 + \"px\" }\n                        }, toDisplayString(item.currentLabel), 5)\n                      ]),\n                      _: 2\n                    }, 1032, [\"closable\", \"size\", \"hit\", \"onClose\"]);\n                  }), 128))\n                ], 4)\n              ]),\n              _: 1\n            }, 8, [\"onAfterLeave\"])) : createCommentVNode(\"v-if\", true),\n            createCommentVNode(\" </div> \"),\n            _ctx.filterable ? withDirectives((openBlock(), createBlock(\"input\", {\n              key: 2,\n              ref: \"input\",\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => _ctx.query = $event),\n              type: \"text\",\n              class: [\"el-select__input\", [_ctx.selectSize ? `is-${_ctx.selectSize}` : \"\"]],\n              disabled: _ctx.selectDisabled,\n              autocomplete: _ctx.autocomplete,\n              style: { marginLeft: _ctx.prefixWidth && !_ctx.selected.length || _ctx.tagInMultiLine ? `${_ctx.prefixWidth}px` : null, flexGrow: \"1\", width: `${_ctx.inputLength / (_ctx.inputWidth - 32)}%`, maxWidth: `${_ctx.inputWidth - 42}px` },\n              onFocus: _cache[3] || (_cache[3] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n              onBlur: _cache[4] || (_cache[4] = (...args) => _ctx.handleBlur && _ctx.handleBlur(...args)),\n              onKeyup: _cache[5] || (_cache[5] = (...args) => _ctx.managePlaceholder && _ctx.managePlaceholder(...args)),\n              onKeydown: [\n                _cache[6] || (_cache[6] = (...args) => _ctx.resetInputState && _ctx.resetInputState(...args)),\n                _cache[7] || (_cache[7] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"prevent\"]), [\"down\"])),\n                _cache[8] || (_cache[8] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"prevent\"]), [\"up\"])),\n                _cache[9] || (_cache[9] = withKeys(withModifiers(($event) => _ctx.visible = false, [\"stop\", \"prevent\"]), [\"esc\"])),\n                _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.selectOption && _ctx.selectOption(...args), [\"stop\", \"prevent\"]), [\"enter\"])),\n                _cache[11] || (_cache[11] = withKeys((...args) => _ctx.deletePrevTag && _ctx.deletePrevTag(...args), [\"delete\"])),\n                _cache[12] || (_cache[12] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n              ],\n              onCompositionstart: _cache[13] || (_cache[13] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionupdate: _cache[14] || (_cache[14] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onCompositionend: _cache[15] || (_cache[15] = (...args) => _ctx.handleComposition && _ctx.handleComposition(...args)),\n              onInput: _cache[16] || (_cache[16] = (...args) => _ctx.debouncedQueryChange && _ctx.debouncedQueryChange(...args))\n            }, null, 46, [\"disabled\", \"autocomplete\"])), [\n              [vModelText, _ctx.query]\n            ]) : createCommentVNode(\"v-if\", true)\n          ], 4)) : createCommentVNode(\"v-if\", true),\n          createVNode(_component_el_input, {\n            id: _ctx.id,\n            ref: \"reference\",\n            modelValue: _ctx.selectedLabel,\n            \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event) => _ctx.selectedLabel = $event),\n            type: \"text\",\n            placeholder: _ctx.currentPlaceholder,\n            name: _ctx.name,\n            autocomplete: _ctx.autocomplete,\n            size: _ctx.selectSize,\n            disabled: _ctx.selectDisabled,\n            readonly: _ctx.readonly,\n            \"validate-event\": false,\n            class: { \"is-focus\": _ctx.visible },\n            tabindex: _ctx.multiple && _ctx.filterable ? \"-1\" : null,\n            onFocus: _ctx.handleFocus,\n            onBlur: _ctx.handleBlur,\n            onInput: _ctx.debouncedOnInputChange,\n            onPaste: _ctx.debouncedOnInputChange,\n            onKeydown: [\n              _cache[19] || (_cache[19] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"next\"), [\"stop\", \"prevent\"]), [\"down\"])),\n              _cache[20] || (_cache[20] = withKeys(withModifiers(($event) => _ctx.navigateOptions(\"prev\"), [\"stop\", \"prevent\"]), [\"up\"])),\n              withKeys(withModifiers(_ctx.selectOption, [\"stop\", \"prevent\"]), [\"enter\"]),\n              _cache[21] || (_cache[21] = withKeys(withModifiers(($event) => _ctx.visible = false, [\"stop\", \"prevent\"]), [\"esc\"])),\n              _cache[22] || (_cache[22] = withKeys(($event) => _ctx.visible = false, [\"tab\"]))\n            ],\n            onMouseenter: _cache[23] || (_cache[23] = ($event) => _ctx.inputHovering = true),\n            onMouseleave: _cache[24] || (_cache[24] = ($event) => _ctx.inputHovering = false)\n          }, createSlots({\n            suffix: withCtx(() => [\n              withDirectives(createVNode(\"i\", {\n                class: [\"el-select__caret\", \"el-input__icon\", \"el-icon-\" + _ctx.iconClass]\n              }, null, 2), [\n                [vShow, !_ctx.showClose]\n              ]),\n              _ctx.showClose ? (openBlock(), createBlock(\"i\", {\n                key: 0,\n                class: `el-select__caret el-input__icon ${_ctx.clearIcon}`,\n                onClick: _cache[17] || (_cache[17] = (...args) => _ctx.handleClearClick && _ctx.handleClearClick(...args))\n              }, null, 2)) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 2\n          }, [\n            _ctx.$slots.prefix ? {\n              name: \"prefix\",\n              fn: withCtx(() => [\n                createVNode(\"div\", _hoisted_4, [\n                  renderSlot(_ctx.$slots, \"prefix\")\n                ])\n              ])\n            } : void 0\n          ]), 1032, [\"id\", \"modelValue\", \"placeholder\", \"name\", \"autocomplete\", \"size\", \"disabled\", \"readonly\", \"class\", \"tabindex\", \"onFocus\", \"onBlur\", \"onInput\", \"onPaste\", \"onKeydown\"])\n        ])\n      ]),\n      default: withCtx(() => [\n        createVNode(_component_el_select_menu, null, {\n          default: withCtx(() => [\n            withDirectives(createVNode(_component_el_scrollbar, {\n              ref: \"scrollbar\",\n              tag: \"ul\",\n              \"wrap-class\": \"el-select-dropdown__wrap\",\n              \"view-class\": \"el-select-dropdown__list\",\n              class: { \"is-empty\": !_ctx.allowCreate && _ctx.query && _ctx.filteredOptionsCount === 0 }\n            }, {\n              default: withCtx(() => [\n                _ctx.showNewOption ? (openBlock(), createBlock(_component_el_option, {\n                  key: 0,\n                  value: _ctx.query,\n                  created: true\n                }, null, 8, [\"value\"])) : createCommentVNode(\"v-if\", true),\n                renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            }, 8, [\"class\"]), [\n              [vShow, _ctx.options.size > 0 && !_ctx.loading]\n            ]),\n            _ctx.emptyText && (!_ctx.allowCreate || _ctx.loading || _ctx.allowCreate && _ctx.options.size === 0) ? (openBlock(), createBlock(Fragment, { key: 0 }, [\n              _ctx.$slots.empty ? renderSlot(_ctx.$slots, \"empty\", { key: 0 }) : (openBlock(), createBlock(\"p\", _hoisted_5, toDisplayString(_ctx.emptyText), 1))\n            ], 2112)) : createCommentVNode(\"v-if\", true)\n          ]),\n          _: 3\n        })\n      ]),\n      _: 1\n    }, 8, [\"visible\", \"append-to-body\", \"popper-class\", \"onBeforeEnter\"])\n  ], 2)), [\n    [_directive_click_outside, _ctx.handleClose, _ctx.popperPaneRef]\n  ]);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/select/src/select.vue\";\n\nscript$2.install = (app) => {\n  app.component(script$2.name, script$2);\n};\nconst _Select = script$2;\n\nexport default _Select;\nexport { script as Option };\n"]},"metadata":{},"sourceType":"module"}