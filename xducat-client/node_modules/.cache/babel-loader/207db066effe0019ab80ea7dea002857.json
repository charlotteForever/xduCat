{"ast":null,"code":"import { ref, computed, watch, defineComponent, toDisplayString, renderSlot, createTextVNode, createCommentVNode, h, Fragment, withDirectives, Teleport } from 'vue';\nimport ElPopper, { usePopper, renderPopper, Effect, renderArrow, renderTrigger, defaultProps } from '../el-popper';\nimport { ClickOutside } from '../directives';\nimport { warn } from '../utils/error';\nimport { renderIf, PatchFlags } from '../utils/vnode';\nimport { isString } from '../utils/util';\nimport PopupManager from '../utils/popup-manager';\nimport { on } from '../utils/dom';\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nconst SHOW_EVENT = \"show\";\nconst HIDE_EVENT = \"hide\";\n\nfunction usePopover(props, ctx) {\n  const zIndex = ref(PopupManager.nextZIndex());\n  const width = computed(() => {\n    if (isString(props.width)) {\n      return props.width;\n    }\n\n    return props.width + \"px\";\n  });\n  const popperStyle = computed(() => {\n    return {\n      width: width.value,\n      zIndex: zIndex.value\n    };\n  });\n  const popperProps = usePopper(props, ctx);\n  watch(popperProps.visibility, val => {\n    if (val) {\n      zIndex.value = PopupManager.nextZIndex();\n    }\n\n    ctx.emit(val ? SHOW_EVENT : HIDE_EVENT);\n  });\n  return __spreadProps(__spreadValues({}, popperProps), {\n    popperStyle\n  });\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$1) for (var prop of __getOwnPropSymbols$1(b)) {\n    if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\n\nconst emits = [\"update:visible\", \"after-enter\", \"after-leave\", SHOW_EVENT, HIDE_EVENT];\nconst NAME = \"ElPopover\";\nconst _hoist = {\n  key: 0,\n  class: \"el-popover__title\",\n  role: \"title\"\n};\nvar script = defineComponent({\n  name: NAME,\n  components: {\n    ElPopper\n  },\n  props: __spreadProps$1(__spreadValues$1({}, defaultProps), {\n    content: {\n      type: String\n    },\n    trigger: {\n      type: String,\n      default: \"click\"\n    },\n    title: {\n      type: String\n    },\n    transition: {\n      type: String,\n      default: \"fade-in-linear\"\n    },\n    width: {\n      type: [String, Number],\n      default: 150\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    tabindex: [String, Number]\n  }),\n  emits,\n\n  setup(props, ctx) {\n    if (process.env.NODE_ENV !== \"production\" && props.visible && !ctx.slots.reference) {\n      warn(NAME, `\n        You cannot init popover without given reference\n      `);\n    }\n\n    const states = usePopover(props, ctx);\n    return states;\n  },\n\n  render() {\n    const {\n      $slots\n    } = this;\n    const trigger = $slots.reference ? $slots.reference() : null;\n    const title = renderIf(this.title, \"div\", _hoist, toDisplayString(this.title), PatchFlags.TEXT);\n    const content = renderSlot($slots, \"default\", {}, () => [createTextVNode(toDisplayString(this.content), PatchFlags.TEXT)]);\n    const {\n      events,\n      onAfterEnter,\n      onAfterLeave,\n      onPopperMouseEnter,\n      onPopperMouseLeave,\n      popperStyle,\n      popperId,\n      popperClass,\n      showArrow,\n      transition,\n      visibility,\n      tabindex\n    } = this;\n    const kls = [this.content ? \"el-popover--plain\" : \"\", \"el-popover\", popperClass].join(\" \");\n    let popover = renderPopper({\n      effect: Effect.LIGHT,\n      name: transition,\n      popperClass: kls,\n      popperStyle,\n      popperId,\n      visibility,\n      onMouseenter: onPopperMouseEnter,\n      onMouseleave: onPopperMouseLeave,\n      onAfterEnter,\n      onAfterLeave,\n      stopPopperMouseEvent: false\n    }, [title, content, renderArrow(showArrow)]);\n\n    const _trigger = trigger ? renderTrigger(trigger, __spreadValues$1({\n      ariaDescribedby: popperId,\n      ref: \"triggerRef\",\n      tabindex\n    }, events)) : createCommentVNode(\"v-if\", true);\n\n    return h(Fragment, null, [this.trigger === \"click\" ? withDirectives(_trigger, [[ClickOutside, this.hide]]) : _trigger, h(Teleport, {\n      disabled: !this.appendToBody,\n      to: \"body\"\n    }, [popover])]);\n  }\n\n});\nscript.__file = \"packages/popover/src/index.vue\";\n\nconst attachEvents = (el, binding, vnode) => {\n  const _ref = binding.arg || binding.value;\n\n  const popover = vnode.dirs[0].instance.$refs[_ref];\n\n  if (popover) {\n    popover.triggerRef = el;\n    el.setAttribute(\"tabindex\", popover.tabindex);\n    Object.entries(popover.events).forEach(([eventName, e]) => {\n      on(el, eventName.toLowerCase().slice(2), e);\n    });\n  }\n};\n\nvar PopoverDirective = {\n  mounted(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  },\n\n  updated(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  }\n\n};\nconst VPopover = \"popover\";\n\nscript.install = app => {\n  app.component(script.name, script);\n  app.directive(VPopover, PopoverDirective);\n};\n\nscript.directive = PopoverDirective;\nconst _Popover = script;\nexport default _Popover;","map":{"version":3,"sources":["D:/A-大三下/web开发/xducat/xducat-client/node_modules/element-plus/es/el-popover/index.js"],"names":["ref","computed","watch","defineComponent","toDisplayString","renderSlot","createTextVNode","createCommentVNode","h","Fragment","withDirectives","Teleport","ElPopper","usePopper","renderPopper","Effect","renderArrow","renderTrigger","defaultProps","ClickOutside","warn","renderIf","PatchFlags","isString","PopupManager","on","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","SHOW_EVENT","HIDE_EVENT","usePopover","props","ctx","zIndex","nextZIndex","width","popperStyle","popperProps","visibility","val","emit","__defProp$1","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","__spreadProps$1","emits","NAME","_hoist","class","role","script","name","components","content","type","String","trigger","default","title","transition","Number","appendToBody","Boolean","tabindex","setup","process","env","NODE_ENV","visible","slots","reference","states","render","$slots","TEXT","events","onAfterEnter","onAfterLeave","onPopperMouseEnter","onPopperMouseLeave","popperId","popperClass","showArrow","kls","join","popover","effect","LIGHT","onMouseenter","onMouseleave","stopPopperMouseEvent","_trigger","ariaDescribedby","hide","disabled","to","__file","attachEvents","el","binding","vnode","_ref","arg","dirs","instance","$refs","triggerRef","setAttribute","entries","forEach","eventName","e","toLowerCase","slice","PopoverDirective","mounted","updated","VPopover","install","app","component","directive","_Popover"],"mappings":"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","sourcesContent":["import { ref, computed, watch, defineComponent, toDisplayString, renderSlot, createTextVNode, createCommentVNode, h, Fragment, withDirectives, Teleport } from 'vue';\nimport ElPopper, { usePopper, renderPopper, Effect, renderArrow, renderTrigger, defaultProps } from '../el-popper';\nimport { ClickOutside } from '../directives';\nimport { warn } from '../utils/error';\nimport { renderIf, PatchFlags } from '../utils/vnode';\nimport { isString } from '../utils/util';\nimport PopupManager from '../utils/popup-manager';\nimport { on } from '../utils/dom';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst SHOW_EVENT = \"show\";\nconst HIDE_EVENT = \"hide\";\nfunction usePopover(props, ctx) {\n  const zIndex = ref(PopupManager.nextZIndex());\n  const width = computed(() => {\n    if (isString(props.width)) {\n      return props.width;\n    }\n    return props.width + \"px\";\n  });\n  const popperStyle = computed(() => {\n    return {\n      width: width.value,\n      zIndex: zIndex.value\n    };\n  });\n  const popperProps = usePopper(props, ctx);\n  watch(popperProps.visibility, (val) => {\n    if (val) {\n      zIndex.value = PopupManager.nextZIndex();\n    }\n    ctx.emit(val ? SHOW_EVENT : HIDE_EVENT);\n  });\n  return __spreadProps(__spreadValues({}, popperProps), {\n    popperStyle\n  });\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nconst emits = [\"update:visible\", \"after-enter\", \"after-leave\", SHOW_EVENT, HIDE_EVENT];\nconst NAME = \"ElPopover\";\nconst _hoist = { key: 0, class: \"el-popover__title\", role: \"title\" };\nvar script = defineComponent({\n  name: NAME,\n  components: {\n    ElPopper\n  },\n  props: __spreadProps$1(__spreadValues$1({}, defaultProps), {\n    content: {\n      type: String\n    },\n    trigger: {\n      type: String,\n      default: \"click\"\n    },\n    title: {\n      type: String\n    },\n    transition: {\n      type: String,\n      default: \"fade-in-linear\"\n    },\n    width: {\n      type: [String, Number],\n      default: 150\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    tabindex: [String, Number]\n  }),\n  emits,\n  setup(props, ctx) {\n    if (process.env.NODE_ENV !== \"production\" && props.visible && !ctx.slots.reference) {\n      warn(NAME, `\n        You cannot init popover without given reference\n      `);\n    }\n    const states = usePopover(props, ctx);\n    return states;\n  },\n  render() {\n    const { $slots } = this;\n    const trigger = $slots.reference ? $slots.reference() : null;\n    const title = renderIf(this.title, \"div\", _hoist, toDisplayString(this.title), PatchFlags.TEXT);\n    const content = renderSlot($slots, \"default\", {}, () => [createTextVNode(toDisplayString(this.content), PatchFlags.TEXT)]);\n    const {\n      events,\n      onAfterEnter,\n      onAfterLeave,\n      onPopperMouseEnter,\n      onPopperMouseLeave,\n      popperStyle,\n      popperId,\n      popperClass,\n      showArrow,\n      transition,\n      visibility,\n      tabindex\n    } = this;\n    const kls = [\n      this.content ? \"el-popover--plain\" : \"\",\n      \"el-popover\",\n      popperClass\n    ].join(\" \");\n    let popover = renderPopper({\n      effect: Effect.LIGHT,\n      name: transition,\n      popperClass: kls,\n      popperStyle,\n      popperId,\n      visibility,\n      onMouseenter: onPopperMouseEnter,\n      onMouseleave: onPopperMouseLeave,\n      onAfterEnter,\n      onAfterLeave,\n      stopPopperMouseEvent: false\n    }, [\n      title,\n      content,\n      renderArrow(showArrow)\n    ]);\n    const _trigger = trigger ? renderTrigger(trigger, __spreadValues$1({\n      ariaDescribedby: popperId,\n      ref: \"triggerRef\",\n      tabindex\n    }, events)) : createCommentVNode(\"v-if\", true);\n    return h(Fragment, null, [\n      this.trigger === \"click\" ? withDirectives(_trigger, [[ClickOutside, this.hide]]) : _trigger,\n      h(Teleport, {\n        disabled: !this.appendToBody,\n        to: \"body\"\n      }, [popover])\n    ]);\n  }\n});\n\nscript.__file = \"packages/popover/src/index.vue\";\n\nconst attachEvents = (el, binding, vnode) => {\n  const _ref = binding.arg || binding.value;\n  const popover = vnode.dirs[0].instance.$refs[_ref];\n  if (popover) {\n    popover.triggerRef = el;\n    el.setAttribute(\"tabindex\", popover.tabindex);\n    Object.entries(popover.events).forEach(([eventName, e]) => {\n      on(el, eventName.toLowerCase().slice(2), e);\n    });\n  }\n};\nvar PopoverDirective = {\n  mounted(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  },\n  updated(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  }\n};\nconst VPopover = \"popover\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n  app.directive(VPopover, PopoverDirective);\n};\nscript.directive = PopoverDirective;\nconst _Popover = script;\n\nexport default _Popover;\n"]},"metadata":{},"sourceType":"module"}