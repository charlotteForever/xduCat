{"ast":null,"code":"import dayjs from 'dayjs';\nimport defaultLang from './lang/en';\nlet lang = defaultLang;\nlet i18nHandler = null;\n\nconst i18n = fn => {\n  i18nHandler = fn;\n};\n\nconst restoreHandler = () => i18nHandler = defaultTranslator;\n\nfunction template(str, option) {\n  if (!str || !option) return str;\n  return str.replace(/\\{(\\w+)\\}/g, (_, key) => {\n    return option[key];\n  });\n}\n\nconst defaultTranslator = (...args) => {\n  const [path, option] = args;\n  let value;\n  const array = path.split('.');\n  let current = lang;\n\n  for (let i = 0, j = array.length; i < j; i++) {\n    const property = array[i];\n    value = current[property];\n    if (i === j - 1) return template(value, option);\n    if (!value) return '';\n    current = value;\n  }\n};\n\nconst t = (...args) => {\n  if (i18nHandler) {\n    const translation = i18nHandler(...args);\n    return translation || defaultTranslator(...args);\n  }\n\n  return defaultTranslator(...args);\n};\n\nconst use = l => {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn(`[deprecation]:\n      The previous i18n usage is deprecated please update to\n      the new one to get reactive i18n translations, refer to:\n      https://element-plus.org/#/en-US/component/i18n\n    `);\n  }\n\n  lang = l || lang;\n\n  if (lang.name) {\n    dayjs.locale(lang.name);\n  }\n};\n\nconst setLocale = use;\nexport { i18n, restoreHandler, setLocale, t, use };","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/locale/index.js"],"names":["dayjs","defaultLang","lang","i18nHandler","i18n","fn","restoreHandler","defaultTranslator","template","str","option","replace","_","key","args","path","value","array","split","current","i","j","length","property","t","translation","use","l","process","env","NODE_ENV","console","warn","name","locale","setLocale"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,WAAxB;AAEA,IAAIC,IAAI,GAAGD,WAAX;AACA,IAAIE,WAAW,GAAG,IAAlB;;AACA,MAAMC,IAAI,GAAIC,EAAD,IAAQ;AACjBF,EAAAA,WAAW,GAAGE,EAAd;AACH,CAFD;;AAGA,MAAMC,cAAc,GAAG,MAAMH,WAAW,GAAGI,iBAA3C;;AACA,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,MAAvB,EAA+B;AAC3B,MAAI,CAACD,GAAD,IAAQ,CAACC,MAAb,EACI,OAAOD,GAAP;AACJ,SAAOA,GAAG,CAACE,OAAJ,CAAY,YAAZ,EAA0B,CAACC,CAAD,EAAIC,GAAJ,KAAY;AACzC,WAAOH,MAAM,CAACG,GAAD,CAAb;AACH,GAFM,CAAP;AAGH;;AACD,MAAMN,iBAAiB,GAAG,CAAC,GAAGO,IAAJ,KAAa;AACnC,QAAM,CAACC,IAAD,EAAOL,MAAP,IAAiBI,IAAvB;AACA,MAAIE,KAAJ;AACA,QAAMC,KAAK,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAd;AACA,MAAIC,OAAO,GAAGjB,IAAd;;AACA,OAAK,IAAIkB,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGJ,KAAK,CAACK,MAA1B,EAAkCF,CAAC,GAAGC,CAAtC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1C,UAAMG,QAAQ,GAAGN,KAAK,CAACG,CAAD,CAAtB;AACAJ,IAAAA,KAAK,GAAGG,OAAO,CAACI,QAAD,CAAf;AACA,QAAIH,CAAC,KAAKC,CAAC,GAAG,CAAd,EACI,OAAOb,QAAQ,CAACQ,KAAD,EAAQN,MAAR,CAAf;AACJ,QAAI,CAACM,KAAL,EACI,OAAO,EAAP;AACJG,IAAAA,OAAO,GAAGH,KAAV;AACH;AACJ,CAdD;;AAeA,MAAMQ,CAAC,GAAG,CAAC,GAAGV,IAAJ,KAAa;AACnB,MAAIX,WAAJ,EAAiB;AACb,UAAMsB,WAAW,GAAGtB,WAAW,CAAC,GAAGW,IAAJ,CAA/B;AACA,WAAOW,WAAW,IAAIlB,iBAAiB,CAAC,GAAGO,IAAJ,CAAvC;AACH;;AACD,SAAOP,iBAAiB,CAAC,GAAGO,IAAJ,CAAxB;AACH,CAND;;AAOA,MAAMY,GAAG,GAAIC,CAAD,IAAO;AACf,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvCC,IAAAA,OAAO,CAACC,IAAR,CAAc;AACtB;AACA;AACA;AACA,KAJQ;AAKH;;AACD9B,EAAAA,IAAI,GAAGyB,CAAC,IAAIzB,IAAZ;;AACA,MAAIA,IAAI,CAAC+B,IAAT,EAAe;AACXjC,IAAAA,KAAK,CAACkC,MAAN,CAAahC,IAAI,CAAC+B,IAAlB;AACH;AACJ,CAZD;;AAaA,MAAME,SAAS,GAAGT,GAAlB;AAEA,SAAStB,IAAT,EAAeE,cAAf,EAA+B6B,SAA/B,EAA0CX,CAA1C,EAA6CE,GAA7C","sourcesContent":["import dayjs from 'dayjs';\nimport defaultLang from './lang/en';\n\nlet lang = defaultLang;\r\nlet i18nHandler = null;\r\nconst i18n = (fn) => {\r\n    i18nHandler = fn;\r\n};\r\nconst restoreHandler = () => i18nHandler = defaultTranslator;\r\nfunction template(str, option) {\r\n    if (!str || !option)\r\n        return str;\r\n    return str.replace(/\\{(\\w+)\\}/g, (_, key) => {\r\n        return option[key];\r\n    });\r\n}\r\nconst defaultTranslator = (...args) => {\r\n    const [path, option] = args;\r\n    let value;\r\n    const array = path.split('.');\r\n    let current = lang;\r\n    for (let i = 0, j = array.length; i < j; i++) {\r\n        const property = array[i];\r\n        value = current[property];\r\n        if (i === j - 1)\r\n            return template(value, option);\r\n        if (!value)\r\n            return '';\r\n        current = value;\r\n    }\r\n};\r\nconst t = (...args) => {\r\n    if (i18nHandler) {\r\n        const translation = i18nHandler(...args);\r\n        return translation || defaultTranslator(...args);\r\n    }\r\n    return defaultTranslator(...args);\r\n};\r\nconst use = (l) => {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        console.warn(`[deprecation]:\n      The previous i18n usage is deprecated please update to\n      the new one to get reactive i18n translations, refer to:\n      https://element-plus.org/#/en-US/component/i18n\n    `);\r\n    }\r\n    lang = l || lang;\r\n    if (lang.name) {\r\n        dayjs.locale(lang.name);\r\n    }\r\n};\r\nconst setLocale = use;\n\nexport { i18n, restoreHandler, setLocale, t, use };\n"]},"metadata":{},"sourceType":"module"}