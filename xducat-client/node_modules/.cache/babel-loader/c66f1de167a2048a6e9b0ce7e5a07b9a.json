{"ast":null,"code":"export default {\n  data() {\n    return {\n      cats: []\n    };\n  },\n\n  mounted() {\n    this.getResult();\n  },\n\n  methods: {\n    getResult() {\n      this.$axios.post(\"http://localhost:8888/cat/findCatByColor/\" + this.$route.query.color).then(resp => {\n        this.cats = resp.data;\n      });\n    },\n\n    // 点击猫咪项跳转到详情页面\n    getDetail(item) {\n      console.log(item.id);\n      this.$router.push({\n        path: \"/catDetail\",\n        query: {\n          id: item.id\n        }\n      });\n    }\n\n  },\n  // 当输入的猫改变时，这里刷新页面\n  // 这里写的很复杂是因为为了让刷新页面自然些\n  watch: {\n    $route: {\n      handler: function (val, oldVal) {\n        if (val.path == oldVal.path) {\n          if (val.query.color != oldVal.query.color) {\n            this.$router.replace(\"/refresh\");\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAyBA,eAAe;AACbA,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE;AADD,KAAP;AAGD,GALY;;AAObC,SAAO,GAAG;AACR,SAAKC,SAAL;AACD,GATY;;AAWbC,SAAO,EAAE;AACPD,aAAS,GAAG;AACV,WAAKE,MAAL,CACGC,IADH,CAEI,8CAA8C,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,KAFpE,EAIGC,IAJH,CAISC,IAAD,IAAU;AACd,aAAKV,IAAL,GAAYU,IAAI,CAACX,IAAjB;AACD,OANH;AAOD,KATM;;AAUP;AACAY,aAAS,CAACC,IAAD,EAAM;AACbC,aAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,EAAjB;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkB;AAChBC,YAAI,EAAE,YADU;AAEhBX,aAAK,EAAE;AAAEQ,YAAE,EAAEH,IAAI,CAACG;AAAX;AAFS,OAAlB;AAIF;;AAjBO,GAXI;AA+BX;AACA;AACFI,OAAK,EAAE;AACLb,UAAM,EAAE;AACNc,aAAO,EAAE,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC5B,YAAGD,GAAG,CAACH,IAAJ,IAAYI,MAAM,CAACJ,IAAtB,EACA;AACI,cAAGG,GAAG,CAACd,KAAJ,CAAUC,KAAV,IAAmBc,MAAM,CAACf,KAAP,CAAaC,KAAnC,EAAyC;AACrC,iBAAKQ,OAAL,CAAaO,OAAb,CAAqB,UAArB;AACJ;AACJ;AACH;AARK;AADH;AAjCM,CAAf","names":["data","cats","mounted","getResult","methods","$axios","post","$route","query","color","then","resp","getDetail","item","console","log","id","$router","push","path","watch","handler","val","oldVal","replace"],"sourceRoot":"","sources":["D:\\A-大三下\\web开发\\xducat\\xducat-client\\src\\views\\SearchResultView.vue"],"sourcesContent":["<template>\n\n\n  <table>\n    <tr v-for=\"item in cats\" :key=\"item\">\n      <table @click=\"getDetail(item)\"><!-- 如果只是简单的写地址是没有办法显示图片的 -->\n        <tr><img class=\"catImg\" :src=\"require('../../img/catProfile/' + item.img)\" alt=\"猫咪图片\" /></tr>\n        <tr>猫咪颜色：{{ item.color }}</tr>\n        <tr>出现地点：{{ item.location }}</tr>\n      </table>\n      \n    </tr>\n  </table>\n</template>\n\n<style scoped>\n\n.catImg{\n  width: 150px;\n  height: 150px;\n}\n\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      cats: [],\n    };\n  },\n\n  mounted() {\n    this.getResult();\n  },\n\n  methods: {\n    getResult() {\n      this.$axios\n        .post(\n          \"http://localhost:8888/cat/findCatByColor/\" + this.$route.query.color\n        )\n        .then((resp) => {\n          this.cats = resp.data;\n        });\n    },\n    // 点击猫咪项跳转到详情页面\n    getDetail(item){\n      console.log(item.id);\n      this.$router.push({\n        path: \"/catDetail\",\n        query: { id: item.id },\n      });\n    }\n  },\n\n    // 当输入的猫改变时，这里刷新页面\n    // 这里写的很复杂是因为为了让刷新页面自然些\n  watch: {\n    $route: {\n      handler: function (val, oldVal) {\n          if(val.path == oldVal.path)\n          {\n              if(val.query.color != oldVal.query.color){\n                  this.$router.replace(\"/refresh\");\n              }\n          }\n      },\n    },\n  },\n};\n</script>\n\n"]},"metadata":{},"sourceType":"module"}