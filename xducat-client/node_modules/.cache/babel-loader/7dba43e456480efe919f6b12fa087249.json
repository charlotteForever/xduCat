{"ast":null,"code":"import { h, getCurrentInstance, watch, ref, watchEffect, computed, defineComponent, onBeforeMount, onMounted, onBeforeUnmount, Fragment } from 'vue';\nimport { getPropByPath } from '../utils/util';\nimport ElCheckbox from '../el-checkbox';\nimport '../utils/dom';\nimport '@popperjs/core';\nimport '../utils/popup-manager';\nconst cellStarts = {\n  default: {\n    order: \"\"\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\",\n    className: \"el-table-column--selection\"\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  }\n};\nconst cellForced = {\n  selection: {\n    renderHeader: function ({\n      store\n    }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0;\n      }\n\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        indeterminate: store.states.selection.value.length > 0 && !store.states.isAllSelected.value,\n        \"onUpdate:modelValue\": store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value\n      });\n    },\n    renderCell: function ({\n      row,\n      column,\n      store,\n      $index\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable ? !column.selectable.call(null, row, $index) : false,\n        onChange: () => {\n          store.commit(\"rowSelectedChanged\", row);\n        },\n        onClick: event => event.stopPropagation(),\n        modelValue: store.isSelected(row)\n      });\n    },\n    sortable: false,\n    resizable: false\n  },\n  index: {\n    renderHeader: function ({\n      column\n    }) {\n      return column.label || \"#\";\n    },\n    renderCell: function ({\n      column,\n      $index\n    }) {\n      let i = $index + 1;\n      const index = column.index;\n\n      if (typeof index === \"number\") {\n        i = $index + index;\n      } else if (typeof index === \"function\") {\n        i = index($index);\n      }\n\n      return h(\"div\", {}, [i]);\n    },\n    sortable: false\n  },\n  expand: {\n    renderHeader: function ({\n      column\n    }) {\n      return column.label || \"\";\n    },\n    renderCell: function ({\n      row,\n      store\n    }) {\n      const classes = [\"el-table__expand-icon\"];\n\n      if (store.states.expandRows.value.indexOf(row) > -1) {\n        classes.push(\"el-table__expand-icon--expanded\");\n      }\n\n      const callback = function (e) {\n        e.stopPropagation();\n        store.toggleRowExpansion(row);\n      };\n\n      return h(\"div\", {\n        class: classes,\n        onClick: callback\n      }, [h(\"i\", {\n        class: \"el-icon el-icon-arrow-right\"\n      })]);\n    },\n    sortable: false,\n    resizable: false,\n    className: \"el-table__expand-column\"\n  }\n};\n\nfunction defaultRenderCell({\n  row,\n  column,\n  $index\n}) {\n  var _a;\n\n  const property = column.property;\n  const value = property && getPropByPath(row, property, false).v;\n\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index);\n  }\n\n  return ((_a = value == null ? void 0 : value.toString) == null ? void 0 : _a.call(value)) || \"\";\n}\n\nfunction treeCellPrefix({\n  row,\n  treeNode,\n  store\n}) {\n  if (!treeNode) return null;\n  const ele = [];\n\n  const callback = function (e) {\n    e.stopPropagation();\n    store.loadOrToggle(row);\n  };\n\n  if (treeNode.indent) {\n    ele.push(h(\"span\", {\n      class: \"el-table__indent\",\n      style: {\n        \"padding-left\": treeNode.indent + \"px\"\n      }\n    }));\n  }\n\n  if (typeof treeNode.expanded === \"boolean\" && !treeNode.noLazyChildren) {\n    const expandClasses = [\"el-table__expand-icon\", treeNode.expanded ? \"el-table__expand-icon--expanded\" : \"\"];\n    let iconClasses = [\"el-icon-arrow-right\"];\n\n    if (treeNode.loading) {\n      iconClasses = [\"el-icon-loading\"];\n    }\n\n    ele.push(h(\"div\", {\n      class: expandClasses,\n      onClick: callback\n    }, [h(\"i\", {\n      class: iconClasses\n    })]));\n  } else {\n    ele.push(h(\"span\", {\n      class: \"el-table__placeholder\"\n    }));\n  }\n\n  return ele;\n}\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nfunction mergeOptions(defaults, config) {\n  const options = {};\n  let key;\n\n  for (key in defaults) {\n    options[key] = defaults[key];\n  }\n\n  for (key in config) {\n    if (hasOwn(config, key)) {\n      const value = config[key];\n\n      if (typeof value !== \"undefined\") {\n        options[key] = value;\n      }\n    }\n  }\n\n  return options;\n}\n\nfunction parseWidth(width) {\n  if (width !== void 0) {\n    width = parseInt(width, 10);\n\n    if (isNaN(width)) {\n      width = null;\n    }\n  }\n\n  return +width;\n}\n\nfunction parseMinWidth(minWidth) {\n  if (typeof minWidth !== \"undefined\") {\n    minWidth = parseWidth(minWidth);\n\n    if (isNaN(minWidth)) {\n      minWidth = 80;\n    }\n  }\n\n  return minWidth;\n}\n\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg;\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\nfunction useWatcher(owner, props_) {\n  const instance = getCurrentInstance();\n\n  const registerComplexWatchers = () => {\n    const props = [\"fixed\"];\n    const aliases = {\n      realWidth: \"width\",\n      realMinWidth: \"minWidth\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach(key => {\n      const columnKey = aliases[key];\n\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], newVal => {\n          let value = newVal;\n\n          if (columnKey === \"width\" && key === \"realWidth\") {\n            value = parseWidth(newVal);\n          }\n\n          if (columnKey === \"minWidth\" && key === \"realMinWidth\") {\n            value = parseMinWidth(newVal);\n          }\n\n          instance.columnConfig.value[columnKey] = value;\n          instance.columnConfig.value[key] = value;\n          const updateColumns = columnKey === \"fixed\";\n          owner.value.store.scheduleLayout(updateColumns);\n        });\n      }\n    });\n  };\n\n  const registerNormalWatchers = () => {\n    const props = [\"label\", \"filters\", \"filterMultiple\", \"sortable\", \"index\", \"formatter\", \"className\", \"labelClassName\", \"showOverflowTooltip\"];\n    const aliases = {\n      property: \"prop\",\n      align: \"realAlign\",\n      headerAlign: \"realHeaderAlign\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach(key => {\n      const columnKey = aliases[key];\n\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], newVal => {\n          instance.columnConfig.value[key] = newVal;\n        });\n      }\n    });\n  };\n\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers\n  };\n}\n\nfunction useRender(props, slots, owner) {\n  const instance = getCurrentInstance();\n  const columnId = ref(\"\");\n  const isSubColumn = ref(false);\n  const realAlign = ref();\n  const realHeaderAlign = ref();\n  watchEffect(() => {\n    realAlign.value = !!props.align ? \"is-\" + props.align : null;\n    realAlign.value;\n  });\n  watchEffect(() => {\n    realHeaderAlign.value = !!props.headerAlign ? \"is-\" + props.headerAlign : realAlign.value;\n    realHeaderAlign.value;\n  });\n  const columnOrTableParent = computed(() => {\n    let parent = instance.vnode.vParent || instance.parent;\n\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent;\n    }\n\n    return parent;\n  });\n  const realWidth = ref(parseWidth(props.width));\n  const realMinWidth = ref(parseMinWidth(props.minWidth));\n\n  const setColumnWidth = column => {\n    if (realWidth.value) column.width = realWidth.value;\n\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value;\n    }\n\n    if (!column.minWidth) {\n      column.minWidth = 80;\n    }\n\n    column.realWidth = Number(column.width === void 0 ? column.minWidth : column.width);\n    return column;\n  };\n\n  const setColumnForcedProps = column => {\n    const type = column.type;\n    const source = cellForced[type] || {};\n    Object.keys(source).forEach(prop => {\n      const value = source[prop];\n\n      if (value !== void 0) {\n        column[prop] = prop === \"className\" ? `${column[prop]} ${value}` : value;\n      }\n    });\n    return column;\n  };\n\n  const checkSubColumn = children => {\n    if (children instanceof Array) {\n      children.forEach(child => check(child));\n    } else {\n      check(children);\n    }\n\n    function check(item) {\n      var _a;\n\n      if (((_a = item == null ? void 0 : item.type) == null ? void 0 : _a.name) === \"ElTableColumn\") {\n        item.vParent = instance;\n      }\n    }\n  };\n\n  const setColumnRenders = column => {\n    if (props.renderHeader) {\n      console.warn(\"[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.\");\n    } else if (column.type !== \"selection\") {\n      column.renderHeader = scope => {\n        instance.columnConfig.value[\"label\"];\n        const renderHeader = slots.header;\n        return renderHeader ? renderHeader(scope) : column.label;\n      };\n    }\n\n    let originRenderCell = column.renderCell;\n\n    if (column.type === \"expand\") {\n      column.renderCell = data => h(\"div\", {\n        class: \"cell\"\n      }, [originRenderCell(data)]);\n\n      owner.value.renderExpanded = data => {\n        return slots.default ? slots.default(data) : slots.default;\n      };\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell;\n\n      column.renderCell = data => {\n        let children = null;\n\n        if (slots.default) {\n          children = slots.default(data);\n        } else {\n          children = originRenderCell(data);\n        }\n\n        const prefix = treeCellPrefix(data);\n        const props2 = {\n          class: \"cell\",\n          style: {}\n        };\n\n        if (column.showOverflowTooltip) {\n          props2.class += \" el-tooltip\";\n          props2.style = {\n            width: (data.column.realWidth || Number(data.column.width)) - 1 + \"px\"\n          };\n        }\n\n        checkSubColumn(children);\n        return h(\"div\", props2, [prefix, children]);\n      };\n    }\n\n    return column;\n  };\n\n  const getPropsData = (...propsKey) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach(key => {\n          prev[key] = props[key];\n        });\n      }\n\n      return prev;\n    }, {});\n  };\n\n  const getColumnElIndex = (children, child) => {\n    return [].indexOf.call(children, child);\n  };\n\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex\n  };\n}\n\nvar defaultProps = {\n  type: {\n    type: String,\n    default: \"default\"\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: \"\"\n  },\n  minWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  renderHeader: Function,\n  sortable: {\n    type: [Boolean, String],\n    default: false\n  },\n  sortMethod: Function,\n  sortBy: [String, Function, Array],\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function,\n  selectable: Function,\n  reserveSelection: Boolean,\n  filterMethod: Function,\n  filteredValue: Array,\n  filters: Array,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true\n  },\n  index: [Number, Function],\n  sortOrders: {\n    type: Array,\n    default: () => {\n      return [\"ascending\", \"descending\", null];\n    },\n    validator: val => {\n      return val.every(order => [\"ascending\", \"descending\", null].indexOf(order) > -1);\n    }\n  }\n};\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nlet columnIdSeed = 1;\nvar ElTableColumn = defineComponent({\n  name: \"ElTableColumn\",\n  components: {\n    ElCheckbox\n  },\n  props: defaultProps,\n\n  setup(props, {\n    slots\n  }) {\n    const instance = getCurrentInstance();\n    const columnConfig = ref({});\n    const owner = computed(() => {\n      let parent2 = instance.parent;\n\n      while (parent2 && !parent2.tableId) {\n        parent2 = parent2.parent;\n      }\n\n      return parent2;\n    });\n    const {\n      registerNormalWatchers,\n      registerComplexWatchers\n    } = useWatcher(owner, props);\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign\n    } = useRender(props, slots, owner);\n    const parent = columnOrTableParent.value;\n    columnId.value = (parent.tableId || parent.columnId) + \"_column_\" + columnIdSeed++;\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent;\n      const type = props.type || \"default\";\n      const sortable = props.sortable === \"\" ? true : props.sortable;\n\n      const defaults = __spreadProps(__spreadValues({}, cellStarts[type]), {\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip: props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: \"\",\n        isColumnGroup: false,\n        filterOpened: false,\n        sortable,\n        index: props.index,\n        rawColumnKey: instance.vnode.key\n      });\n\n      const basicProps = [\"columnKey\", \"label\", \"className\", \"labelClassName\", \"type\", \"renderHeader\", \"formatter\", \"fixed\", \"resizable\"];\n      const sortProps = [\"sortMethod\", \"sortBy\", \"sortOrders\"];\n      const selectProps = [\"selectable\", \"reserveSelection\"];\n      const filterProps = [\"filterMethod\", \"filters\", \"filterMultiple\", \"filterOpened\", \"filteredValue\", \"filterPlacement\"];\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps);\n      column = mergeOptions(defaults, column);\n      const chains = compose(setColumnRenders, setColumnWidth, setColumnForcedProps);\n      column = chains(column);\n      columnConfig.value = column;\n      registerNormalWatchers();\n      registerComplexWatchers();\n    });\n    onMounted(() => {\n      var _a;\n\n      const parent2 = columnOrTableParent.value;\n      const children = isSubColumn.value ? parent2.vnode.el.children : (_a = parent2.refs.hiddenColumns) == null ? void 0 : _a.children;\n\n      const getColumnIndex = () => getColumnElIndex(children || [], instance.vnode.el);\n\n      columnConfig.value.getColumnIndex = getColumnIndex;\n      const columnIndex = getColumnIndex();\n      columnIndex > -1 && owner.value.store.commit(\"insertColumn\", columnConfig.value, isSubColumn.value ? parent2.columnConfig.value : null);\n    });\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\"removeColumn\", columnConfig.value, isSubColumn.value ? parent.columnConfig.value : null);\n    });\n    instance.columnId = columnId.value;\n    instance.columnConfig = columnConfig;\n    return;\n  },\n\n  render() {\n    var _a, _b, _c;\n\n    let children = [];\n\n    try {\n      const renderDefault = (_b = (_a = this.$slots).default) == null ? void 0 : _b.call(_a, {\n        row: {},\n        column: {},\n        $index: -1\n      });\n\n      if (renderDefault instanceof Array) {\n        for (const childNode of renderDefault) {\n          if (((_c = childNode.type) == null ? void 0 : _c.name) === \"ElTableColumn\") {\n            children.push(childNode);\n          } else if (childNode.type === Fragment && childNode.children instanceof Array) {\n            children.push(...childNode.children);\n          }\n        }\n      }\n    } catch (e) {\n      children = [];\n    }\n\n    return h(\"div\", children);\n  }\n\n});\nconst _TableColumn = ElTableColumn;\n\n_TableColumn.install = app => {\n  app.component(_TableColumn.name, _TableColumn);\n};\n\nexport default _TableColumn;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-table-column/index.js"],"names":["h","getCurrentInstance","watch","ref","watchEffect","computed","defineComponent","onBeforeMount","onMounted","onBeforeUnmount","Fragment","getPropByPath","ElCheckbox","cellStarts","default","order","selection","width","minWidth","realWidth","className","expand","index","cellForced","renderHeader","store","isDisabled","states","data","value","length","disabled","indeterminate","isAllSelected","toggleAllSelection","modelValue","renderCell","row","column","$index","selectable","call","onChange","commit","onClick","event","stopPropagation","isSelected","sortable","resizable","label","i","classes","expandRows","indexOf","push","callback","e","toggleRowExpansion","class","defaultRenderCell","_a","property","v","formatter","toString","treeCellPrefix","treeNode","ele","loadOrToggle","indent","style","expanded","noLazyChildren","expandClasses","iconClasses","loading","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","hasOwnProperty","prototype","hasOwn","val","key","mergeOptions","defaults","config","options","parseWidth","parseInt","isNaN","parseMinWidth","compose","funcs","arg","reduce","a","b","args","useWatcher","owner","props_","instance","registerComplexWatchers","props","aliases","realMinWidth","allAliases","prev","cur","keys","forEach","columnKey","newVal","columnConfig","updateColumns","scheduleLayout","registerNormalWatchers","align","headerAlign","useRender","slots","columnId","isSubColumn","realAlign","realHeaderAlign","columnOrTableParent","parent","vnode","vParent","tableId","setColumnWidth","Number","setColumnForcedProps","type","source","prop","checkSubColumn","children","Array","child","check","item","name","setColumnRenders","console","warn","scope","header","originRenderCell","renderExpanded","prefix","props2","showOverflowTooltip","getPropsData","propsKey","isArray","getColumnElIndex","defaultProps","String","labelClassName","Function","Boolean","sortMethod","sortBy","showTooltipWhenOverflow","fixed","reserveSelection","filterMethod","filteredValue","filters","filterPlacement","filterMultiple","sortOrders","validator","every","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","__spreadProps","columnIdSeed","ElTableColumn","components","setup","parent2","id","filterable","isColumnGroup","filterOpened","rawColumnKey","basicProps","sortProps","selectProps","filterProps","chains","el","refs","hiddenColumns","getColumnIndex","columnIndex","render","_b","_c","renderDefault","$slots","childNode","_TableColumn","install","app","component"],"mappings":"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","sourcesContent":["import { h, getCurrentInstance, watch, ref, watchEffect, computed, defineComponent, onBeforeMount, onMounted, onBeforeUnmount, Fragment } from 'vue';\nimport { getPropByPath } from '../utils/util';\nimport ElCheckbox from '../el-checkbox';\nimport '../utils/dom';\nimport '@popperjs/core';\nimport '../utils/popup-manager';\n\nconst cellStarts = {\n  default: {\n    order: \"\"\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\",\n    className: \"el-table-column--selection\"\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  }\n};\nconst cellForced = {\n  selection: {\n    renderHeader: function({ store }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0;\n      }\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        indeterminate: store.states.selection.value.length > 0 && !store.states.isAllSelected.value,\n        \"onUpdate:modelValue\": store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value\n      });\n    },\n    renderCell: function({\n      row,\n      column,\n      store,\n      $index\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable ? !column.selectable.call(null, row, $index) : false,\n        onChange: () => {\n          store.commit(\"rowSelectedChanged\", row);\n        },\n        onClick: (event) => event.stopPropagation(),\n        modelValue: store.isSelected(row)\n      });\n    },\n    sortable: false,\n    resizable: false\n  },\n  index: {\n    renderHeader: function({ column }) {\n      return column.label || \"#\";\n    },\n    renderCell: function({\n      column,\n      $index\n    }) {\n      let i = $index + 1;\n      const index = column.index;\n      if (typeof index === \"number\") {\n        i = $index + index;\n      } else if (typeof index === \"function\") {\n        i = index($index);\n      }\n      return h(\"div\", {}, [i]);\n    },\n    sortable: false\n  },\n  expand: {\n    renderHeader: function({ column }) {\n      return column.label || \"\";\n    },\n    renderCell: function({ row, store }) {\n      const classes = [\"el-table__expand-icon\"];\n      if (store.states.expandRows.value.indexOf(row) > -1) {\n        classes.push(\"el-table__expand-icon--expanded\");\n      }\n      const callback = function(e) {\n        e.stopPropagation();\n        store.toggleRowExpansion(row);\n      };\n      return h(\"div\", {\n        class: classes,\n        onClick: callback\n      }, [\n        h(\"i\", {\n          class: \"el-icon el-icon-arrow-right\"\n        })\n      ]);\n    },\n    sortable: false,\n    resizable: false,\n    className: \"el-table__expand-column\"\n  }\n};\nfunction defaultRenderCell({\n  row,\n  column,\n  $index\n}) {\n  var _a;\n  const property = column.property;\n  const value = property && getPropByPath(row, property, false).v;\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index);\n  }\n  return ((_a = value == null ? void 0 : value.toString) == null ? void 0 : _a.call(value)) || \"\";\n}\nfunction treeCellPrefix({\n  row,\n  treeNode,\n  store\n}) {\n  if (!treeNode)\n    return null;\n  const ele = [];\n  const callback = function(e) {\n    e.stopPropagation();\n    store.loadOrToggle(row);\n  };\n  if (treeNode.indent) {\n    ele.push(h(\"span\", {\n      class: \"el-table__indent\",\n      style: { \"padding-left\": treeNode.indent + \"px\" }\n    }));\n  }\n  if (typeof treeNode.expanded === \"boolean\" && !treeNode.noLazyChildren) {\n    const expandClasses = [\n      \"el-table__expand-icon\",\n      treeNode.expanded ? \"el-table__expand-icon--expanded\" : \"\"\n    ];\n    let iconClasses = [\"el-icon-arrow-right\"];\n    if (treeNode.loading) {\n      iconClasses = [\"el-icon-loading\"];\n    }\n    ele.push(h(\"div\", {\n      class: expandClasses,\n      onClick: callback\n    }, [\n      h(\"i\", {\n        class: iconClasses\n      })\n    ]));\n  } else {\n    ele.push(h(\"span\", {\n      class: \"el-table__placeholder\"\n    }));\n  }\n  return ele;\n}\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\n\nfunction mergeOptions(defaults, config) {\n  const options = {};\n  let key;\n  for (key in defaults) {\n    options[key] = defaults[key];\n  }\n  for (key in config) {\n    if (hasOwn(config, key)) {\n      const value = config[key];\n      if (typeof value !== \"undefined\") {\n        options[key] = value;\n      }\n    }\n  }\n  return options;\n}\nfunction parseWidth(width) {\n  if (width !== void 0) {\n    width = parseInt(width, 10);\n    if (isNaN(width)) {\n      width = null;\n    }\n  }\n  return +width;\n}\nfunction parseMinWidth(minWidth) {\n  if (typeof minWidth !== \"undefined\") {\n    minWidth = parseWidth(minWidth);\n    if (isNaN(minWidth)) {\n      minWidth = 80;\n    }\n  }\n  return minWidth;\n}\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\nfunction useWatcher(owner, props_) {\n  const instance = getCurrentInstance();\n  const registerComplexWatchers = () => {\n    const props = [\"fixed\"];\n    const aliases = {\n      realWidth: \"width\",\n      realMinWidth: \"minWidth\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key];\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], (newVal) => {\n          let value = newVal;\n          if (columnKey === \"width\" && key === \"realWidth\") {\n            value = parseWidth(newVal);\n          }\n          if (columnKey === \"minWidth\" && key === \"realMinWidth\") {\n            value = parseMinWidth(newVal);\n          }\n          instance.columnConfig.value[columnKey] = value;\n          instance.columnConfig.value[key] = value;\n          const updateColumns = columnKey === \"fixed\";\n          owner.value.store.scheduleLayout(updateColumns);\n        });\n      }\n    });\n  };\n  const registerNormalWatchers = () => {\n    const props = [\n      \"label\",\n      \"filters\",\n      \"filterMultiple\",\n      \"sortable\",\n      \"index\",\n      \"formatter\",\n      \"className\",\n      \"labelClassName\",\n      \"showOverflowTooltip\"\n    ];\n    const aliases = {\n      property: \"prop\",\n      align: \"realAlign\",\n      headerAlign: \"realHeaderAlign\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key];\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], (newVal) => {\n          instance.columnConfig.value[key] = newVal;\n        });\n      }\n    });\n  };\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers\n  };\n}\n\nfunction useRender(props, slots, owner) {\n  const instance = getCurrentInstance();\n  const columnId = ref(\"\");\n  const isSubColumn = ref(false);\n  const realAlign = ref();\n  const realHeaderAlign = ref();\n  watchEffect(() => {\n    realAlign.value = !!props.align ? \"is-\" + props.align : null;\n    realAlign.value;\n  });\n  watchEffect(() => {\n    realHeaderAlign.value = !!props.headerAlign ? \"is-\" + props.headerAlign : realAlign.value;\n    realHeaderAlign.value;\n  });\n  const columnOrTableParent = computed(() => {\n    let parent = instance.vnode.vParent || instance.parent;\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent;\n    }\n    return parent;\n  });\n  const realWidth = ref(parseWidth(props.width));\n  const realMinWidth = ref(parseMinWidth(props.minWidth));\n  const setColumnWidth = (column) => {\n    if (realWidth.value)\n      column.width = realWidth.value;\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value;\n    }\n    if (!column.minWidth) {\n      column.minWidth = 80;\n    }\n    column.realWidth = Number(column.width === void 0 ? column.minWidth : column.width);\n    return column;\n  };\n  const setColumnForcedProps = (column) => {\n    const type = column.type;\n    const source = cellForced[type] || {};\n    Object.keys(source).forEach((prop) => {\n      const value = source[prop];\n      if (value !== void 0) {\n        column[prop] = prop === \"className\" ? `${column[prop]} ${value}` : value;\n      }\n    });\n    return column;\n  };\n  const checkSubColumn = (children) => {\n    if (children instanceof Array) {\n      children.forEach((child) => check(child));\n    } else {\n      check(children);\n    }\n    function check(item) {\n      var _a;\n      if (((_a = item == null ? void 0 : item.type) == null ? void 0 : _a.name) === \"ElTableColumn\") {\n        item.vParent = instance;\n      }\n    }\n  };\n  const setColumnRenders = (column) => {\n    if (props.renderHeader) {\n      console.warn(\"[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.\");\n    } else if (column.type !== \"selection\") {\n      column.renderHeader = (scope) => {\n        instance.columnConfig.value[\"label\"];\n        const renderHeader = slots.header;\n        return renderHeader ? renderHeader(scope) : column.label;\n      };\n    }\n    let originRenderCell = column.renderCell;\n    if (column.type === \"expand\") {\n      column.renderCell = (data) => h(\"div\", {\n        class: \"cell\"\n      }, [originRenderCell(data)]);\n      owner.value.renderExpanded = (data) => {\n        return slots.default ? slots.default(data) : slots.default;\n      };\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell;\n      column.renderCell = (data) => {\n        let children = null;\n        if (slots.default) {\n          children = slots.default(data);\n        } else {\n          children = originRenderCell(data);\n        }\n        const prefix = treeCellPrefix(data);\n        const props2 = {\n          class: \"cell\",\n          style: {}\n        };\n        if (column.showOverflowTooltip) {\n          props2.class += \" el-tooltip\";\n          props2.style = {\n            width: (data.column.realWidth || Number(data.column.width)) - 1 + \"px\"\n          };\n        }\n        checkSubColumn(children);\n        return h(\"div\", props2, [prefix, children]);\n      };\n    }\n    return column;\n  };\n  const getPropsData = (...propsKey) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach((key) => {\n          prev[key] = props[key];\n        });\n      }\n      return prev;\n    }, {});\n  };\n  const getColumnElIndex = (children, child) => {\n    return [].indexOf.call(children, child);\n  };\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex\n  };\n}\n\nvar defaultProps = {\n  type: {\n    type: String,\n    default: \"default\"\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: \"\"\n  },\n  minWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  renderHeader: Function,\n  sortable: {\n    type: [Boolean, String],\n    default: false\n  },\n  sortMethod: Function,\n  sortBy: [String, Function, Array],\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function,\n  selectable: Function,\n  reserveSelection: Boolean,\n  filterMethod: Function,\n  filteredValue: Array,\n  filters: Array,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true\n  },\n  index: [Number, Function],\n  sortOrders: {\n    type: Array,\n    default: () => {\n      return [\"ascending\", \"descending\", null];\n    },\n    validator: (val) => {\n      return val.every((order) => [\"ascending\", \"descending\", null].indexOf(order) > -1);\n    }\n  }\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet columnIdSeed = 1;\nvar ElTableColumn = defineComponent({\n  name: \"ElTableColumn\",\n  components: {\n    ElCheckbox\n  },\n  props: defaultProps,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const columnConfig = ref({});\n    const owner = computed(() => {\n      let parent2 = instance.parent;\n      while (parent2 && !parent2.tableId) {\n        parent2 = parent2.parent;\n      }\n      return parent2;\n    });\n    const { registerNormalWatchers, registerComplexWatchers } = useWatcher(owner, props);\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign\n    } = useRender(props, slots, owner);\n    const parent = columnOrTableParent.value;\n    columnId.value = (parent.tableId || parent.columnId) + \"_column_\" + columnIdSeed++;\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent;\n      const type = props.type || \"default\";\n      const sortable = props.sortable === \"\" ? true : props.sortable;\n      const defaults = __spreadProps(__spreadValues({}, cellStarts[type]), {\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip: props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: \"\",\n        isColumnGroup: false,\n        filterOpened: false,\n        sortable,\n        index: props.index,\n        rawColumnKey: instance.vnode.key\n      });\n      const basicProps = [\n        \"columnKey\",\n        \"label\",\n        \"className\",\n        \"labelClassName\",\n        \"type\",\n        \"renderHeader\",\n        \"formatter\",\n        \"fixed\",\n        \"resizable\"\n      ];\n      const sortProps = [\"sortMethod\", \"sortBy\", \"sortOrders\"];\n      const selectProps = [\"selectable\", \"reserveSelection\"];\n      const filterProps = [\n        \"filterMethod\",\n        \"filters\",\n        \"filterMultiple\",\n        \"filterOpened\",\n        \"filteredValue\",\n        \"filterPlacement\"\n      ];\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps);\n      column = mergeOptions(defaults, column);\n      const chains = compose(setColumnRenders, setColumnWidth, setColumnForcedProps);\n      column = chains(column);\n      columnConfig.value = column;\n      registerNormalWatchers();\n      registerComplexWatchers();\n    });\n    onMounted(() => {\n      var _a;\n      const parent2 = columnOrTableParent.value;\n      const children = isSubColumn.value ? parent2.vnode.el.children : (_a = parent2.refs.hiddenColumns) == null ? void 0 : _a.children;\n      const getColumnIndex = () => getColumnElIndex(children || [], instance.vnode.el);\n      columnConfig.value.getColumnIndex = getColumnIndex;\n      const columnIndex = getColumnIndex();\n      columnIndex > -1 && owner.value.store.commit(\"insertColumn\", columnConfig.value, isSubColumn.value ? parent2.columnConfig.value : null);\n    });\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\"removeColumn\", columnConfig.value, isSubColumn.value ? parent.columnConfig.value : null);\n    });\n    instance.columnId = columnId.value;\n    instance.columnConfig = columnConfig;\n    return;\n  },\n  render() {\n    var _a, _b, _c;\n    let children = [];\n    try {\n      const renderDefault = (_b = (_a = this.$slots).default) == null ? void 0 : _b.call(_a, {\n        row: {},\n        column: {},\n        $index: -1\n      });\n      if (renderDefault instanceof Array) {\n        for (const childNode of renderDefault) {\n          if (((_c = childNode.type) == null ? void 0 : _c.name) === \"ElTableColumn\") {\n            children.push(childNode);\n          } else if (childNode.type === Fragment && childNode.children instanceof Array) {\n            children.push(...childNode.children);\n          }\n        }\n      }\n    } catch (e) {\n      children = [];\n    }\n    return h(\"div\", children);\n  }\n});\n\nconst _TableColumn = ElTableColumn;\n_TableColumn.install = (app) => {\n  app.component(_TableColumn.name, _TableColumn);\n};\n\nexport default _TableColumn;\n"]},"metadata":{},"sourceType":"module"}