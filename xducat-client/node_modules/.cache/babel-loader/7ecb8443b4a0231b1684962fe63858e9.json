{"ast":null,"code":"import mitt from 'mitt';\nimport { inject, computed, defineComponent, reactive, ref, getCurrentInstance, provide, onBeforeMount, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport ElCollapseTransition from '../el-collapse-transition';\nimport ElPopper from '../el-popper';\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex];\n\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n\n      parent = parent.parent;\n    }\n\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\") return {};\n    let padding = 20;\n\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n\n        parent = parent.parent;\n      }\n    }\n\n    return {\n      paddingLeft: padding + \"px\"\n    };\n  });\n  return {\n    parentMenu,\n    paddingStyle,\n    indexPath\n  };\n}\n\nvar script = defineComponent({\n  name: \"ElSubmenu\",\n  componentName: \"ElSubmenu\",\n  props: {\n    index: {\n      type: String,\n      required: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 300\n    },\n    hideTimeout: {\n      type: Number,\n      default: 300\n    },\n    popperClass: String,\n    disabled: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: void 0\n    }\n  },\n\n  setup(props) {\n    const data = reactive({\n      popperJS: null,\n      timeout: null,\n      items: {},\n      submenus: {},\n      currentPlacement: \"\",\n      mouseInChild: false,\n      opened: false\n    });\n    const verticalTitleRef = ref(null);\n    const popperVnode = ref(null);\n    const instance = getCurrentInstance();\n    const {\n      paddingStyle,\n      indexPath,\n      parentMenu\n    } = useMenu(instance, props.index);\n    const {\n      openedMenus,\n      isMenuPopup,\n      hoverBackground: rootHoverBackground,\n      methods: rootMethods,\n      props: rootProps,\n      methods: {\n        closeMenu\n      },\n      rootMenuOn,\n      rootMenuEmit\n    } = inject(\"rootMenu\");\n    const {\n      addSubMenu: parentAddSubmenu,\n      removeSubMenu: parentRemoveSubmenu,\n      handleMouseleave: parentHandleMouseleave\n    } = inject(`subMenu:${parentMenu.value.uid}`);\n    const submenuTitleIcon = computed(() => {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootProps.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    const isFirstLevel = computed(() => {\n      let isFirstLevel2 = true;\n      let parent = instance.parent;\n\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubmenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n\n      return isFirstLevel2;\n    });\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    const menuTransitionName = computed(() => {\n      return rootProps.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\";\n    });\n    const opened = computed(() => {\n      return openedMenus.value.includes(props.index);\n    });\n    const active = computed(() => {\n      let isActive = false;\n      const submenus = data.submenus;\n      const items = data.items;\n      Object.keys(items).forEach(index => {\n        if (items[index].active) {\n          isActive = true;\n        }\n      });\n      Object.keys(submenus).forEach(index => {\n        if (submenus[index].active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    const backgroundColor = computed(() => {\n      return rootProps.backgroundColor || \"\";\n    });\n    const activeTextColor = computed(() => {\n      return rootProps.activeTextColor || \"\";\n    });\n    const textColor = computed(() => {\n      return rootProps.textColor || \"\";\n    });\n    const mode = computed(() => {\n      return rootProps.mode;\n    });\n    const titleStyle = computed(() => {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n\n      return {\n        borderBottomColor: active.value ? rootProps.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    const subMenuEmitter = mitt();\n\n    const doDestroy = () => {\n      var _a;\n\n      (_a = popperVnode.value) == null ? void 0 : _a.doDestroy();\n    };\n\n    const handleCollapseToggle = value => {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n\n    const addItem = item => {\n      data.items[item.index] = item;\n    };\n\n    const removeItem = item => {\n      delete data.items[item.index];\n    };\n\n    const addSubMenu = item => {\n      data.submenus[item.index] = item;\n    };\n\n    const removeSubMenu = item => {\n      delete data.submenus[item.index];\n    };\n\n    const handleClick = () => {\n      const disabled = props.disabled;\n\n      if (rootProps.menuTrigger === \"hover\" && rootProps.mode === \"horizontal\" || rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n\n      rootMenuEmit(\"submenu:submenu-click\", {\n        index: props.index,\n        indexPath\n      });\n    };\n\n    const handleMouseenter = (event, showTimeout = props.showTimeout) => {\n      if (!(\"ActiveXObject\" in window) && event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n\n      const disabled = props.disabled;\n\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n\n      subMenuEmitter.emit(\"submenu:mouse-enter-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        rootMethods.openMenu(props.index, indexPath);\n      }, showTimeout);\n\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n\n    const handleMouseleave = (deepDispatch = false) => {\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\") {\n        return;\n      }\n\n      subMenuEmitter.emit(\"submenu:mouse-leave-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        !data.mouseInChild && closeMenu(props.index);\n      }, props.hideTimeout);\n\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent.type.name === \"ElSubmenu\") {\n          parentHandleMouseleave(true);\n        }\n      }\n    };\n\n    const handleTitleMouseenter = () => {\n      var _a;\n\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor) return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootHoverBackground.value);\n    };\n\n    const handleTitleMouseleave = () => {\n      var _a;\n\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor) return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootProps.backgroundColor || \"\");\n    };\n\n    const updatePlacement = () => {\n      data.currentPlacement = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu,\n      handleMouseleave\n    });\n    onBeforeMount(() => {\n      rootMenuOn(\"rootMenu:toggle-collapse\", val => {\n        handleCollapseToggle(val);\n      });\n      subMenuEmitter.on(\"submenu:mouse-enter-child\", () => {\n        data.mouseInChild = true;\n        clearTimeout(data.timeout);\n      });\n      subMenuEmitter.on(\"submenu:mouse-leave-child\", () => {\n        data.mouseInChild = false;\n        clearTimeout(data.timeout);\n      });\n    });\n    onMounted(() => {\n      rootMethods.addSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      parentAddSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      updatePlacement();\n    });\n    onBeforeUnmount(() => {\n      parentRemoveSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      rootMethods.removeSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n    });\n    return {\n      data,\n      props,\n      mode,\n      active,\n      isMenuPopup,\n      opened,\n      paddingStyle,\n      titleStyle,\n      backgroundColor,\n      rootProps,\n      menuTransitionName,\n      submenuTitleIcon,\n      appendToBody,\n      handleClick,\n      handleMouseenter,\n      handleMouseleave,\n      handleTitleMouseenter,\n      handleTitleMouseleave,\n      addItem,\n      removeItem,\n      addSubMenu,\n      removeSubMenu,\n      popperVnode,\n      verticalTitleRef\n    };\n  },\n\n  render() {\n    var _a, _b;\n\n    const titleTag = [(_b = (_a = this.$slots).title) == null ? void 0 : _b.call(_a), h(\"i\", {\n      class: [\"el-submenu__icon-arrow\", this.submenuTitleIcon]\n    }, null)];\n    const ulStyle = {\n      backgroundColor: this.rootProps.backgroundColor || \"\"\n    };\n    const child = this.isMenuPopup ? h(ElPopper, {\n      ref: \"popperVNode\",\n      manualMode: true,\n      visible: this.opened,\n      \"onUpdate:visible\": val => this.opened = val,\n      effect: \"light\",\n      pure: true,\n      offset: 6,\n      showArrow: false,\n      popperClass: this.popperClass,\n      placement: this.data.currentPlacement,\n      appendToBody: this.appendToBody,\n      transition: this.menuTransitionName,\n      gpuAcceleration: false\n    }, {\n      default: () => {\n        var _a2, _b2;\n\n        return h(\"div\", {\n          ref: \"menu\",\n          class: [`el-menu--${this.mode}`, this.popperClass],\n          onMouseenter: $event => this.handleMouseenter($event, 100),\n          onMouseleave: () => this.handleMouseleave(true),\n          onFocus: $event => this.handleMouseenter($event, 100)\n        }, [h(\"ul\", {\n          class: [\"el-menu el-menu--popup\", `el-menu--popup-${this.data.currentPlacement}`],\n          style: ulStyle\n        }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)])]);\n      },\n      trigger: () => h(\"div\", {\n        class: \"el-submenu__title\",\n        style: [this.paddingStyle, this.titleStyle, {\n          backgroundColor: this.backgroundColor\n        }],\n        onClick: this.handleClick,\n        onMouseenter: this.handleTitleMouseenter,\n        onMouseleave: this.handleTitleMouseleave\n      }, titleTag)\n    }) : h(Fragment, {}, [h(\"div\", {\n      class: \"el-submenu__title\",\n      style: [this.paddingStyle, this.titleStyle, {\n        backgroundColor: this.backgroundColor\n      }],\n      ref: \"verticalTitleRef\",\n      onClick: this.handleClick,\n      onMouseenter: this.handleTitleMouseenter,\n      onMouseleave: this.handleTitleMouseleave\n    }, titleTag), h(ElCollapseTransition, {}, {\n      default: () => {\n        var _a2, _b2;\n\n        return withDirectives(h(\"ul\", {\n          role: \"menu\",\n          class: \"el-menu el-menu--inline\",\n          style: ulStyle\n        }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)]), [[vShow, this.opened]]);\n      }\n    })]);\n    return h(\"li\", {\n      class: [\"el-submenu\", {\n        \"is-active\": this.active,\n        \"is-opened\": this.opened,\n        \"is-disabled\": this.disabled\n      }],\n      role: \"menuitem\",\n      ariaHaspopup: true,\n      ariaExpanded: this.opened,\n      onMouseenter: this.handleMouseenter,\n      onMouseleave: () => this.handleMouseleave(true),\n      onFocus: this.handleMouseenter\n    }, [child]);\n  }\n\n});\nscript.__file = \"packages/menu/src/submenu.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Submenu = script;\nexport default _Submenu;","map":{"version":3,"sources":["D:/A-大三下/web开发/xducat/xducat-client/node_modules/element-plus/es/el-submenu/index.js"],"names":["mitt","inject","computed","defineComponent","reactive","ref","getCurrentInstance","provide","onBeforeMount","onMounted","onBeforeUnmount","h","Fragment","withDirectives","vShow","ElCollapseTransition","ElPopper","useMenu","instance","currentIndex","rootMenu","indexPath","parent","path","type","name","props","index","unshift","parentMenu","indexOf","paddingStyle","mode","padding","collapse","paddingLeft","script","componentName","String","required","showTimeout","Number","default","hideTimeout","popperClass","disabled","Boolean","popperAppendToBody","setup","data","popperJS","timeout","items","submenus","currentPlacement","mouseInChild","opened","verticalTitleRef","popperVnode","openedMenus","isMenuPopup","hoverBackground","rootHoverBackground","methods","rootMethods","rootProps","closeMenu","rootMenuOn","rootMenuEmit","addSubMenu","parentAddSubmenu","removeSubMenu","parentRemoveSubmenu","handleMouseleave","parentHandleMouseleave","value","uid","submenuTitleIcon","isFirstLevel","isFirstLevel2","includes","appendToBody","menuTransitionName","active","isActive","Object","keys","forEach","backgroundColor","activeTextColor","textColor","titleStyle","color","borderBottomColor","subMenuEmitter","doDestroy","_a","handleCollapseToggle","updatePlacement","addItem","item","removeItem","handleClick","menuTrigger","handleMouseenter","event","window","relatedTarget","emit","clearTimeout","setTimeout","openMenu","vnode","el","dispatchEvent","MouseEvent","deepDispatch","handleTitleMouseenter","title","triggerRef","style","handleTitleMouseleave","val","on","render","_b","titleTag","$slots","call","class","ulStyle","child","manualMode","visible","effect","pure","offset","showArrow","placement","transition","gpuAcceleration","_a2","_b2","onMouseenter","$event","onMouseleave","onFocus","trigger","onClick","role","ariaHaspopup","ariaExpanded","__file","install","app","component","_Submenu"],"mappings":"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","sourcesContent":["import mitt from 'mitt';\nimport { inject, computed, defineComponent, reactive, ref, getCurrentInstance, provide, onBeforeMount, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow } from 'vue';\nimport ElCollapseTransition from '../el-collapse-transition';\nimport ElPopper from '../el-popper';\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n    while (parent && [\"ElMenu\", \"ElSubmenu\"].indexOf(parent.type.name) === -1) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\")\n      return {};\n    let padding = 20;\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubmenu\") {\n          padding += 20;\n        }\n        parent = parent.parent;\n      }\n    }\n    return { paddingLeft: padding + \"px\" };\n  });\n  return { parentMenu, paddingStyle, indexPath };\n}\n\nvar script = defineComponent({\n  name: \"ElSubmenu\",\n  componentName: \"ElSubmenu\",\n  props: {\n    index: {\n      type: String,\n      required: true\n    },\n    showTimeout: {\n      type: Number,\n      default: 300\n    },\n    hideTimeout: {\n      type: Number,\n      default: 300\n    },\n    popperClass: String,\n    disabled: Boolean,\n    popperAppendToBody: {\n      type: Boolean,\n      default: void 0\n    }\n  },\n  setup(props) {\n    const data = reactive({\n      popperJS: null,\n      timeout: null,\n      items: {},\n      submenus: {},\n      currentPlacement: \"\",\n      mouseInChild: false,\n      opened: false\n    });\n    const verticalTitleRef = ref(null);\n    const popperVnode = ref(null);\n    const instance = getCurrentInstance();\n    const { paddingStyle, indexPath, parentMenu } = useMenu(instance, props.index);\n    const {\n      openedMenus,\n      isMenuPopup,\n      hoverBackground: rootHoverBackground,\n      methods: rootMethods,\n      props: rootProps,\n      methods: { closeMenu },\n      rootMenuOn,\n      rootMenuEmit\n    } = inject(\"rootMenu\");\n    const {\n      addSubMenu: parentAddSubmenu,\n      removeSubMenu: parentRemoveSubmenu,\n      handleMouseleave: parentHandleMouseleave\n    } = inject(`subMenu:${parentMenu.value.uid}`);\n    const submenuTitleIcon = computed(() => {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootProps.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    const isFirstLevel = computed(() => {\n      let isFirstLevel2 = true;\n      let parent = instance.parent;\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubmenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n      return isFirstLevel2;\n    });\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    const menuTransitionName = computed(() => {\n      return rootProps.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\";\n    });\n    const opened = computed(() => {\n      return openedMenus.value.includes(props.index);\n    });\n    const active = computed(() => {\n      let isActive = false;\n      const submenus = data.submenus;\n      const items = data.items;\n      Object.keys(items).forEach((index) => {\n        if (items[index].active) {\n          isActive = true;\n        }\n      });\n      Object.keys(submenus).forEach((index) => {\n        if (submenus[index].active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    const backgroundColor = computed(() => {\n      return rootProps.backgroundColor || \"\";\n    });\n    const activeTextColor = computed(() => {\n      return rootProps.activeTextColor || \"\";\n    });\n    const textColor = computed(() => {\n      return rootProps.textColor || \"\";\n    });\n    const mode = computed(() => {\n      return rootProps.mode;\n    });\n    const titleStyle = computed(() => {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n      return {\n        borderBottomColor: active.value ? rootProps.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    const subMenuEmitter = mitt();\n    const doDestroy = () => {\n      var _a;\n      (_a = popperVnode.value) == null ? void 0 : _a.doDestroy();\n    };\n    const handleCollapseToggle = (value) => {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n    const addItem = (item) => {\n      data.items[item.index] = item;\n    };\n    const removeItem = (item) => {\n      delete data.items[item.index];\n    };\n    const addSubMenu = (item) => {\n      data.submenus[item.index] = item;\n    };\n    const removeSubMenu = (item) => {\n      delete data.submenus[item.index];\n    };\n    const handleClick = () => {\n      const disabled = props.disabled;\n      if (rootProps.menuTrigger === \"hover\" && rootProps.mode === \"horizontal\" || rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n      rootMenuEmit(\"submenu:submenu-click\", { index: props.index, indexPath });\n    };\n    const handleMouseenter = (event, showTimeout = props.showTimeout) => {\n      if (!(\"ActiveXObject\" in window) && event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n      const disabled = props.disabled;\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\" || disabled) {\n        return;\n      }\n      subMenuEmitter.emit(\"submenu:mouse-enter-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        rootMethods.openMenu(props.index, indexPath);\n      }, showTimeout);\n      if (appendToBody.value) {\n        parentMenu.value.vnode.el.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n    const handleMouseleave = (deepDispatch = false) => {\n      if (rootProps.menuTrigger === \"click\" && rootProps.mode === \"horizontal\" || !rootProps.collapse && rootProps.mode === \"vertical\") {\n        return;\n      }\n      subMenuEmitter.emit(\"submenu:mouse-leave-child\");\n      clearTimeout(data.timeout);\n      data.timeout = setTimeout(() => {\n        !data.mouseInChild && closeMenu(props.index);\n      }, props.hideTimeout);\n      if (appendToBody.value && deepDispatch) {\n        if (instance.parent.type.name === \"ElSubmenu\") {\n          parentHandleMouseleave(true);\n        }\n      }\n    };\n    const handleTitleMouseenter = () => {\n      var _a;\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor)\n        return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootHoverBackground.value);\n    };\n    const handleTitleMouseleave = () => {\n      var _a;\n      if (mode.value === \"horizontal\" && !rootProps.backgroundColor)\n        return;\n      const title = ((_a = popperVnode.value) == null ? void 0 : _a.triggerRef) || verticalTitleRef.value;\n      title && (title.style.backgroundColor = rootProps.backgroundColor || \"\");\n    };\n    const updatePlacement = () => {\n      data.currentPlacement = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu,\n      handleMouseleave\n    });\n    onBeforeMount(() => {\n      rootMenuOn(\"rootMenu:toggle-collapse\", (val) => {\n        handleCollapseToggle(val);\n      });\n      subMenuEmitter.on(\"submenu:mouse-enter-child\", () => {\n        data.mouseInChild = true;\n        clearTimeout(data.timeout);\n      });\n      subMenuEmitter.on(\"submenu:mouse-leave-child\", () => {\n        data.mouseInChild = false;\n        clearTimeout(data.timeout);\n      });\n    });\n    onMounted(() => {\n      rootMethods.addSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      parentAddSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      updatePlacement();\n    });\n    onBeforeUnmount(() => {\n      parentRemoveSubmenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n      rootMethods.removeSubMenu({\n        index: props.index,\n        indexPath,\n        active\n      });\n    });\n    return {\n      data,\n      props,\n      mode,\n      active,\n      isMenuPopup,\n      opened,\n      paddingStyle,\n      titleStyle,\n      backgroundColor,\n      rootProps,\n      menuTransitionName,\n      submenuTitleIcon,\n      appendToBody,\n      handleClick,\n      handleMouseenter,\n      handleMouseleave,\n      handleTitleMouseenter,\n      handleTitleMouseleave,\n      addItem,\n      removeItem,\n      addSubMenu,\n      removeSubMenu,\n      popperVnode,\n      verticalTitleRef\n    };\n  },\n  render() {\n    var _a, _b;\n    const titleTag = [\n      (_b = (_a = this.$slots).title) == null ? void 0 : _b.call(_a),\n      h(\"i\", {\n        class: [\"el-submenu__icon-arrow\", this.submenuTitleIcon]\n      }, null)\n    ];\n    const ulStyle = {\n      backgroundColor: this.rootProps.backgroundColor || \"\"\n    };\n    const child = this.isMenuPopup ? h(ElPopper, {\n      ref: \"popperVNode\",\n      manualMode: true,\n      visible: this.opened,\n      \"onUpdate:visible\": (val) => this.opened = val,\n      effect: \"light\",\n      pure: true,\n      offset: 6,\n      showArrow: false,\n      popperClass: this.popperClass,\n      placement: this.data.currentPlacement,\n      appendToBody: this.appendToBody,\n      transition: this.menuTransitionName,\n      gpuAcceleration: false\n    }, {\n      default: () => {\n        var _a2, _b2;\n        return h(\"div\", {\n          ref: \"menu\",\n          class: [\n            `el-menu--${this.mode}`,\n            this.popperClass\n          ],\n          onMouseenter: ($event) => this.handleMouseenter($event, 100),\n          onMouseleave: () => this.handleMouseleave(true),\n          onFocus: ($event) => this.handleMouseenter($event, 100)\n        }, [\n          h(\"ul\", {\n            class: [\n              \"el-menu el-menu--popup\",\n              `el-menu--popup-${this.data.currentPlacement}`\n            ],\n            style: ulStyle\n          }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)])\n        ]);\n      },\n      trigger: () => h(\"div\", {\n        class: \"el-submenu__title\",\n        style: [this.paddingStyle, this.titleStyle, { backgroundColor: this.backgroundColor }],\n        onClick: this.handleClick,\n        onMouseenter: this.handleTitleMouseenter,\n        onMouseleave: this.handleTitleMouseleave\n      }, titleTag)\n    }) : h(Fragment, {}, [\n      h(\"div\", {\n        class: \"el-submenu__title\",\n        style: [this.paddingStyle, this.titleStyle, { backgroundColor: this.backgroundColor }],\n        ref: \"verticalTitleRef\",\n        onClick: this.handleClick,\n        onMouseenter: this.handleTitleMouseenter,\n        onMouseleave: this.handleTitleMouseleave\n      }, titleTag),\n      h(ElCollapseTransition, {}, {\n        default: () => {\n          var _a2, _b2;\n          return withDirectives(h(\"ul\", {\n            role: \"menu\",\n            class: \"el-menu el-menu--inline\",\n            style: ulStyle\n          }, [(_b2 = (_a2 = this.$slots).default) == null ? void 0 : _b2.call(_a2)]), [[vShow, this.opened]]);\n        }\n      })\n    ]);\n    return h(\"li\", {\n      class: [\n        \"el-submenu\",\n        {\n          \"is-active\": this.active,\n          \"is-opened\": this.opened,\n          \"is-disabled\": this.disabled\n        }\n      ],\n      role: \"menuitem\",\n      ariaHaspopup: true,\n      ariaExpanded: this.opened,\n      onMouseenter: this.handleMouseenter,\n      onMouseleave: () => this.handleMouseleave(true),\n      onFocus: this.handleMouseenter\n    }, [child]);\n  }\n});\n\nscript.__file = \"packages/menu/src/submenu.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Submenu = script;\n\nexport default _Submenu;\n"]},"metadata":{},"sourceType":"module"}