{"ast":null,"code":"import { defineComponent, inject, ref, watch, nextTick, computed, provide, resolveComponent, resolveDirective, openBlock, createBlock, mergeProps, withCtx, withDirectives, createVNode, renderSlot, toDisplayString, withModifiers, onMounted, Fragment, renderList, createTextVNode, createCommentVNode, Transition, h } from 'vue';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport isEqual from 'lodash/isEqual';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, RepeatClick } from '../directives';\nimport ElInput from '../el-input';\nimport ElPopper from '../el-popper';\nimport { EVENT_CODE } from '../utils/aria';\nimport { useGlobalConfig, isEmpty } from '../utils/util';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport { isValidComponentSize } from '../utils/validators';\nimport debounce from 'lodash/debounce';\nimport ElScrollbar from '../el-scrollbar';\nimport union from 'lodash/union';\nconst DEFAULT_FORMATS_TIME = \"HH:mm:ss\";\nconst DEFAULT_FORMATS_DATE = \"YYYY-MM-DD\";\nconst DEFAULT_FORMATS_DATEPICKER = {\n  date: DEFAULT_FORMATS_DATE,\n  week: \"gggg[w]ww\",\n  year: \"YYYY\",\n  month: \"YYYY-MM\",\n  datetime: `${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,\n  monthrange: \"YYYY-MM\",\n  daterange: DEFAULT_FORMATS_DATE,\n  datetimerange: `${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`\n};\nconst defaultProps = {\n  name: {\n    type: [Array, String],\n    default: \"\"\n  },\n  popperClass: {\n    type: String,\n    default: \"\"\n  },\n  format: {\n    type: String\n  },\n  valueFormat: {\n    type: String\n  },\n  type: {\n    type: String,\n    default: \"\"\n  },\n  clearable: {\n    type: Boolean,\n    default: true\n  },\n  clearIcon: {\n    type: String,\n    default: \"el-icon-circle-close\"\n  },\n  editable: {\n    type: Boolean,\n    default: true\n  },\n  prefixIcon: {\n    type: String,\n    default: \"\"\n  },\n  size: {\n    type: String,\n    validator: isValidComponentSize\n  },\n  readonly: {\n    type: Boolean,\n    default: false\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  placeholder: {\n    type: String,\n    default: \"\"\n  },\n  popperOptions: {\n    type: Object,\n    default: () => ({})\n  },\n  modelValue: {\n    type: [Date, Array, String],\n    default: \"\"\n  },\n  rangeSeparator: {\n    type: String,\n    default: \"-\"\n  },\n  startPlaceholder: String,\n  endPlaceholder: String,\n  defaultValue: {\n    type: [Date, Array]\n  },\n  defaultTime: {\n    type: [Date, Array]\n  },\n  isRange: {\n    type: Boolean,\n    default: false\n  },\n  disabledHours: {\n    type: Function\n  },\n  disabledMinutes: {\n    type: Function\n  },\n  disabledSeconds: {\n    type: Function\n  },\n  disabledDate: {\n    type: Function\n  },\n  cellClassName: {\n    type: Function\n  },\n  shortcuts: {\n    type: Array,\n    default: () => []\n  },\n  arrowControl: {\n    type: Boolean,\n    default: false\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  unlinkPanels: Boolean\n};\n\nconst dateEquals = function (a, b) {\n  const aIsDate = a instanceof Date;\n  const bIsDate = b instanceof Date;\n\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime();\n  }\n\n  if (!aIsDate && !bIsDate) {\n    return a === b;\n  }\n\n  return false;\n};\n\nconst valueEquals = function (a, b) {\n  const aIsArray = a instanceof Array;\n  const bIsArray = b instanceof Array;\n\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    return a.every((item, index) => dateEquals(item, b[index]));\n  }\n\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b);\n  }\n\n  return false;\n};\n\nconst parser = function (date, format, lang) {\n  const day = isEmpty(format) ? dayjs(date).locale(lang) : dayjs(date, format).locale(lang);\n  return day.isValid() ? day : void 0;\n};\n\nconst formatter = function (date, format, lang) {\n  return isEmpty(format) ? date : dayjs(date).locale(lang).format(format);\n};\n\nvar script = defineComponent({\n  name: \"Picker\",\n  components: {\n    ElInput,\n    ElPopper\n  },\n  directives: {\n    clickoutside: ClickOutside\n  },\n  props: defaultProps,\n  emits: [\"update:modelValue\", \"change\", \"focus\", \"blur\", \"calendar-change\"],\n\n  setup(props, ctx) {\n    const ELEMENT = useGlobalConfig();\n    const {\n      lang\n    } = useLocaleInject();\n    const elForm = inject(elFormKey, {});\n    const elFormItem = inject(elFormItemKey, {});\n    const elPopperOptions = inject(\"ElPopperOptions\", {});\n    const refPopper = ref(null);\n    const pickerVisible = ref(false);\n    const pickerActualVisible = ref(false);\n    const valueOnOpen = ref(null);\n    watch(pickerVisible, val => {\n      var _a;\n\n      if (!val) {\n        userInput.value = null;\n        nextTick(() => {\n          emitChange(props.modelValue);\n        });\n        ctx.emit(\"blur\");\n        blurInput();\n        props.validateEvent && ((_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.blur\"));\n      } else {\n        valueOnOpen.value = props.modelValue;\n      }\n    });\n\n    const emitChange = (val, isClear) => {\n      var _a;\n\n      if (isClear || !valueEquals(val, valueOnOpen.value)) {\n        ctx.emit(\"change\", val);\n        props.validateEvent && ((_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val));\n      }\n    };\n\n    const emitInput = val => {\n      if (!valueEquals(props.modelValue, val)) {\n        let formatValue;\n\n        if (Array.isArray(val)) {\n          formatValue = val.map(_ => formatter(_, props.valueFormat, lang.value));\n        } else if (val) {\n          formatValue = formatter(val, props.valueFormat, lang.value);\n        }\n\n        ctx.emit(\"update:modelValue\", val ? formatValue : val, lang.value);\n      }\n    };\n\n    const refInput = computed(() => {\n      if (refPopper.value.triggerRef) {\n        const _r = isRangeInput.value ? refPopper.value.triggerRef : refPopper.value.triggerRef.$el;\n\n        return [].slice.call(_r.querySelectorAll(\"input\"));\n      }\n\n      return [];\n    });\n\n    const setSelectionRange = (start, end, pos) => {\n      const _inputs = refInput.value;\n      if (!_inputs.length) return;\n\n      if (!pos || pos === \"min\") {\n        _inputs[0].setSelectionRange(start, end);\n\n        _inputs[0].focus();\n      } else if (pos === \"max\") {\n        _inputs[1].setSelectionRange(start, end);\n\n        _inputs[1].focus();\n      }\n    };\n\n    const onPick = (date = \"\", visible = false) => {\n      pickerVisible.value = visible;\n      let result;\n\n      if (Array.isArray(date)) {\n        result = date.map(_ => _.toDate());\n      } else {\n        result = date ? date.toDate() : date;\n      }\n\n      userInput.value = null;\n      emitInput(result);\n    };\n\n    const handleFocus = e => {\n      if (props.readonly || pickerDisabled.value || pickerVisible.value) return;\n      pickerVisible.value = true;\n      ctx.emit(\"focus\", e);\n    };\n\n    const handleBlur = () => {\n      pickerVisible.value = false;\n      blurInput();\n    };\n\n    const pickerDisabled = computed(() => {\n      return props.disabled || elForm.disabled;\n    });\n    const parsedValue = computed(() => {\n      let result;\n\n      if (valueIsEmpty.value) {\n        if (pickerOptions.value.getDefaultValue) {\n          result = pickerOptions.value.getDefaultValue();\n        }\n      } else {\n        if (Array.isArray(props.modelValue)) {\n          result = props.modelValue.map(_ => parser(_, props.valueFormat, lang.value));\n        } else {\n          result = parser(props.modelValue, props.valueFormat, lang.value);\n        }\n      }\n\n      if (pickerOptions.value.getRangeAvailableTime) {\n        const availableResult = pickerOptions.value.getRangeAvailableTime(result);\n\n        if (!isEqual(availableResult, result)) {\n          result = availableResult;\n          emitInput(Array.isArray(result) ? result.map(_ => _.toDate()) : result.toDate());\n        }\n      }\n\n      if (Array.isArray(result) && result.some(_ => !_)) {\n        result = [];\n      }\n\n      return result;\n    });\n    const displayValue = computed(() => {\n      if (!pickerOptions.value.panelReady) return;\n      const formattedValue = formatDayjsToString(parsedValue.value);\n\n      if (Array.isArray(userInput.value)) {\n        return [userInput.value[0] || formattedValue && formattedValue[0] || \"\", userInput.value[1] || formattedValue && formattedValue[1] || \"\"];\n      } else if (userInput.value !== null) {\n        return userInput.value;\n      }\n\n      if (!isTimePicker.value && valueIsEmpty.value) return;\n      if (!pickerVisible.value && valueIsEmpty.value) return;\n\n      if (formattedValue) {\n        return isDatesPicker.value ? formattedValue.join(\", \") : formattedValue;\n      }\n\n      return \"\";\n    });\n    const isTimeLikePicker = computed(() => {\n      return props.type.indexOf(\"time\") !== -1;\n    });\n    const isTimePicker = computed(() => {\n      return props.type.indexOf(\"time\") === 0;\n    });\n    const isDatesPicker = computed(() => {\n      return props.type === \"dates\";\n    });\n    const triggerClass = computed(() => {\n      return props.prefixIcon || (isTimeLikePicker.value ? \"el-icon-time\" : \"el-icon-date\");\n    });\n    const showClose = ref(false);\n\n    const onClearIconClick = event => {\n      if (props.readonly || pickerDisabled.value) return;\n\n      if (showClose.value) {\n        event.stopPropagation();\n        emitInput(null);\n        emitChange(null, true);\n        showClose.value = false;\n        pickerVisible.value = false;\n        pickerOptions.value.handleClear && pickerOptions.value.handleClear();\n      }\n    };\n\n    const valueIsEmpty = computed(() => {\n      return !props.modelValue || Array.isArray(props.modelValue) && !props.modelValue.length;\n    });\n\n    const onMouseEnter = () => {\n      if (props.readonly || pickerDisabled.value) return;\n\n      if (!valueIsEmpty.value && props.clearable) {\n        showClose.value = true;\n      }\n    };\n\n    const onMouseLeave = () => {\n      showClose.value = false;\n    };\n\n    const isRangeInput = computed(() => {\n      return props.type.indexOf(\"range\") > -1;\n    });\n    const pickerSize = computed(() => {\n      return props.size || elFormItem.size || ELEMENT.size;\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n\n      return (_a = refPopper.value) == null ? void 0 : _a.popperRef;\n    });\n\n    const onClickOutside = () => {\n      if (!pickerVisible.value) return;\n      pickerVisible.value = false;\n    };\n\n    const userInput = ref(null);\n\n    const handleChange = () => {\n      if (userInput.value) {\n        const value = parseUserInputToDayjs(displayValue.value);\n\n        if (value) {\n          if (isValidValue(value)) {\n            emitInput(Array.isArray(value) ? value.map(_ => _.toDate()) : value.toDate());\n            userInput.value = null;\n          }\n        }\n      }\n\n      if (userInput.value === \"\") {\n        emitInput(null);\n        emitChange(null);\n        userInput.value = null;\n      }\n    };\n\n    const blurInput = () => {\n      refInput.value.forEach(input => input.blur());\n    };\n\n    const parseUserInputToDayjs = value => {\n      if (!value) return null;\n      return pickerOptions.value.parseUserInput(value);\n    };\n\n    const formatDayjsToString = value => {\n      if (!value) return null;\n      return pickerOptions.value.formatToString(value);\n    };\n\n    const isValidValue = value => {\n      return pickerOptions.value.isValidValue(value);\n    };\n\n    const handleKeydown = event => {\n      const code = event.code;\n\n      if (code === EVENT_CODE.esc) {\n        pickerVisible.value = false;\n        event.stopPropagation();\n        return;\n      }\n\n      if (code === EVENT_CODE.tab) {\n        if (!isRangeInput.value) {\n          handleChange();\n          pickerVisible.value = false;\n          event.stopPropagation();\n        } else {\n          setTimeout(() => {\n            if (refInput.value.indexOf(document.activeElement) === -1) {\n              pickerVisible.value = false;\n              blurInput();\n            }\n          }, 0);\n        }\n\n        return;\n      }\n\n      if (code === EVENT_CODE.enter) {\n        if (userInput.value === \"\" || isValidValue(parseUserInputToDayjs(displayValue.value))) {\n          handleChange();\n          pickerVisible.value = false;\n        }\n\n        event.stopPropagation();\n        return;\n      }\n\n      if (userInput.value) {\n        event.stopPropagation();\n        return;\n      }\n\n      if (pickerOptions.value.handleKeydown) {\n        pickerOptions.value.handleKeydown(event);\n      }\n    };\n\n    const onUserInput = e => {\n      userInput.value = e;\n    };\n\n    const handleStartInput = event => {\n      if (userInput.value) {\n        userInput.value = [event.target.value, userInput.value[1]];\n      } else {\n        userInput.value = [event.target.value, null];\n      }\n    };\n\n    const handleEndInput = event => {\n      if (userInput.value) {\n        userInput.value = [userInput.value[0], event.target.value];\n      } else {\n        userInput.value = [null, event.target.value];\n      }\n    };\n\n    const handleStartChange = () => {\n      const value = parseUserInputToDayjs(userInput.value && userInput.value[0]);\n\n      if (value && value.isValid()) {\n        userInput.value = [formatDayjsToString(value), displayValue.value[1]];\n        const newValue = [value, parsedValue.value && parsedValue.value[1]];\n\n        if (isValidValue(newValue)) {\n          emitInput(newValue);\n          userInput.value = null;\n        }\n      }\n    };\n\n    const handleEndChange = () => {\n      const value = parseUserInputToDayjs(userInput.value && userInput.value[1]);\n\n      if (value && value.isValid()) {\n        userInput.value = [displayValue.value[0], formatDayjsToString(value)];\n        const newValue = [parsedValue.value && parsedValue.value[0], value];\n\n        if (isValidValue(newValue)) {\n          emitInput(newValue);\n          userInput.value = null;\n        }\n      }\n    };\n\n    const pickerOptions = ref({});\n\n    const onSetPickerOption = e => {\n      pickerOptions.value[e[0]] = e[1];\n      pickerOptions.value.panelReady = true;\n    };\n\n    const onCalendarChange = e => {\n      ctx.emit(\"calendar-change\", e);\n    };\n\n    provide(\"EP_PICKER_BASE\", {\n      props\n    });\n    return {\n      elPopperOptions,\n      isDatesPicker,\n      handleEndChange,\n      handleStartChange,\n      handleStartInput,\n      handleEndInput,\n      onUserInput,\n      handleChange,\n      handleKeydown,\n      popperPaneRef,\n      onClickOutside,\n      pickerSize,\n      isRangeInput,\n      onMouseLeave,\n      onMouseEnter,\n      onClearIconClick,\n      showClose,\n      triggerClass,\n      onPick,\n      handleFocus,\n      handleBlur,\n      pickerVisible,\n      pickerActualVisible,\n      displayValue,\n      parsedValue,\n      setSelectionRange,\n      refPopper,\n      pickerDisabled,\n      onSetPickerOption,\n      onCalendarChange\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"el-range-separator\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = resolveComponent(\"el-input\");\n\n  const _component_el_popper = resolveComponent(\"el-popper\");\n\n  const _directive_clickoutside = resolveDirective(\"clickoutside\");\n\n  return openBlock(), createBlock(_component_el_popper, mergeProps({\n    ref: \"refPopper\",\n    visible: _ctx.pickerVisible,\n    \"onUpdate:visible\": _cache[19] || (_cache[19] = $event => _ctx.pickerVisible = $event),\n    \"manual-mode\": \"\",\n    effect: \"light\",\n    pure: \"\",\n    trigger: \"click\"\n  }, _ctx.$attrs, {\n    \"popper-class\": `el-picker__popper ${_ctx.popperClass}`,\n    \"popper-options\": _ctx.elPopperOptions,\n    \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n    transition: \"el-zoom-in-top\",\n    \"gpu-acceleration\": false,\n    \"stop-popper-mouse-event\": false,\n    \"append-to-body\": \"\",\n    onBeforeEnter: _cache[20] || (_cache[20] = $event => _ctx.pickerActualVisible = true),\n    onAfterLeave: _cache[21] || (_cache[21] = $event => _ctx.pickerActualVisible = false)\n  }), {\n    trigger: withCtx(() => [!_ctx.isRangeInput ? withDirectives((openBlock(), createBlock(_component_el_input, {\n      key: 0,\n      \"model-value\": _ctx.displayValue,\n      name: _ctx.name,\n      size: _ctx.pickerSize,\n      disabled: _ctx.pickerDisabled,\n      placeholder: _ctx.placeholder,\n      class: [\"el-date-editor\", \"el-date-editor--\" + _ctx.type],\n      readonly: !_ctx.editable || _ctx.readonly || _ctx.isDatesPicker || _ctx.type === \"week\",\n      onInput: _ctx.onUserInput,\n      onFocus: _ctx.handleFocus,\n      onKeydown: _ctx.handleKeydown,\n      onChange: _ctx.handleChange,\n      onMouseenter: _ctx.onMouseEnter,\n      onMouseleave: _ctx.onMouseLeave\n    }, {\n      prefix: withCtx(() => [createVNode(\"i\", {\n        class: [\"el-input__icon\", _ctx.triggerClass],\n        onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args))\n      }, null, 2)]),\n      suffix: withCtx(() => [createVNode(\"i\", {\n        class: [\"el-input__icon\", [_ctx.showClose ? \"\" + _ctx.clearIcon : \"\"]],\n        onClick: _cache[2] || (_cache[2] = (...args) => _ctx.onClearIconClick && _ctx.onClearIconClick(...args))\n      }, null, 2)]),\n      _: 1\n    }, 8, [\"model-value\", \"name\", \"size\", \"disabled\", \"placeholder\", \"class\", \"readonly\", \"onInput\", \"onFocus\", \"onKeydown\", \"onChange\", \"onMouseenter\", \"onMouseleave\"])), [[_directive_clickoutside, _ctx.onClickOutside, _ctx.popperPaneRef]]) : withDirectives((openBlock(), createBlock(\"div\", {\n      key: 1,\n      class: [\"el-date-editor el-range-editor el-input__inner\", [\"el-date-editor--\" + _ctx.type, _ctx.pickerSize ? `el-range-editor--${_ctx.pickerSize}` : \"\", _ctx.pickerDisabled ? \"is-disabled\" : \"\", _ctx.pickerVisible ? \"is-active\" : \"\"]],\n      onClick: _cache[10] || (_cache[10] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n      onMouseenter: _cache[11] || (_cache[11] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n      onMouseleave: _cache[12] || (_cache[12] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args)),\n      onKeydown: _cache[13] || (_cache[13] = (...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args))\n    }, [createVNode(\"i\", {\n      class: [\"el-input__icon\", \"el-range__icon\", _ctx.triggerClass]\n    }, null, 2), createVNode(\"input\", {\n      autocomplete: \"off\",\n      name: _ctx.name && _ctx.name[0],\n      placeholder: _ctx.startPlaceholder,\n      value: _ctx.displayValue && _ctx.displayValue[0],\n      disabled: _ctx.pickerDisabled,\n      readonly: !_ctx.editable || _ctx.readonly,\n      class: \"el-range-input\",\n      onInput: _cache[3] || (_cache[3] = (...args) => _ctx.handleStartInput && _ctx.handleStartInput(...args)),\n      onChange: _cache[4] || (_cache[4] = (...args) => _ctx.handleStartChange && _ctx.handleStartChange(...args)),\n      onFocus: _cache[5] || (_cache[5] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args))\n    }, null, 40, [\"name\", \"placeholder\", \"value\", \"disabled\", \"readonly\"]), renderSlot(_ctx.$slots, \"range-separator\", {}, () => [createVNode(\"span\", _hoisted_1, toDisplayString(_ctx.rangeSeparator), 1)]), createVNode(\"input\", {\n      autocomplete: \"off\",\n      name: _ctx.name && _ctx.name[1],\n      placeholder: _ctx.endPlaceholder,\n      value: _ctx.displayValue && _ctx.displayValue[1],\n      disabled: _ctx.pickerDisabled,\n      readonly: !_ctx.editable || _ctx.readonly,\n      class: \"el-range-input\",\n      onFocus: _cache[6] || (_cache[6] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n      onInput: _cache[7] || (_cache[7] = (...args) => _ctx.handleEndInput && _ctx.handleEndInput(...args)),\n      onChange: _cache[8] || (_cache[8] = (...args) => _ctx.handleEndChange && _ctx.handleEndChange(...args))\n    }, null, 40, [\"name\", \"placeholder\", \"value\", \"disabled\", \"readonly\"]), createVNode(\"i\", {\n      class: [[_ctx.showClose ? \"\" + _ctx.clearIcon : \"\"], \"el-input__icon el-range__close-icon\"],\n      onClick: _cache[9] || (_cache[9] = (...args) => _ctx.onClearIconClick && _ctx.onClearIconClick(...args))\n    }, null, 2)], 34)), [[_directive_clickoutside, _ctx.onClickOutside, _ctx.popperPaneRef]])]),\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\", {\n      visible: _ctx.pickerVisible,\n      actualVisible: _ctx.pickerActualVisible,\n      parsedValue: _ctx.parsedValue,\n      format: _ctx.format,\n      unlinkPanels: _ctx.unlinkPanels,\n      type: _ctx.type,\n      defaultValue: _ctx.defaultValue,\n      onPick: _cache[14] || (_cache[14] = (...args) => _ctx.onPick && _ctx.onPick(...args)),\n      onSelectRange: _cache[15] || (_cache[15] = (...args) => _ctx.setSelectionRange && _ctx.setSelectionRange(...args)),\n      onSetPickerOption: _cache[16] || (_cache[16] = (...args) => _ctx.onSetPickerOption && _ctx.onSetPickerOption(...args)),\n      onCalendarChange: _cache[17] || (_cache[17] = (...args) => _ctx.onCalendarChange && _ctx.onCalendarChange(...args)),\n      onMousedown: _cache[18] || (_cache[18] = withModifiers(() => {}, [\"stop\"]))\n    })]),\n    _: 1\n  }, 16, [\"visible\", \"popper-class\", \"popper-options\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/time-picker/src/common/picker.vue\";\n\nconst makeList = (total, method, methodFunc) => {\n  const arr = [];\n  const disabledArr = method && methodFunc();\n\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false;\n  }\n\n  return arr;\n};\n\nconst makeAvailableArr = list => {\n  return list.map((_, index) => !_ ? index : _).filter(_ => _ !== true);\n};\n\nconst getTimeLists = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const getHoursList = (role, compare) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare));\n  };\n\n  const getMinutesList = (hour, role, compare) => {\n    return makeList(60, disabledMinutes, () => disabledMinutes(hour, role, compare));\n  };\n\n  const getSecondsList = (hour, minute, role, compare) => {\n    return makeList(60, disabledSeconds, () => disabledSeconds(hour, minute, role, compare));\n  };\n\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  };\n};\n\nconst getAvailableArrs = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  } = getTimeLists(disabledHours, disabledMinutes, disabledSeconds);\n\n  const getAvailableHours = (role, compare) => {\n    return makeAvailableArr(getHoursList(role, compare));\n  };\n\n  const getAvailableMinutes = (hour, role, compare) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare));\n  };\n\n  const getAvailableSeconds = (hour, minute, role, compare) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare));\n  };\n\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds\n  };\n};\n\nconst useOldValue = props => {\n  const oldValue = ref(props.parsedValue);\n  watch(() => props.visible, val => {\n    if (!val) {\n      oldValue.value = props.parsedValue;\n    }\n  });\n  return oldValue;\n};\n\nvar script$1 = defineComponent({\n  directives: {\n    repeatClick: RepeatClick\n  },\n  components: {\n    ElScrollbar\n  },\n  props: {\n    role: {\n      type: String,\n      required: true\n    },\n    spinnerDate: {\n      type: Object,\n      required: true\n    },\n    showSeconds: {\n      type: Boolean,\n      default: true\n    },\n    arrowControl: Boolean,\n    amPmMode: {\n      type: String,\n      default: \"\"\n    },\n    disabledHours: {\n      type: Function\n    },\n    disabledMinutes: {\n      type: Function\n    },\n    disabledSeconds: {\n      type: Function\n    }\n  },\n  emits: [\"change\", \"select-range\", \"set-option\"],\n\n  setup(props, ctx) {\n    let isScrolling = false;\n    const debouncedResetScroll = debounce(type => {\n      isScrolling = false;\n      adjustCurrentSpinner(type);\n    }, 200);\n    const currentScrollbar = ref(null);\n    const listHoursRef = ref(null);\n    const listMinutesRef = ref(null);\n    const listSecondsRef = ref(null);\n    const listRefsMap = {\n      hours: listHoursRef,\n      minutes: listMinutesRef,\n      seconds: listSecondsRef\n    };\n    const spinnerItems = computed(() => {\n      const arr = [\"hours\", \"minutes\", \"seconds\"];\n      return props.showSeconds ? arr : arr.slice(0, 2);\n    });\n    const hours = computed(() => {\n      return props.spinnerDate.hour();\n    });\n    const minutes = computed(() => {\n      return props.spinnerDate.minute();\n    });\n    const seconds = computed(() => {\n      return props.spinnerDate.second();\n    });\n    const timePartsMap = computed(() => ({\n      hours,\n      minutes,\n      seconds\n    }));\n    const hoursList = computed(() => {\n      return getHoursList(props.role);\n    });\n    const minutesList = computed(() => {\n      return getMinutesList(hours.value, props.role);\n    });\n    const secondsList = computed(() => {\n      return getSecondsList(hours.value, minutes.value, props.role);\n    });\n    const listMap = computed(() => ({\n      hours: hoursList,\n      minutes: minutesList,\n      seconds: secondsList\n    }));\n    const arrowHourList = computed(() => {\n      const hour = hours.value;\n      return [hour > 0 ? hour - 1 : void 0, hour, hour < 23 ? hour + 1 : void 0];\n    });\n    const arrowMinuteList = computed(() => {\n      const minute = minutes.value;\n      return [minute > 0 ? minute - 1 : void 0, minute, minute < 59 ? minute + 1 : void 0];\n    });\n    const arrowSecondList = computed(() => {\n      const second = seconds.value;\n      return [second > 0 ? second - 1 : void 0, second, second < 59 ? second + 1 : void 0];\n    });\n    const arrowListMap = computed(() => ({\n      hours: arrowHourList,\n      minutes: arrowMinuteList,\n      seconds: arrowSecondList\n    }));\n\n    const getAmPmFlag = hour => {\n      let shouldShowAmPm = !!props.amPmMode;\n      if (!shouldShowAmPm) return \"\";\n      let isCapital = props.amPmMode === \"A\";\n      let content = hour < 12 ? \" am\" : \" pm\";\n      if (isCapital) content = content.toUpperCase();\n      return content;\n    };\n\n    const emitSelectRange = type => {\n      if (type === \"hours\") {\n        ctx.emit(\"select-range\", 0, 2);\n      } else if (type === \"minutes\") {\n        ctx.emit(\"select-range\", 3, 5);\n      } else if (type === \"seconds\") {\n        ctx.emit(\"select-range\", 6, 8);\n      }\n\n      currentScrollbar.value = type;\n    };\n\n    const adjustCurrentSpinner = type => {\n      adjustSpinner(type, timePartsMap.value[type].value);\n    };\n\n    const adjustSpinners = () => {\n      adjustCurrentSpinner(\"hours\");\n      adjustCurrentSpinner(\"minutes\");\n      adjustCurrentSpinner(\"seconds\");\n    };\n\n    const adjustSpinner = (type, value) => {\n      if (props.arrowControl) return;\n      const el = listRefsMap[type];\n\n      if (el.value) {\n        el.value.$el.querySelector(\".el-scrollbar__wrap\").scrollTop = Math.max(0, value * typeItemHeight(type));\n      }\n    };\n\n    const typeItemHeight = type => {\n      const el = listRefsMap[type];\n      return el.value.$el.querySelector(\"li\").offsetHeight;\n    };\n\n    const onIncreaseClick = () => {\n      scrollDown(1);\n    };\n\n    const onDecreaseClick = () => {\n      scrollDown(-1);\n    };\n\n    const scrollDown = step => {\n      if (!currentScrollbar.value) {\n        emitSelectRange(\"hours\");\n      }\n\n      const label = currentScrollbar.value;\n      let now = timePartsMap.value[label].value;\n      const total = currentScrollbar.value === \"hours\" ? 24 : 60;\n      now = (now + step + total) % total;\n      modifyDateField(label, now);\n      adjustSpinner(label, now);\n      nextTick(() => emitSelectRange(currentScrollbar.value));\n    };\n\n    const modifyDateField = (type, value) => {\n      const list = listMap.value[type].value;\n      const isDisabled = list[value];\n      if (isDisabled) return;\n\n      switch (type) {\n        case \"hours\":\n          ctx.emit(\"change\", props.spinnerDate.hour(value).minute(minutes.value).second(seconds.value));\n          break;\n\n        case \"minutes\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(value).second(seconds.value));\n          break;\n\n        case \"seconds\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(minutes.value).second(value));\n          break;\n      }\n    };\n\n    const handleClick = (type, {\n      value,\n      disabled\n    }) => {\n      if (!disabled) {\n        modifyDateField(type, value);\n        emitSelectRange(type);\n        adjustSpinner(type, value);\n      }\n    };\n\n    const handleScroll = type => {\n      isScrolling = true;\n      debouncedResetScroll(type);\n      const value = Math.min(Math.round((listRefsMap[type].value.$el.querySelector(\".el-scrollbar__wrap\").scrollTop - (scrollBarHeight(type) * 0.5 - 10) / typeItemHeight(type) + 3) / typeItemHeight(type)), type === \"hours\" ? 23 : 59);\n      modifyDateField(type, value);\n    };\n\n    const scrollBarHeight = type => {\n      return listRefsMap[type].value.$el.offsetHeight;\n    };\n\n    const bindScrollEvent = () => {\n      const bindFuntion = type => {\n        if (listRefsMap[type].value) {\n          listRefsMap[type].value.$el.querySelector(\".el-scrollbar__wrap\").onscroll = () => {\n            handleScroll(type);\n          };\n        }\n      };\n\n      bindFuntion(\"hours\");\n      bindFuntion(\"minutes\");\n      bindFuntion(\"seconds\");\n    };\n\n    onMounted(() => {\n      nextTick(() => {\n        !props.arrowControl && bindScrollEvent();\n        adjustSpinners();\n        if (props.role === \"start\") emitSelectRange(\"hours\");\n      });\n    });\n\n    const getRefId = item => {\n      return `list${item.charAt(0).toUpperCase() + item.slice(1)}Ref`;\n    };\n\n    ctx.emit(\"set-option\", [`${props.role}_scrollDown`, scrollDown]);\n    ctx.emit(\"set-option\", [`${props.role}_emitSelectRange`, emitSelectRange]);\n    const {\n      getHoursList,\n      getMinutesList,\n      getSecondsList\n    } = getTimeLists(props.disabledHours, props.disabledMinutes, props.disabledSeconds);\n    watch(() => props.spinnerDate, () => {\n      if (isScrolling) return;\n      adjustSpinners();\n    });\n    return {\n      getRefId,\n      spinnerItems,\n      currentScrollbar,\n      hours,\n      minutes,\n      seconds,\n      hoursList,\n      minutesList,\n      arrowHourList,\n      arrowMinuteList,\n      arrowSecondList,\n      getAmPmFlag,\n      emitSelectRange,\n      adjustCurrentSpinner,\n      typeItemHeight,\n      listHoursRef,\n      listMinutesRef,\n      listSecondsRef,\n      onIncreaseClick,\n      onDecreaseClick,\n      handleClick,\n      secondsList,\n      timePartsMap,\n      arrowListMap,\n      listMap\n    };\n  }\n\n});\nconst _hoisted_1$1 = {\n  class: \"el-time-spinner__arrow el-icon-arrow-up\"\n};\nconst _hoisted_2 = {\n  class: \"el-time-spinner__arrow el-icon-arrow-down\"\n};\nconst _hoisted_3 = {\n  class: \"el-time-spinner__list\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  const _directive_repeat_click = resolveDirective(\"repeat-click\");\n\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-time-spinner\", {\n      \"has-seconds\": _ctx.showSeconds\n    }]\n  }, [!_ctx.arrowControl ? (openBlock(true), createBlock(Fragment, {\n    key: 0\n  }, renderList(_ctx.spinnerItems, item => {\n    return openBlock(), createBlock(_component_el_scrollbar, {\n      key: item,\n      ref: _ctx.getRefId(item),\n      class: \"el-time-spinner__wrapper\",\n      \"wrap-style\": \"max-height: inherit;\",\n      \"view-class\": \"el-time-spinner__list\",\n      noresize: \"\",\n      tag: \"ul\",\n      onMouseenter: $event => _ctx.emitSelectRange(item),\n      onMousemove: $event => _ctx.adjustCurrentSpinner(item)\n    }, {\n      default: withCtx(() => [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.listMap[item].value, (disabled, key) => {\n        return openBlock(), createBlock(\"li\", {\n          key,\n          class: [\"el-time-spinner__item\", {\n            \"active\": key === _ctx.timePartsMap[item].value,\n            disabled\n          }],\n          onClick: $event => _ctx.handleClick(item, {\n            value: key,\n            disabled\n          })\n        }, [item === \"hours\" ? (openBlock(), createBlock(Fragment, {\n          key: 0\n        }, [createTextVNode(toDisplayString((\"0\" + (_ctx.amPmMode ? key % 12 || 12 : key)).slice(-2)) + toDisplayString(_ctx.getAmPmFlag(key)), 1)], 2112)) : (openBlock(), createBlock(Fragment, {\n          key: 1\n        }, [createTextVNode(toDisplayString((\"0\" + key).slice(-2)), 1)], 2112))], 10, [\"onClick\"]);\n      }), 128))]),\n      _: 2\n    }, 1032, [\"onMouseenter\", \"onMousemove\"]);\n  }), 128)) : createCommentVNode(\"v-if\", true), _ctx.arrowControl ? (openBlock(true), createBlock(Fragment, {\n    key: 1\n  }, renderList(_ctx.spinnerItems, item => {\n    return openBlock(), createBlock(\"div\", {\n      key: item,\n      class: \"el-time-spinner__wrapper is-arrow\",\n      onMouseenter: $event => _ctx.emitSelectRange(item)\n    }, [withDirectives(createVNode(\"i\", _hoisted_1$1, null, 512), [[_directive_repeat_click, _ctx.onDecreaseClick]]), withDirectives(createVNode(\"i\", _hoisted_2, null, 512), [[_directive_repeat_click, _ctx.onIncreaseClick]]), createVNode(\"ul\", _hoisted_3, [(openBlock(true), createBlock(Fragment, null, renderList(_ctx.arrowListMap[item].value, (time, key) => {\n      return openBlock(), createBlock(\"li\", {\n        key,\n        class: [\"el-time-spinner__item\", {\n          \"active\": time === _ctx.timePartsMap[item].value,\n          \"disabled\": _ctx.listMap[item].value[time]\n        }]\n      }, toDisplayString(time === void 0 ? \"\" : (\"0\" + (_ctx.amPmMode ? time % 12 || 12 : time)).slice(-2) + _ctx.getAmPmFlag(time)), 3);\n    }), 128))])], 40, [\"onMouseenter\"]);\n  }), 128)) : createCommentVNode(\"v-if\", true)], 2);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/time-picker/src/time-picker-com/basic-time-spinner.vue\";\nvar script$2 = defineComponent({\n  components: {\n    TimeSpinner: script$1\n  },\n  props: {\n    visible: Boolean,\n    actualVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    datetimeRole: {\n      type: String\n    },\n    parsedValue: {\n      type: [Object, String]\n    },\n    format: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"pick\", \"select-range\", \"set-picker-option\"],\n\n  setup(props, ctx) {\n    const {\n      t,\n      lang\n    } = useLocaleInject();\n    const selectionRange = ref([0, 2]);\n    const oldValue = useOldValue(props);\n    const transitionName = computed(() => {\n      return props.actualVisible === void 0 ? \"el-zoom-in-top\" : \"\";\n    });\n    const showSeconds = computed(() => {\n      return props.format.includes(\"ss\");\n    });\n    const amPmMode = computed(() => {\n      if (props.format.includes(\"A\")) return \"A\";\n      if (props.format.includes(\"a\")) return \"a\";\n      return \"\";\n    });\n\n    const isValidValue = _date => {\n      const parsedDate = dayjs(_date).locale(lang.value);\n      const result = getRangeAvailableTime(parsedDate);\n      return parsedDate.isSame(result);\n    };\n\n    const handleCancel = () => {\n      ctx.emit(\"pick\", oldValue.value, false);\n    };\n\n    const handleConfirm = (visible = false, first) => {\n      if (first) return;\n      ctx.emit(\"pick\", props.parsedValue, visible);\n    };\n\n    const handleChange = _date => {\n      if (!props.visible) {\n        return;\n      }\n\n      const result = getRangeAvailableTime(_date).millisecond(0);\n      ctx.emit(\"pick\", result, true);\n    };\n\n    const setSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end);\n      selectionRange.value = [start, end];\n    };\n\n    const changeSelectionRange = step => {\n      const list = [0, 3].concat(showSeconds.value ? [6] : []);\n      const mapping = [\"hours\", \"minutes\"].concat(showSeconds.value ? [\"seconds\"] : []);\n      const index = list.indexOf(selectionRange.value[0]);\n      const next = (index + step + list.length) % list.length;\n      timePickerOptions[\"start_emitSelectRange\"](mapping[next]);\n    };\n\n    const handleKeydown = event => {\n      const code = event.code;\n\n      if (code === EVENT_CODE.left || code === EVENT_CODE.right) {\n        const step = code === EVENT_CODE.left ? -1 : 1;\n        changeSelectionRange(step);\n        event.preventDefault();\n        return;\n      }\n\n      if (code === EVENT_CODE.up || code === EVENT_CODE.down) {\n        const step = code === EVENT_CODE.up ? -1 : 1;\n        timePickerOptions[\"start_scrollDown\"](step);\n        event.preventDefault();\n        return;\n      }\n    };\n\n    const getRangeAvailableTime = date => {\n      const availableMap = {\n        hour: getAvailableHours,\n        minute: getAvailableMinutes,\n        second: getAvailableSeconds\n      };\n      let result = date;\n      [\"hour\", \"minute\", \"second\"].forEach(_ => {\n        if (availableMap[_]) {\n          let availableArr;\n          const method = availableMap[_];\n\n          if (_ === \"minute\") {\n            availableArr = method(result.hour(), props.datetimeRole);\n          } else if (_ === \"second\") {\n            availableArr = method(result.hour(), result.minute(), props.datetimeRole);\n          } else {\n            availableArr = method(props.datetimeRole);\n          }\n\n          if (availableArr && availableArr.length && !availableArr.includes(result[_]())) {\n            result = result[_](availableArr[0]);\n          }\n        }\n      });\n      return result;\n    };\n\n    const parseUserInput = value => {\n      if (!value) return null;\n      return dayjs(value, props.format).locale(lang.value);\n    };\n\n    const formatToString = value => {\n      if (!value) return null;\n      return value.format(props.format);\n    };\n\n    const getDefaultValue = () => {\n      return dayjs(defaultValue).locale(lang.value);\n    };\n\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"handleKeydown\", handleKeydown]);\n    ctx.emit(\"set-picker-option\", [\"getRangeAvailableTime\", getRangeAvailableTime]);\n    ctx.emit(\"set-picker-option\", [\"getDefaultValue\", getDefaultValue]);\n    const timePickerOptions = {};\n\n    const onSetOption = e => {\n      timePickerOptions[e[0]] = e[1];\n    };\n\n    const pickerBase = inject(\"EP_PICKER_BASE\");\n    const {\n      arrowControl,\n      disabledHours,\n      disabledMinutes,\n      disabledSeconds,\n      defaultValue\n    } = pickerBase.props;\n    const {\n      getAvailableHours,\n      getAvailableMinutes,\n      getAvailableSeconds\n    } = getAvailableArrs(disabledHours, disabledMinutes, disabledSeconds);\n    return {\n      transitionName,\n      arrowControl,\n      onSetOption,\n      t,\n      handleConfirm,\n      handleChange,\n      setSelectionRange,\n      amPmMode,\n      showSeconds,\n      handleCancel,\n      disabledHours,\n      disabledMinutes,\n      disabledSeconds\n    };\n  }\n\n});\nconst _hoisted_1$2 = {\n  key: 0,\n  class: \"el-time-panel\"\n};\nconst _hoisted_2$1 = {\n  class: \"el-time-panel__footer\"\n};\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_time_spinner = resolveComponent(\"time-spinner\");\n\n  return openBlock(), createBlock(Transition, {\n    name: _ctx.transitionName\n  }, {\n    default: withCtx(() => [_ctx.actualVisible || _ctx.visible ? (openBlock(), createBlock(\"div\", _hoisted_1$2, [createVNode(\"div\", {\n      class: [\"el-time-panel__content\", {\n        \"has-seconds\": _ctx.showSeconds\n      }]\n    }, [createVNode(_component_time_spinner, {\n      ref: \"spinner\",\n      role: _ctx.datetimeRole || \"start\",\n      \"arrow-control\": _ctx.arrowControl,\n      \"show-seconds\": _ctx.showSeconds,\n      \"am-pm-mode\": _ctx.amPmMode,\n      \"spinner-date\": _ctx.parsedValue,\n      \"disabled-hours\": _ctx.disabledHours,\n      \"disabled-minutes\": _ctx.disabledMinutes,\n      \"disabled-seconds\": _ctx.disabledSeconds,\n      onChange: _ctx.handleChange,\n      onSetOption: _ctx.onSetOption,\n      onSelectRange: _ctx.setSelectionRange\n    }, null, 8, [\"role\", \"arrow-control\", \"show-seconds\", \"am-pm-mode\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])], 2), createVNode(\"div\", _hoisted_2$1, [createVNode(\"button\", {\n      type: \"button\",\n      class: \"el-time-panel__btn cancel\",\n      onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleCancel && _ctx.handleCancel(...args))\n    }, toDisplayString(_ctx.t(\"el.datepicker.cancel\")), 1), createVNode(\"button\", {\n      type: \"button\",\n      class: \"el-time-panel__btn confirm\",\n      onClick: _cache[2] || (_cache[2] = $event => _ctx.handleConfirm())\n    }, toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 1)])])) : createCommentVNode(\"v-if\", true)]),\n    _: 1\n  }, 8, [\"name\"]);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/time-picker/src/time-picker-com/panel-time-pick.vue\";\n\nconst makeSelectRange = (start, end) => {\n  const result = [];\n\n  for (let i = start; i <= end; i++) {\n    result.push(i);\n  }\n\n  return result;\n};\n\nvar script$3 = defineComponent({\n  components: {\n    TimeSpinner: script$1\n  },\n  props: {\n    visible: Boolean,\n    actualVisible: Boolean,\n    parsedValue: {\n      type: [Array, String]\n    },\n    format: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"pick\", \"select-range\", \"set-picker-option\"],\n\n  setup(props, ctx) {\n    const {\n      t,\n      lang\n    } = useLocaleInject();\n    const minDate = computed(() => props.parsedValue[0]);\n    const maxDate = computed(() => props.parsedValue[1]);\n    const oldValue = useOldValue(props);\n\n    const handleCancel = () => {\n      ctx.emit(\"pick\", oldValue.value, null);\n    };\n\n    const showSeconds = computed(() => {\n      return props.format.includes(\"ss\");\n    });\n    const amPmMode = computed(() => {\n      if (props.format.includes(\"A\")) return \"A\";\n      if (props.format.includes(\"a\")) return \"a\";\n      return \"\";\n    });\n    const minSelectableRange = ref([]);\n    const maxSelectableRange = ref([]);\n\n    const handleConfirm = (visible = false) => {\n      ctx.emit(\"pick\", [minDate.value, maxDate.value], visible);\n    };\n\n    const handleMinChange = date => {\n      handleChange(date.millisecond(0), maxDate.value);\n    };\n\n    const handleMaxChange = date => {\n      handleChange(minDate.value, date.millisecond(0));\n    };\n\n    const isValidValue = _date => {\n      const parsedDate = _date.map(_ => dayjs(_).locale(lang.value));\n\n      const result = getRangeAvailableTime(parsedDate);\n      return parsedDate[0].isSame(result[0]) && parsedDate[1].isSame(result[1]);\n    };\n\n    const handleChange = (_minDate, _maxDate) => {\n      ctx.emit(\"pick\", [_minDate, _maxDate], true);\n    };\n\n    const btnConfirmDisabled = computed(() => {\n      return minDate.value > maxDate.value;\n    });\n    const selectionRange = ref([0, 2]);\n\n    const setMinSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end, \"min\");\n      selectionRange.value = [start, end];\n    };\n\n    const offset = computed(() => showSeconds.value ? 11 : 8);\n\n    const setMaxSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end, \"max\");\n      selectionRange.value = [start + offset.value, end + offset.value];\n    };\n\n    const changeSelectionRange = step => {\n      const list = showSeconds.value ? [0, 3, 6, 11, 14, 17] : [0, 3, 8, 11];\n      const mapping = [\"hours\", \"minutes\"].concat(showSeconds.value ? [\"seconds\"] : []);\n      const index = list.indexOf(selectionRange.value[0]);\n      const next = (index + step + list.length) % list.length;\n      const half = list.length / 2;\n\n      if (next < half) {\n        timePickerOptions[\"start_emitSelectRange\"](mapping[next]);\n      } else {\n        timePickerOptions[\"end_emitSelectRange\"](mapping[next - half]);\n      }\n    };\n\n    const handleKeydown = event => {\n      const code = event.code;\n\n      if (code === EVENT_CODE.left || code === EVENT_CODE.right) {\n        const step = code === EVENT_CODE.left ? -1 : 1;\n        changeSelectionRange(step);\n        event.preventDefault();\n        return;\n      }\n\n      if (code === EVENT_CODE.up || code === EVENT_CODE.down) {\n        const step = code === EVENT_CODE.up ? -1 : 1;\n        const role = selectionRange.value[0] < offset.value ? \"start\" : \"end\";\n        timePickerOptions[`${role}_scrollDown`](step);\n        event.preventDefault();\n        return;\n      }\n    };\n\n    const disabledHours_ = (role, compare) => {\n      const defaultDisable = disabledHours ? disabledHours(role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n      const nextDisable = isStart ? makeSelectRange(compareHour + 1, 23) : makeSelectRange(0, compareHour - 1);\n      return union(defaultDisable, nextDisable);\n    };\n\n    const disabledMinutes_ = (hour, role, compare) => {\n      const defaultDisable = disabledMinutes ? disabledMinutes(hour, role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n\n      if (hour !== compareHour) {\n        return defaultDisable;\n      }\n\n      const compareMinute = compareDate.minute();\n      const nextDisable = isStart ? makeSelectRange(compareMinute + 1, 59) : makeSelectRange(0, compareMinute - 1);\n      return union(defaultDisable, nextDisable);\n    };\n\n    const disabledSeconds_ = (hour, minute, role, compare) => {\n      const defaultDisable = disabledSeconds ? disabledSeconds(hour, minute, role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n      const compareMinute = compareDate.minute();\n\n      if (hour !== compareHour || minute !== compareMinute) {\n        return defaultDisable;\n      }\n\n      const compareSecond = compareDate.second();\n      const nextDisable = isStart ? makeSelectRange(compareSecond + 1, 59) : makeSelectRange(0, compareSecond - 1);\n      return union(defaultDisable, nextDisable);\n    };\n\n    const getRangeAvailableTime = dates => {\n      return dates.map((_, index) => getRangeAvailableTimeEach(dates[0], dates[1], index === 0 ? \"start\" : \"end\"));\n    };\n\n    const {\n      getAvailableHours,\n      getAvailableMinutes,\n      getAvailableSeconds\n    } = getAvailableArrs(disabledHours_, disabledMinutes_, disabledSeconds_);\n\n    const getRangeAvailableTimeEach = (startDate, endDate, role) => {\n      const availableMap = {\n        hour: getAvailableHours,\n        minute: getAvailableMinutes,\n        second: getAvailableSeconds\n      };\n      const isStart = role === \"start\";\n      let result = isStart ? startDate : endDate;\n      const compareDate = isStart ? endDate : startDate;\n      [\"hour\", \"minute\", \"second\"].forEach(_ => {\n        if (availableMap[_]) {\n          let availableArr;\n          const method = availableMap[_];\n\n          if (_ === \"minute\") {\n            availableArr = method(result.hour(), role, compareDate);\n          } else if (_ === \"second\") {\n            availableArr = method(result.hour(), result.minute(), role, compareDate);\n          } else {\n            availableArr = method(role, compareDate);\n          }\n\n          if (availableArr && availableArr.length && !availableArr.includes(result[_]())) {\n            const pos = isStart ? 0 : availableArr.length - 1;\n            result = result[_](availableArr[pos]);\n          }\n        }\n      });\n      return result;\n    };\n\n    const parseUserInput = value => {\n      if (!value) return null;\n\n      if (Array.isArray(value)) {\n        return value.map(_ => dayjs(_, props.format).locale(lang.value));\n      }\n\n      return dayjs(value, props.format).locale(lang.value);\n    };\n\n    const formatToString = value => {\n      if (!value) return null;\n\n      if (Array.isArray(value)) {\n        return value.map(_ => _.format(props.format));\n      }\n\n      return value.format(props.format);\n    };\n\n    const getDefaultValue = () => {\n      if (Array.isArray(defaultValue)) {\n        return defaultValue.map(_ => dayjs(_).locale(lang.value));\n      }\n\n      const defaultDay = dayjs(defaultValue).locale(lang.value);\n      return [defaultDay, defaultDay.add(60, \"m\")];\n    };\n\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"handleKeydown\", handleKeydown]);\n    ctx.emit(\"set-picker-option\", [\"getDefaultValue\", getDefaultValue]);\n    ctx.emit(\"set-picker-option\", [\"getRangeAvailableTime\", getRangeAvailableTime]);\n    const timePickerOptions = {};\n\n    const onSetOption = e => {\n      timePickerOptions[e[0]] = e[1];\n    };\n\n    const pickerBase = inject(\"EP_PICKER_BASE\");\n    const {\n      arrowControl,\n      disabledHours,\n      disabledMinutes,\n      disabledSeconds,\n      defaultValue\n    } = pickerBase.props;\n    return {\n      arrowControl,\n      onSetOption,\n      setMaxSelectionRange,\n      setMinSelectionRange,\n      btnConfirmDisabled,\n      handleCancel,\n      handleConfirm,\n      t,\n      showSeconds,\n      minDate,\n      maxDate,\n      amPmMode,\n      handleMinChange,\n      handleMaxChange,\n      minSelectableRange,\n      maxSelectableRange,\n      disabledHours_,\n      disabledMinutes_,\n      disabledSeconds_\n    };\n  }\n\n});\nconst _hoisted_1$3 = {\n  key: 0,\n  class: \"el-time-range-picker el-picker-panel\"\n};\nconst _hoisted_2$2 = {\n  class: \"el-time-range-picker__content\"\n};\nconst _hoisted_3$1 = {\n  class: \"el-time-range-picker__cell\"\n};\nconst _hoisted_4 = {\n  class: \"el-time-range-picker__header\"\n};\nconst _hoisted_5 = {\n  class: \"el-time-range-picker__cell\"\n};\nconst _hoisted_6 = {\n  class: \"el-time-range-picker__header\"\n};\nconst _hoisted_7 = {\n  class: \"el-time-panel__footer\"\n};\n\nfunction render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_time_spinner = resolveComponent(\"time-spinner\");\n\n  return _ctx.actualVisible ? (openBlock(), createBlock(\"div\", _hoisted_1$3, [createVNode(\"div\", _hoisted_2$2, [createVNode(\"div\", _hoisted_3$1, [createVNode(\"div\", _hoisted_4, toDisplayString(_ctx.t(\"el.datepicker.startTime\")), 1), createVNode(\"div\", {\n    class: [{\n      \"has-seconds\": _ctx.showSeconds,\n      \"is-arrow\": _ctx.arrowControl\n    }, \"el-time-range-picker__body el-time-panel__content\"]\n  }, [createVNode(_component_time_spinner, {\n    ref: \"minSpinner\",\n    role: \"start\",\n    \"show-seconds\": _ctx.showSeconds,\n    \"am-pm-mode\": _ctx.amPmMode,\n    \"arrow-control\": _ctx.arrowControl,\n    \"spinner-date\": _ctx.minDate,\n    \"disabled-hours\": _ctx.disabledHours_,\n    \"disabled-minutes\": _ctx.disabledMinutes_,\n    \"disabled-seconds\": _ctx.disabledSeconds_,\n    onChange: _ctx.handleMinChange,\n    onSetOption: _ctx.onSetOption,\n    onSelectRange: _ctx.setMinSelectionRange\n  }, null, 8, [\"show-seconds\", \"am-pm-mode\", \"arrow-control\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])], 2)]), createVNode(\"div\", _hoisted_5, [createVNode(\"div\", _hoisted_6, toDisplayString(_ctx.t(\"el.datepicker.endTime\")), 1), createVNode(\"div\", {\n    class: [{\n      \"has-seconds\": _ctx.showSeconds,\n      \"is-arrow\": _ctx.arrowControl\n    }, \"el-time-range-picker__body el-time-panel__content\"]\n  }, [createVNode(_component_time_spinner, {\n    ref: \"maxSpinner\",\n    role: \"end\",\n    \"show-seconds\": _ctx.showSeconds,\n    \"am-pm-mode\": _ctx.amPmMode,\n    \"arrow-control\": _ctx.arrowControl,\n    \"spinner-date\": _ctx.maxDate,\n    \"disabled-hours\": _ctx.disabledHours_,\n    \"disabled-minutes\": _ctx.disabledMinutes_,\n    \"disabled-seconds\": _ctx.disabledSeconds_,\n    onChange: _ctx.handleMaxChange,\n    onSetOption: _ctx.onSetOption,\n    onSelectRange: _ctx.setMaxSelectionRange\n  }, null, 8, [\"show-seconds\", \"am-pm-mode\", \"arrow-control\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])], 2)])]), createVNode(\"div\", _hoisted_7, [createVNode(\"button\", {\n    type: \"button\",\n    class: \"el-time-panel__btn cancel\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.handleCancel())\n  }, toDisplayString(_ctx.t(\"el.datepicker.cancel\")), 1), createVNode(\"button\", {\n    type: \"button\",\n    class: \"el-time-panel__btn confirm\",\n    disabled: _ctx.btnConfirmDisabled,\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.handleConfirm())\n  }, toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 9, [\"disabled\"])])])) : createCommentVNode(\"v-if\", true);\n}\n\nscript$3.render = render$3;\nscript$3.__file = \"packages/time-picker/src/time-picker-com/panel-time-range.vue\";\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\ndayjs.extend(customParseFormat);\nvar TimePicker = defineComponent({\n  name: \"ElTimePicker\",\n  install: null,\n  props: __spreadProps(__spreadValues({}, defaultProps), {\n    isRange: {\n      type: Boolean,\n      default: false\n    }\n  }),\n  emits: [\"update:modelValue\"],\n\n  setup(props, ctx) {\n    const commonPicker = ref(null);\n    const type = props.isRange ? \"timerange\" : \"time\";\n    const panel = props.isRange ? script$3 : script$2;\n\n    const refProps = __spreadProps(__spreadValues({}, props), {\n      focus: () => {\n        var _a;\n\n        (_a = commonPicker.value) == null ? void 0 : _a.handleFocus();\n      },\n      blur: () => {\n        var _a;\n\n        (_a = commonPicker.value) == null ? void 0 : _a.handleBlur();\n      }\n    });\n\n    provide(\"ElPopperOptions\", props.popperOptions);\n    ctx.expose(refProps);\n    return () => {\n      var _a;\n\n      const format = (_a = props.format) != null ? _a : DEFAULT_FORMATS_TIME;\n      return h(script, __spreadProps(__spreadValues({}, props), {\n        format,\n        type,\n        ref: commonPicker,\n        \"onUpdate:modelValue\": value => ctx.emit(\"update:modelValue\", value)\n      }), {\n        default: scopedProps => h(panel, scopedProps)\n      });\n    };\n  }\n\n});\n\nconst rangeArr = n => {\n  return Array.from(Array(n).keys());\n};\n\nconst extractDateFormat = format => {\n  return format.replace(/\\W?m{1,2}|\\W?ZZ/g, \"\").replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, \"\").trim();\n};\n\nconst extractTimeFormat = format => {\n  return format.replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, \"\").trim();\n};\n\nconst _TimePicker = TimePicker;\n\n_TimePicker.install = app => {\n  app.component(_TimePicker.name, _TimePicker);\n};\n\nexport default _TimePicker;\nexport { script as CommonPicker, DEFAULT_FORMATS_DATE, DEFAULT_FORMATS_DATEPICKER, DEFAULT_FORMATS_TIME, script$2 as TimePickPanel, defaultProps, extractDateFormat, extractTimeFormat, rangeArr };","map":{"version":3,"sources":["D:/A-大三下/web开发/xducat/xducat-client/node_modules/element-plus/es/el-time-picker/index.js"],"names":["defineComponent","inject","ref","watch","nextTick","computed","provide","resolveComponent","resolveDirective","openBlock","createBlock","mergeProps","withCtx","withDirectives","createVNode","renderSlot","toDisplayString","withModifiers","onMounted","Fragment","renderList","createTextVNode","createCommentVNode","Transition","h","dayjs","customParseFormat","isEqual","useLocaleInject","ClickOutside","RepeatClick","ElInput","ElPopper","EVENT_CODE","useGlobalConfig","isEmpty","elFormKey","elFormItemKey","isValidComponentSize","debounce","ElScrollbar","union","DEFAULT_FORMATS_TIME","DEFAULT_FORMATS_DATE","DEFAULT_FORMATS_DATEPICKER","date","week","year","month","datetime","monthrange","daterange","datetimerange","defaultProps","name","type","Array","String","default","popperClass","format","valueFormat","clearable","Boolean","clearIcon","editable","prefixIcon","size","validator","readonly","disabled","placeholder","popperOptions","Object","modelValue","Date","rangeSeparator","startPlaceholder","endPlaceholder","defaultValue","defaultTime","isRange","disabledHours","Function","disabledMinutes","disabledSeconds","disabledDate","cellClassName","shortcuts","arrowControl","validateEvent","unlinkPanels","dateEquals","a","b","aIsDate","bIsDate","getTime","valueEquals","aIsArray","bIsArray","length","every","item","index","parser","lang","day","locale","isValid","formatter","script","components","directives","clickoutside","props","emits","setup","ctx","ELEMENT","elForm","elFormItem","elPopperOptions","refPopper","pickerVisible","pickerActualVisible","valueOnOpen","val","_a","userInput","value","emitChange","emit","blurInput","formItemMitt","isClear","emitInput","formatValue","isArray","map","_","refInput","triggerRef","_r","isRangeInput","$el","slice","call","querySelectorAll","setSelectionRange","start","end","pos","_inputs","focus","onPick","visible","result","toDate","handleFocus","e","pickerDisabled","handleBlur","parsedValue","valueIsEmpty","pickerOptions","getDefaultValue","getRangeAvailableTime","availableResult","some","displayValue","panelReady","formattedValue","formatDayjsToString","isTimePicker","isDatesPicker","join","isTimeLikePicker","indexOf","triggerClass","showClose","onClearIconClick","event","stopPropagation","handleClear","onMouseEnter","onMouseLeave","pickerSize","popperPaneRef","popperRef","onClickOutside","handleChange","parseUserInputToDayjs","isValidValue","forEach","input","blur","parseUserInput","formatToString","handleKeydown","code","esc","tab","setTimeout","document","activeElement","enter","onUserInput","handleStartInput","target","handleEndInput","handleStartChange","newValue","handleEndChange","onSetPickerOption","onCalendarChange","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_input","_component_el_popper","_directive_clickoutside","$event","effect","pure","trigger","$attrs","transition","onBeforeEnter","onAfterLeave","key","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave","prefix","onClick","args","suffix","autocomplete","$slots","actualVisible","onSelectRange","onMousedown","__file","makeList","total","method","methodFunc","arr","disabledArr","i","includes","makeAvailableArr","list","filter","getTimeLists","getHoursList","role","compare","getMinutesList","hour","getSecondsList","minute","getAvailableArrs","getAvailableHours","getAvailableMinutes","getAvailableSeconds","useOldValue","oldValue","script$1","repeatClick","required","spinnerDate","showSeconds","amPmMode","isScrolling","debouncedResetScroll","adjustCurrentSpinner","currentScrollbar","listHoursRef","listMinutesRef","listSecondsRef","listRefsMap","hours","minutes","seconds","spinnerItems","second","timePartsMap","hoursList","minutesList","secondsList","listMap","arrowHourList","arrowMinuteList","arrowSecondList","arrowListMap","getAmPmFlag","shouldShowAmPm","isCapital","content","toUpperCase","emitSelectRange","adjustSpinner","adjustSpinners","el","querySelector","scrollTop","Math","max","typeItemHeight","offsetHeight","onIncreaseClick","scrollDown","onDecreaseClick","step","label","now","modifyDateField","isDisabled","handleClick","handleScroll","min","round","scrollBarHeight","bindScrollEvent","bindFuntion","onscroll","getRefId","charAt","_hoisted_1$1","_hoisted_2","_hoisted_3","render$1","_component_el_scrollbar","_directive_repeat_click","noresize","tag","onMousemove","time","script$2","TimeSpinner","datetimeRole","t","selectionRange","transitionName","_date","parsedDate","isSame","handleCancel","handleConfirm","first","millisecond","changeSelectionRange","concat","mapping","next","timePickerOptions","left","right","preventDefault","up","down","availableMap","availableArr","onSetOption","pickerBase","_hoisted_1$2","_hoisted_2$1","render$2","_component_time_spinner","makeSelectRange","push","script$3","minDate","maxDate","minSelectableRange","maxSelectableRange","handleMinChange","handleMaxChange","_minDate","_maxDate","btnConfirmDisabled","setMinSelectionRange","offset","setMaxSelectionRange","half","disabledHours_","defaultDisable","isStart","compareDate","compareHour","nextDisable","disabledMinutes_","compareMinute","disabledSeconds_","compareSecond","dates","getRangeAvailableTimeEach","startDate","endDate","defaultDay","add","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","render$3","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","prop","__spreadProps","extend","TimePicker","install","commonPicker","panel","refProps","expose","scopedProps","rangeArr","n","from","keys","extractDateFormat","replace","trim","extractTimeFormat","_TimePicker","app","component","CommonPicker","TimePickPanel"],"mappings":"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","sourcesContent":["import { defineComponent, inject, ref, watch, nextTick, computed, provide, resolveComponent, resolveDirective, openBlock, createBlock, mergeProps, withCtx, withDirectives, createVNode, renderSlot, toDisplayString, withModifiers, onMounted, Fragment, renderList, createTextVNode, createCommentVNode, Transition, h } from 'vue';\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport isEqual from 'lodash/isEqual';\nimport { useLocaleInject } from '../hooks';\nimport { ClickOutside, RepeatClick } from '../directives';\nimport ElInput from '../el-input';\nimport ElPopper from '../el-popper';\nimport { EVENT_CODE } from '../utils/aria';\nimport { useGlobalConfig, isEmpty } from '../utils/util';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport { isValidComponentSize } from '../utils/validators';\nimport debounce from 'lodash/debounce';\nimport ElScrollbar from '../el-scrollbar';\nimport union from 'lodash/union';\n\nconst DEFAULT_FORMATS_TIME = \"HH:mm:ss\";\nconst DEFAULT_FORMATS_DATE = \"YYYY-MM-DD\";\nconst DEFAULT_FORMATS_DATEPICKER = {\n  date: DEFAULT_FORMATS_DATE,\n  week: \"gggg[w]ww\",\n  year: \"YYYY\",\n  month: \"YYYY-MM\",\n  datetime: `${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,\n  monthrange: \"YYYY-MM\",\n  daterange: DEFAULT_FORMATS_DATE,\n  datetimerange: `${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`\n};\n\nconst defaultProps = {\n  name: {\n    type: [Array, String],\n    default: \"\"\n  },\n  popperClass: {\n    type: String,\n    default: \"\"\n  },\n  format: {\n    type: String\n  },\n  valueFormat: {\n    type: String\n  },\n  type: {\n    type: String,\n    default: \"\"\n  },\n  clearable: {\n    type: Boolean,\n    default: true\n  },\n  clearIcon: {\n    type: String,\n    default: \"el-icon-circle-close\"\n  },\n  editable: {\n    type: Boolean,\n    default: true\n  },\n  prefixIcon: {\n    type: String,\n    default: \"\"\n  },\n  size: {\n    type: String,\n    validator: isValidComponentSize\n  },\n  readonly: {\n    type: Boolean,\n    default: false\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  placeholder: {\n    type: String,\n    default: \"\"\n  },\n  popperOptions: {\n    type: Object,\n    default: () => ({})\n  },\n  modelValue: {\n    type: [Date, Array, String],\n    default: \"\"\n  },\n  rangeSeparator: {\n    type: String,\n    default: \"-\"\n  },\n  startPlaceholder: String,\n  endPlaceholder: String,\n  defaultValue: {\n    type: [Date, Array]\n  },\n  defaultTime: {\n    type: [Date, Array]\n  },\n  isRange: {\n    type: Boolean,\n    default: false\n  },\n  disabledHours: {\n    type: Function\n  },\n  disabledMinutes: {\n    type: Function\n  },\n  disabledSeconds: {\n    type: Function\n  },\n  disabledDate: {\n    type: Function\n  },\n  cellClassName: {\n    type: Function\n  },\n  shortcuts: {\n    type: Array,\n    default: () => []\n  },\n  arrowControl: {\n    type: Boolean,\n    default: false\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  unlinkPanels: Boolean\n};\n\nconst dateEquals = function(a, b) {\n  const aIsDate = a instanceof Date;\n  const bIsDate = b instanceof Date;\n  if (aIsDate && bIsDate) {\n    return a.getTime() === b.getTime();\n  }\n  if (!aIsDate && !bIsDate) {\n    return a === b;\n  }\n  return false;\n};\nconst valueEquals = function(a, b) {\n  const aIsArray = a instanceof Array;\n  const bIsArray = b instanceof Array;\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every((item, index) => dateEquals(item, b[index]));\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b);\n  }\n  return false;\n};\nconst parser = function(date, format, lang) {\n  const day = isEmpty(format) ? dayjs(date).locale(lang) : dayjs(date, format).locale(lang);\n  return day.isValid() ? day : void 0;\n};\nconst formatter = function(date, format, lang) {\n  return isEmpty(format) ? date : dayjs(date).locale(lang).format(format);\n};\nvar script = defineComponent({\n  name: \"Picker\",\n  components: {\n    ElInput,\n    ElPopper\n  },\n  directives: { clickoutside: ClickOutside },\n  props: defaultProps,\n  emits: [\"update:modelValue\", \"change\", \"focus\", \"blur\", \"calendar-change\"],\n  setup(props, ctx) {\n    const ELEMENT = useGlobalConfig();\n    const { lang } = useLocaleInject();\n    const elForm = inject(elFormKey, {});\n    const elFormItem = inject(elFormItemKey, {});\n    const elPopperOptions = inject(\"ElPopperOptions\", {});\n    const refPopper = ref(null);\n    const pickerVisible = ref(false);\n    const pickerActualVisible = ref(false);\n    const valueOnOpen = ref(null);\n    watch(pickerVisible, (val) => {\n      var _a;\n      if (!val) {\n        userInput.value = null;\n        nextTick(() => {\n          emitChange(props.modelValue);\n        });\n        ctx.emit(\"blur\");\n        blurInput();\n        props.validateEvent && ((_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.blur\"));\n      } else {\n        valueOnOpen.value = props.modelValue;\n      }\n    });\n    const emitChange = (val, isClear) => {\n      var _a;\n      if (isClear || !valueEquals(val, valueOnOpen.value)) {\n        ctx.emit(\"change\", val);\n        props.validateEvent && ((_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", val));\n      }\n    };\n    const emitInput = (val) => {\n      if (!valueEquals(props.modelValue, val)) {\n        let formatValue;\n        if (Array.isArray(val)) {\n          formatValue = val.map((_) => formatter(_, props.valueFormat, lang.value));\n        } else if (val) {\n          formatValue = formatter(val, props.valueFormat, lang.value);\n        }\n        ctx.emit(\"update:modelValue\", val ? formatValue : val, lang.value);\n      }\n    };\n    const refInput = computed(() => {\n      if (refPopper.value.triggerRef) {\n        const _r = isRangeInput.value ? refPopper.value.triggerRef : refPopper.value.triggerRef.$el;\n        return [].slice.call(_r.querySelectorAll(\"input\"));\n      }\n      return [];\n    });\n    const setSelectionRange = (start, end, pos) => {\n      const _inputs = refInput.value;\n      if (!_inputs.length)\n        return;\n      if (!pos || pos === \"min\") {\n        _inputs[0].setSelectionRange(start, end);\n        _inputs[0].focus();\n      } else if (pos === \"max\") {\n        _inputs[1].setSelectionRange(start, end);\n        _inputs[1].focus();\n      }\n    };\n    const onPick = (date = \"\", visible = false) => {\n      pickerVisible.value = visible;\n      let result;\n      if (Array.isArray(date)) {\n        result = date.map((_) => _.toDate());\n      } else {\n        result = date ? date.toDate() : date;\n      }\n      userInput.value = null;\n      emitInput(result);\n    };\n    const handleFocus = (e) => {\n      if (props.readonly || pickerDisabled.value || pickerVisible.value)\n        return;\n      pickerVisible.value = true;\n      ctx.emit(\"focus\", e);\n    };\n    const handleBlur = () => {\n      pickerVisible.value = false;\n      blurInput();\n    };\n    const pickerDisabled = computed(() => {\n      return props.disabled || elForm.disabled;\n    });\n    const parsedValue = computed(() => {\n      let result;\n      if (valueIsEmpty.value) {\n        if (pickerOptions.value.getDefaultValue) {\n          result = pickerOptions.value.getDefaultValue();\n        }\n      } else {\n        if (Array.isArray(props.modelValue)) {\n          result = props.modelValue.map((_) => parser(_, props.valueFormat, lang.value));\n        } else {\n          result = parser(props.modelValue, props.valueFormat, lang.value);\n        }\n      }\n      if (pickerOptions.value.getRangeAvailableTime) {\n        const availableResult = pickerOptions.value.getRangeAvailableTime(result);\n        if (!isEqual(availableResult, result)) {\n          result = availableResult;\n          emitInput(Array.isArray(result) ? result.map((_) => _.toDate()) : result.toDate());\n        }\n      }\n      if (Array.isArray(result) && result.some((_) => !_)) {\n        result = [];\n      }\n      return result;\n    });\n    const displayValue = computed(() => {\n      if (!pickerOptions.value.panelReady)\n        return;\n      const formattedValue = formatDayjsToString(parsedValue.value);\n      if (Array.isArray(userInput.value)) {\n        return [\n          userInput.value[0] || formattedValue && formattedValue[0] || \"\",\n          userInput.value[1] || formattedValue && formattedValue[1] || \"\"\n        ];\n      } else if (userInput.value !== null) {\n        return userInput.value;\n      }\n      if (!isTimePicker.value && valueIsEmpty.value)\n        return;\n      if (!pickerVisible.value && valueIsEmpty.value)\n        return;\n      if (formattedValue) {\n        return isDatesPicker.value ? formattedValue.join(\", \") : formattedValue;\n      }\n      return \"\";\n    });\n    const isTimeLikePicker = computed(() => {\n      return props.type.indexOf(\"time\") !== -1;\n    });\n    const isTimePicker = computed(() => {\n      return props.type.indexOf(\"time\") === 0;\n    });\n    const isDatesPicker = computed(() => {\n      return props.type === \"dates\";\n    });\n    const triggerClass = computed(() => {\n      return props.prefixIcon || (isTimeLikePicker.value ? \"el-icon-time\" : \"el-icon-date\");\n    });\n    const showClose = ref(false);\n    const onClearIconClick = (event) => {\n      if (props.readonly || pickerDisabled.value)\n        return;\n      if (showClose.value) {\n        event.stopPropagation();\n        emitInput(null);\n        emitChange(null, true);\n        showClose.value = false;\n        pickerVisible.value = false;\n        pickerOptions.value.handleClear && pickerOptions.value.handleClear();\n      }\n    };\n    const valueIsEmpty = computed(() => {\n      return !props.modelValue || Array.isArray(props.modelValue) && !props.modelValue.length;\n    });\n    const onMouseEnter = () => {\n      if (props.readonly || pickerDisabled.value)\n        return;\n      if (!valueIsEmpty.value && props.clearable) {\n        showClose.value = true;\n      }\n    };\n    const onMouseLeave = () => {\n      showClose.value = false;\n    };\n    const isRangeInput = computed(() => {\n      return props.type.indexOf(\"range\") > -1;\n    });\n    const pickerSize = computed(() => {\n      return props.size || elFormItem.size || ELEMENT.size;\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n      return (_a = refPopper.value) == null ? void 0 : _a.popperRef;\n    });\n    const onClickOutside = () => {\n      if (!pickerVisible.value)\n        return;\n      pickerVisible.value = false;\n    };\n    const userInput = ref(null);\n    const handleChange = () => {\n      if (userInput.value) {\n        const value = parseUserInputToDayjs(displayValue.value);\n        if (value) {\n          if (isValidValue(value)) {\n            emitInput(Array.isArray(value) ? value.map((_) => _.toDate()) : value.toDate());\n            userInput.value = null;\n          }\n        }\n      }\n      if (userInput.value === \"\") {\n        emitInput(null);\n        emitChange(null);\n        userInput.value = null;\n      }\n    };\n    const blurInput = () => {\n      refInput.value.forEach((input) => input.blur());\n    };\n    const parseUserInputToDayjs = (value) => {\n      if (!value)\n        return null;\n      return pickerOptions.value.parseUserInput(value);\n    };\n    const formatDayjsToString = (value) => {\n      if (!value)\n        return null;\n      return pickerOptions.value.formatToString(value);\n    };\n    const isValidValue = (value) => {\n      return pickerOptions.value.isValidValue(value);\n    };\n    const handleKeydown = (event) => {\n      const code = event.code;\n      if (code === EVENT_CODE.esc) {\n        pickerVisible.value = false;\n        event.stopPropagation();\n        return;\n      }\n      if (code === EVENT_CODE.tab) {\n        if (!isRangeInput.value) {\n          handleChange();\n          pickerVisible.value = false;\n          event.stopPropagation();\n        } else {\n          setTimeout(() => {\n            if (refInput.value.indexOf(document.activeElement) === -1) {\n              pickerVisible.value = false;\n              blurInput();\n            }\n          }, 0);\n        }\n        return;\n      }\n      if (code === EVENT_CODE.enter) {\n        if (userInput.value === \"\" || isValidValue(parseUserInputToDayjs(displayValue.value))) {\n          handleChange();\n          pickerVisible.value = false;\n        }\n        event.stopPropagation();\n        return;\n      }\n      if (userInput.value) {\n        event.stopPropagation();\n        return;\n      }\n      if (pickerOptions.value.handleKeydown) {\n        pickerOptions.value.handleKeydown(event);\n      }\n    };\n    const onUserInput = (e) => {\n      userInput.value = e;\n    };\n    const handleStartInput = (event) => {\n      if (userInput.value) {\n        userInput.value = [event.target.value, userInput.value[1]];\n      } else {\n        userInput.value = [event.target.value, null];\n      }\n    };\n    const handleEndInput = (event) => {\n      if (userInput.value) {\n        userInput.value = [userInput.value[0], event.target.value];\n      } else {\n        userInput.value = [null, event.target.value];\n      }\n    };\n    const handleStartChange = () => {\n      const value = parseUserInputToDayjs(userInput.value && userInput.value[0]);\n      if (value && value.isValid()) {\n        userInput.value = [formatDayjsToString(value), displayValue.value[1]];\n        const newValue = [value, parsedValue.value && parsedValue.value[1]];\n        if (isValidValue(newValue)) {\n          emitInput(newValue);\n          userInput.value = null;\n        }\n      }\n    };\n    const handleEndChange = () => {\n      const value = parseUserInputToDayjs(userInput.value && userInput.value[1]);\n      if (value && value.isValid()) {\n        userInput.value = [displayValue.value[0], formatDayjsToString(value)];\n        const newValue = [parsedValue.value && parsedValue.value[0], value];\n        if (isValidValue(newValue)) {\n          emitInput(newValue);\n          userInput.value = null;\n        }\n      }\n    };\n    const pickerOptions = ref({});\n    const onSetPickerOption = (e) => {\n      pickerOptions.value[e[0]] = e[1];\n      pickerOptions.value.panelReady = true;\n    };\n    const onCalendarChange = (e) => {\n      ctx.emit(\"calendar-change\", e);\n    };\n    provide(\"EP_PICKER_BASE\", {\n      props\n    });\n    return {\n      elPopperOptions,\n      isDatesPicker,\n      handleEndChange,\n      handleStartChange,\n      handleStartInput,\n      handleEndInput,\n      onUserInput,\n      handleChange,\n      handleKeydown,\n      popperPaneRef,\n      onClickOutside,\n      pickerSize,\n      isRangeInput,\n      onMouseLeave,\n      onMouseEnter,\n      onClearIconClick,\n      showClose,\n      triggerClass,\n      onPick,\n      handleFocus,\n      handleBlur,\n      pickerVisible,\n      pickerActualVisible,\n      displayValue,\n      parsedValue,\n      setSelectionRange,\n      refPopper,\n      pickerDisabled,\n      onSetPickerOption,\n      onCalendarChange\n    };\n  }\n});\n\nconst _hoisted_1 = { class: \"el-range-separator\" };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_popper = resolveComponent(\"el-popper\");\n  const _directive_clickoutside = resolveDirective(\"clickoutside\");\n  return openBlock(), createBlock(_component_el_popper, mergeProps({\n    ref: \"refPopper\",\n    visible: _ctx.pickerVisible,\n    \"onUpdate:visible\": _cache[19] || (_cache[19] = ($event) => _ctx.pickerVisible = $event),\n    \"manual-mode\": \"\",\n    effect: \"light\",\n    pure: \"\",\n    trigger: \"click\"\n  }, _ctx.$attrs, {\n    \"popper-class\": `el-picker__popper ${_ctx.popperClass}`,\n    \"popper-options\": _ctx.elPopperOptions,\n    \"fallback-placements\": [\"bottom\", \"top\", \"right\", \"left\"],\n    transition: \"el-zoom-in-top\",\n    \"gpu-acceleration\": false,\n    \"stop-popper-mouse-event\": false,\n    \"append-to-body\": \"\",\n    onBeforeEnter: _cache[20] || (_cache[20] = ($event) => _ctx.pickerActualVisible = true),\n    onAfterLeave: _cache[21] || (_cache[21] = ($event) => _ctx.pickerActualVisible = false)\n  }), {\n    trigger: withCtx(() => [\n      !_ctx.isRangeInput ? withDirectives((openBlock(), createBlock(_component_el_input, {\n        key: 0,\n        \"model-value\": _ctx.displayValue,\n        name: _ctx.name,\n        size: _ctx.pickerSize,\n        disabled: _ctx.pickerDisabled,\n        placeholder: _ctx.placeholder,\n        class: [\"el-date-editor\", \"el-date-editor--\" + _ctx.type],\n        readonly: !_ctx.editable || _ctx.readonly || _ctx.isDatesPicker || _ctx.type === \"week\",\n        onInput: _ctx.onUserInput,\n        onFocus: _ctx.handleFocus,\n        onKeydown: _ctx.handleKeydown,\n        onChange: _ctx.handleChange,\n        onMouseenter: _ctx.onMouseEnter,\n        onMouseleave: _ctx.onMouseLeave\n      }, {\n        prefix: withCtx(() => [\n          createVNode(\"i\", {\n            class: [\"el-input__icon\", _ctx.triggerClass],\n            onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args))\n          }, null, 2)\n        ]),\n        suffix: withCtx(() => [\n          createVNode(\"i\", {\n            class: [\"el-input__icon\", [_ctx.showClose ? \"\" + _ctx.clearIcon : \"\"]],\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.onClearIconClick && _ctx.onClearIconClick(...args))\n          }, null, 2)\n        ]),\n        _: 1\n      }, 8, [\"model-value\", \"name\", \"size\", \"disabled\", \"placeholder\", \"class\", \"readonly\", \"onInput\", \"onFocus\", \"onKeydown\", \"onChange\", \"onMouseenter\", \"onMouseleave\"])), [\n        [_directive_clickoutside, _ctx.onClickOutside, _ctx.popperPaneRef]\n      ]) : withDirectives((openBlock(), createBlock(\"div\", {\n        key: 1,\n        class: [\"el-date-editor el-range-editor el-input__inner\", [\n          \"el-date-editor--\" + _ctx.type,\n          _ctx.pickerSize ? `el-range-editor--${_ctx.pickerSize}` : \"\",\n          _ctx.pickerDisabled ? \"is-disabled\" : \"\",\n          _ctx.pickerVisible ? \"is-active\" : \"\"\n        ]],\n        onClick: _cache[10] || (_cache[10] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n        onMouseenter: _cache[11] || (_cache[11] = (...args) => _ctx.onMouseEnter && _ctx.onMouseEnter(...args)),\n        onMouseleave: _cache[12] || (_cache[12] = (...args) => _ctx.onMouseLeave && _ctx.onMouseLeave(...args)),\n        onKeydown: _cache[13] || (_cache[13] = (...args) => _ctx.handleKeydown && _ctx.handleKeydown(...args))\n      }, [\n        createVNode(\"i\", {\n          class: [\"el-input__icon\", \"el-range__icon\", _ctx.triggerClass]\n        }, null, 2),\n        createVNode(\"input\", {\n          autocomplete: \"off\",\n          name: _ctx.name && _ctx.name[0],\n          placeholder: _ctx.startPlaceholder,\n          value: _ctx.displayValue && _ctx.displayValue[0],\n          disabled: _ctx.pickerDisabled,\n          readonly: !_ctx.editable || _ctx.readonly,\n          class: \"el-range-input\",\n          onInput: _cache[3] || (_cache[3] = (...args) => _ctx.handleStartInput && _ctx.handleStartInput(...args)),\n          onChange: _cache[4] || (_cache[4] = (...args) => _ctx.handleStartChange && _ctx.handleStartChange(...args)),\n          onFocus: _cache[5] || (_cache[5] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args))\n        }, null, 40, [\"name\", \"placeholder\", \"value\", \"disabled\", \"readonly\"]),\n        renderSlot(_ctx.$slots, \"range-separator\", {}, () => [\n          createVNode(\"span\", _hoisted_1, toDisplayString(_ctx.rangeSeparator), 1)\n        ]),\n        createVNode(\"input\", {\n          autocomplete: \"off\",\n          name: _ctx.name && _ctx.name[1],\n          placeholder: _ctx.endPlaceholder,\n          value: _ctx.displayValue && _ctx.displayValue[1],\n          disabled: _ctx.pickerDisabled,\n          readonly: !_ctx.editable || _ctx.readonly,\n          class: \"el-range-input\",\n          onFocus: _cache[6] || (_cache[6] = (...args) => _ctx.handleFocus && _ctx.handleFocus(...args)),\n          onInput: _cache[7] || (_cache[7] = (...args) => _ctx.handleEndInput && _ctx.handleEndInput(...args)),\n          onChange: _cache[8] || (_cache[8] = (...args) => _ctx.handleEndChange && _ctx.handleEndChange(...args))\n        }, null, 40, [\"name\", \"placeholder\", \"value\", \"disabled\", \"readonly\"]),\n        createVNode(\"i\", {\n          class: [[_ctx.showClose ? \"\" + _ctx.clearIcon : \"\"], \"el-input__icon el-range__close-icon\"],\n          onClick: _cache[9] || (_cache[9] = (...args) => _ctx.onClearIconClick && _ctx.onClearIconClick(...args))\n        }, null, 2)\n      ], 34)), [\n        [_directive_clickoutside, _ctx.onClickOutside, _ctx.popperPaneRef]\n      ])\n    ]),\n    default: withCtx(() => [\n      renderSlot(_ctx.$slots, \"default\", {\n        visible: _ctx.pickerVisible,\n        actualVisible: _ctx.pickerActualVisible,\n        parsedValue: _ctx.parsedValue,\n        format: _ctx.format,\n        unlinkPanels: _ctx.unlinkPanels,\n        type: _ctx.type,\n        defaultValue: _ctx.defaultValue,\n        onPick: _cache[14] || (_cache[14] = (...args) => _ctx.onPick && _ctx.onPick(...args)),\n        onSelectRange: _cache[15] || (_cache[15] = (...args) => _ctx.setSelectionRange && _ctx.setSelectionRange(...args)),\n        onSetPickerOption: _cache[16] || (_cache[16] = (...args) => _ctx.onSetPickerOption && _ctx.onSetPickerOption(...args)),\n        onCalendarChange: _cache[17] || (_cache[17] = (...args) => _ctx.onCalendarChange && _ctx.onCalendarChange(...args)),\n        onMousedown: _cache[18] || (_cache[18] = withModifiers(() => {\n        }, [\"stop\"]))\n      })\n    ]),\n    _: 1\n  }, 16, [\"visible\", \"popper-class\", \"popper-options\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/time-picker/src/common/picker.vue\";\n\nconst makeList = (total, method, methodFunc) => {\n  const arr = [];\n  const disabledArr = method && methodFunc();\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false;\n  }\n  return arr;\n};\nconst makeAvailableArr = (list) => {\n  return list.map((_, index) => !_ ? index : _).filter((_) => _ !== true);\n};\nconst getTimeLists = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const getHoursList = (role, compare) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare));\n  };\n  const getMinutesList = (hour, role, compare) => {\n    return makeList(60, disabledMinutes, () => disabledMinutes(hour, role, compare));\n  };\n  const getSecondsList = (hour, minute, role, compare) => {\n    return makeList(60, disabledSeconds, () => disabledSeconds(hour, minute, role, compare));\n  };\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  };\n};\nconst getAvailableArrs = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  } = getTimeLists(disabledHours, disabledMinutes, disabledSeconds);\n  const getAvailableHours = (role, compare) => {\n    return makeAvailableArr(getHoursList(role, compare));\n  };\n  const getAvailableMinutes = (hour, role, compare) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare));\n  };\n  const getAvailableSeconds = (hour, minute, role, compare) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare));\n  };\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds\n  };\n};\nconst useOldValue = (props) => {\n  const oldValue = ref(props.parsedValue);\n  watch(() => props.visible, (val) => {\n    if (!val) {\n      oldValue.value = props.parsedValue;\n    }\n  });\n  return oldValue;\n};\n\nvar script$1 = defineComponent({\n  directives: {\n    repeatClick: RepeatClick\n  },\n  components: {\n    ElScrollbar\n  },\n  props: {\n    role: {\n      type: String,\n      required: true\n    },\n    spinnerDate: {\n      type: Object,\n      required: true\n    },\n    showSeconds: {\n      type: Boolean,\n      default: true\n    },\n    arrowControl: Boolean,\n    amPmMode: {\n      type: String,\n      default: \"\"\n    },\n    disabledHours: {\n      type: Function\n    },\n    disabledMinutes: {\n      type: Function\n    },\n    disabledSeconds: {\n      type: Function\n    }\n  },\n  emits: [\"change\", \"select-range\", \"set-option\"],\n  setup(props, ctx) {\n    let isScrolling = false;\n    const debouncedResetScroll = debounce((type) => {\n      isScrolling = false;\n      adjustCurrentSpinner(type);\n    }, 200);\n    const currentScrollbar = ref(null);\n    const listHoursRef = ref(null);\n    const listMinutesRef = ref(null);\n    const listSecondsRef = ref(null);\n    const listRefsMap = {\n      hours: listHoursRef,\n      minutes: listMinutesRef,\n      seconds: listSecondsRef\n    };\n    const spinnerItems = computed(() => {\n      const arr = [\"hours\", \"minutes\", \"seconds\"];\n      return props.showSeconds ? arr : arr.slice(0, 2);\n    });\n    const hours = computed(() => {\n      return props.spinnerDate.hour();\n    });\n    const minutes = computed(() => {\n      return props.spinnerDate.minute();\n    });\n    const seconds = computed(() => {\n      return props.spinnerDate.second();\n    });\n    const timePartsMap = computed(() => ({\n      hours,\n      minutes,\n      seconds\n    }));\n    const hoursList = computed(() => {\n      return getHoursList(props.role);\n    });\n    const minutesList = computed(() => {\n      return getMinutesList(hours.value, props.role);\n    });\n    const secondsList = computed(() => {\n      return getSecondsList(hours.value, minutes.value, props.role);\n    });\n    const listMap = computed(() => ({\n      hours: hoursList,\n      minutes: minutesList,\n      seconds: secondsList\n    }));\n    const arrowHourList = computed(() => {\n      const hour = hours.value;\n      return [\n        hour > 0 ? hour - 1 : void 0,\n        hour,\n        hour < 23 ? hour + 1 : void 0\n      ];\n    });\n    const arrowMinuteList = computed(() => {\n      const minute = minutes.value;\n      return [\n        minute > 0 ? minute - 1 : void 0,\n        minute,\n        minute < 59 ? minute + 1 : void 0\n      ];\n    });\n    const arrowSecondList = computed(() => {\n      const second = seconds.value;\n      return [\n        second > 0 ? second - 1 : void 0,\n        second,\n        second < 59 ? second + 1 : void 0\n      ];\n    });\n    const arrowListMap = computed(() => ({\n      hours: arrowHourList,\n      minutes: arrowMinuteList,\n      seconds: arrowSecondList\n    }));\n    const getAmPmFlag = (hour) => {\n      let shouldShowAmPm = !!props.amPmMode;\n      if (!shouldShowAmPm)\n        return \"\";\n      let isCapital = props.amPmMode === \"A\";\n      let content = hour < 12 ? \" am\" : \" pm\";\n      if (isCapital)\n        content = content.toUpperCase();\n      return content;\n    };\n    const emitSelectRange = (type) => {\n      if (type === \"hours\") {\n        ctx.emit(\"select-range\", 0, 2);\n      } else if (type === \"minutes\") {\n        ctx.emit(\"select-range\", 3, 5);\n      } else if (type === \"seconds\") {\n        ctx.emit(\"select-range\", 6, 8);\n      }\n      currentScrollbar.value = type;\n    };\n    const adjustCurrentSpinner = (type) => {\n      adjustSpinner(type, timePartsMap.value[type].value);\n    };\n    const adjustSpinners = () => {\n      adjustCurrentSpinner(\"hours\");\n      adjustCurrentSpinner(\"minutes\");\n      adjustCurrentSpinner(\"seconds\");\n    };\n    const adjustSpinner = (type, value) => {\n      if (props.arrowControl)\n        return;\n      const el = listRefsMap[type];\n      if (el.value) {\n        el.value.$el.querySelector(\".el-scrollbar__wrap\").scrollTop = Math.max(0, value * typeItemHeight(type));\n      }\n    };\n    const typeItemHeight = (type) => {\n      const el = listRefsMap[type];\n      return el.value.$el.querySelector(\"li\").offsetHeight;\n    };\n    const onIncreaseClick = () => {\n      scrollDown(1);\n    };\n    const onDecreaseClick = () => {\n      scrollDown(-1);\n    };\n    const scrollDown = (step) => {\n      if (!currentScrollbar.value) {\n        emitSelectRange(\"hours\");\n      }\n      const label = currentScrollbar.value;\n      let now = timePartsMap.value[label].value;\n      const total = currentScrollbar.value === \"hours\" ? 24 : 60;\n      now = (now + step + total) % total;\n      modifyDateField(label, now);\n      adjustSpinner(label, now);\n      nextTick(() => emitSelectRange(currentScrollbar.value));\n    };\n    const modifyDateField = (type, value) => {\n      const list = listMap.value[type].value;\n      const isDisabled = list[value];\n      if (isDisabled)\n        return;\n      switch (type) {\n        case \"hours\":\n          ctx.emit(\"change\", props.spinnerDate.hour(value).minute(minutes.value).second(seconds.value));\n          break;\n        case \"minutes\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(value).second(seconds.value));\n          break;\n        case \"seconds\":\n          ctx.emit(\"change\", props.spinnerDate.hour(hours.value).minute(minutes.value).second(value));\n          break;\n      }\n    };\n    const handleClick = (type, { value, disabled }) => {\n      if (!disabled) {\n        modifyDateField(type, value);\n        emitSelectRange(type);\n        adjustSpinner(type, value);\n      }\n    };\n    const handleScroll = (type) => {\n      isScrolling = true;\n      debouncedResetScroll(type);\n      const value = Math.min(Math.round((listRefsMap[type].value.$el.querySelector(\".el-scrollbar__wrap\").scrollTop - (scrollBarHeight(type) * 0.5 - 10) / typeItemHeight(type) + 3) / typeItemHeight(type)), type === \"hours\" ? 23 : 59);\n      modifyDateField(type, value);\n    };\n    const scrollBarHeight = (type) => {\n      return listRefsMap[type].value.$el.offsetHeight;\n    };\n    const bindScrollEvent = () => {\n      const bindFuntion = (type) => {\n        if (listRefsMap[type].value) {\n          listRefsMap[type].value.$el.querySelector(\".el-scrollbar__wrap\").onscroll = () => {\n            handleScroll(type);\n          };\n        }\n      };\n      bindFuntion(\"hours\");\n      bindFuntion(\"minutes\");\n      bindFuntion(\"seconds\");\n    };\n    onMounted(() => {\n      nextTick(() => {\n        !props.arrowControl && bindScrollEvent();\n        adjustSpinners();\n        if (props.role === \"start\")\n          emitSelectRange(\"hours\");\n      });\n    });\n    const getRefId = (item) => {\n      return `list${item.charAt(0).toUpperCase() + item.slice(1)}Ref`;\n    };\n    ctx.emit(\"set-option\", [`${props.role}_scrollDown`, scrollDown]);\n    ctx.emit(\"set-option\", [`${props.role}_emitSelectRange`, emitSelectRange]);\n    const {\n      getHoursList,\n      getMinutesList,\n      getSecondsList\n    } = getTimeLists(props.disabledHours, props.disabledMinutes, props.disabledSeconds);\n    watch(() => props.spinnerDate, () => {\n      if (isScrolling)\n        return;\n      adjustSpinners();\n    });\n    return {\n      getRefId,\n      spinnerItems,\n      currentScrollbar,\n      hours,\n      minutes,\n      seconds,\n      hoursList,\n      minutesList,\n      arrowHourList,\n      arrowMinuteList,\n      arrowSecondList,\n      getAmPmFlag,\n      emitSelectRange,\n      adjustCurrentSpinner,\n      typeItemHeight,\n      listHoursRef,\n      listMinutesRef,\n      listSecondsRef,\n      onIncreaseClick,\n      onDecreaseClick,\n      handleClick,\n      secondsList,\n      timePartsMap,\n      arrowListMap,\n      listMap\n    };\n  }\n});\n\nconst _hoisted_1$1 = { class: \"el-time-spinner__arrow el-icon-arrow-up\" };\nconst _hoisted_2 = { class: \"el-time-spinner__arrow el-icon-arrow-down\" };\nconst _hoisted_3 = { class: \"el-time-spinner__list\" };\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _directive_repeat_click = resolveDirective(\"repeat-click\");\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-time-spinner\", { \"has-seconds\": _ctx.showSeconds }]\n  }, [\n    !_ctx.arrowControl ? (openBlock(true), createBlock(Fragment, { key: 0 }, renderList(_ctx.spinnerItems, (item) => {\n      return openBlock(), createBlock(_component_el_scrollbar, {\n        key: item,\n        ref: _ctx.getRefId(item),\n        class: \"el-time-spinner__wrapper\",\n        \"wrap-style\": \"max-height: inherit;\",\n        \"view-class\": \"el-time-spinner__list\",\n        noresize: \"\",\n        tag: \"ul\",\n        onMouseenter: ($event) => _ctx.emitSelectRange(item),\n        onMousemove: ($event) => _ctx.adjustCurrentSpinner(item)\n      }, {\n        default: withCtx(() => [\n          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.listMap[item].value, (disabled, key) => {\n            return openBlock(), createBlock(\"li\", {\n              key,\n              class: [\"el-time-spinner__item\", { \"active\": key === _ctx.timePartsMap[item].value, disabled }],\n              onClick: ($event) => _ctx.handleClick(item, { value: key, disabled })\n            }, [\n              item === \"hours\" ? (openBlock(), createBlock(Fragment, { key: 0 }, [\n                createTextVNode(toDisplayString((\"0\" + (_ctx.amPmMode ? key % 12 || 12 : key)).slice(-2)) + toDisplayString(_ctx.getAmPmFlag(key)), 1)\n              ], 2112)) : (openBlock(), createBlock(Fragment, { key: 1 }, [\n                createTextVNode(toDisplayString((\"0\" + key).slice(-2)), 1)\n              ], 2112))\n            ], 10, [\"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, 1032, [\"onMouseenter\", \"onMousemove\"]);\n    }), 128)) : createCommentVNode(\"v-if\", true),\n    _ctx.arrowControl ? (openBlock(true), createBlock(Fragment, { key: 1 }, renderList(_ctx.spinnerItems, (item) => {\n      return openBlock(), createBlock(\"div\", {\n        key: item,\n        class: \"el-time-spinner__wrapper is-arrow\",\n        onMouseenter: ($event) => _ctx.emitSelectRange(item)\n      }, [\n        withDirectives(createVNode(\"i\", _hoisted_1$1, null, 512), [\n          [_directive_repeat_click, _ctx.onDecreaseClick]\n        ]),\n        withDirectives(createVNode(\"i\", _hoisted_2, null, 512), [\n          [_directive_repeat_click, _ctx.onIncreaseClick]\n        ]),\n        createVNode(\"ul\", _hoisted_3, [\n          (openBlock(true), createBlock(Fragment, null, renderList(_ctx.arrowListMap[item].value, (time, key) => {\n            return openBlock(), createBlock(\"li\", {\n              key,\n              class: [\"el-time-spinner__item\", { \"active\": time === _ctx.timePartsMap[item].value, \"disabled\": _ctx.listMap[item].value[time] }]\n            }, toDisplayString(time === void 0 ? \"\" : (\"0\" + (_ctx.amPmMode ? time % 12 || 12 : time)).slice(-2) + _ctx.getAmPmFlag(time)), 3);\n          }), 128))\n        ])\n      ], 40, [\"onMouseenter\"]);\n    }), 128)) : createCommentVNode(\"v-if\", true)\n  ], 2);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/time-picker/src/time-picker-com/basic-time-spinner.vue\";\n\nvar script$2 = defineComponent({\n  components: {\n    TimeSpinner: script$1\n  },\n  props: {\n    visible: Boolean,\n    actualVisible: {\n      type: Boolean,\n      default: void 0\n    },\n    datetimeRole: {\n      type: String\n    },\n    parsedValue: {\n      type: [Object, String]\n    },\n    format: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"pick\", \"select-range\", \"set-picker-option\"],\n  setup(props, ctx) {\n    const { t, lang } = useLocaleInject();\n    const selectionRange = ref([0, 2]);\n    const oldValue = useOldValue(props);\n    const transitionName = computed(() => {\n      return props.actualVisible === void 0 ? \"el-zoom-in-top\" : \"\";\n    });\n    const showSeconds = computed(() => {\n      return props.format.includes(\"ss\");\n    });\n    const amPmMode = computed(() => {\n      if (props.format.includes(\"A\"))\n        return \"A\";\n      if (props.format.includes(\"a\"))\n        return \"a\";\n      return \"\";\n    });\n    const isValidValue = (_date) => {\n      const parsedDate = dayjs(_date).locale(lang.value);\n      const result = getRangeAvailableTime(parsedDate);\n      return parsedDate.isSame(result);\n    };\n    const handleCancel = () => {\n      ctx.emit(\"pick\", oldValue.value, false);\n    };\n    const handleConfirm = (visible = false, first) => {\n      if (first)\n        return;\n      ctx.emit(\"pick\", props.parsedValue, visible);\n    };\n    const handleChange = (_date) => {\n      if (!props.visible) {\n        return;\n      }\n      const result = getRangeAvailableTime(_date).millisecond(0);\n      ctx.emit(\"pick\", result, true);\n    };\n    const setSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end);\n      selectionRange.value = [start, end];\n    };\n    const changeSelectionRange = (step) => {\n      const list = [0, 3].concat(showSeconds.value ? [6] : []);\n      const mapping = [\"hours\", \"minutes\"].concat(showSeconds.value ? [\"seconds\"] : []);\n      const index = list.indexOf(selectionRange.value[0]);\n      const next = (index + step + list.length) % list.length;\n      timePickerOptions[\"start_emitSelectRange\"](mapping[next]);\n    };\n    const handleKeydown = (event) => {\n      const code = event.code;\n      if (code === EVENT_CODE.left || code === EVENT_CODE.right) {\n        const step = code === EVENT_CODE.left ? -1 : 1;\n        changeSelectionRange(step);\n        event.preventDefault();\n        return;\n      }\n      if (code === EVENT_CODE.up || code === EVENT_CODE.down) {\n        const step = code === EVENT_CODE.up ? -1 : 1;\n        timePickerOptions[\"start_scrollDown\"](step);\n        event.preventDefault();\n        return;\n      }\n    };\n    const getRangeAvailableTime = (date) => {\n      const availableMap = {\n        hour: getAvailableHours,\n        minute: getAvailableMinutes,\n        second: getAvailableSeconds\n      };\n      let result = date;\n      [\"hour\", \"minute\", \"second\"].forEach((_) => {\n        if (availableMap[_]) {\n          let availableArr;\n          const method = availableMap[_];\n          if (_ === \"minute\") {\n            availableArr = method(result.hour(), props.datetimeRole);\n          } else if (_ === \"second\") {\n            availableArr = method(result.hour(), result.minute(), props.datetimeRole);\n          } else {\n            availableArr = method(props.datetimeRole);\n          }\n          if (availableArr && availableArr.length && !availableArr.includes(result[_]())) {\n            result = result[_](availableArr[0]);\n          }\n        }\n      });\n      return result;\n    };\n    const parseUserInput = (value) => {\n      if (!value)\n        return null;\n      return dayjs(value, props.format).locale(lang.value);\n    };\n    const formatToString = (value) => {\n      if (!value)\n        return null;\n      return value.format(props.format);\n    };\n    const getDefaultValue = () => {\n      return dayjs(defaultValue).locale(lang.value);\n    };\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"handleKeydown\", handleKeydown]);\n    ctx.emit(\"set-picker-option\", [\"getRangeAvailableTime\", getRangeAvailableTime]);\n    ctx.emit(\"set-picker-option\", [\"getDefaultValue\", getDefaultValue]);\n    const timePickerOptions = {};\n    const onSetOption = (e) => {\n      timePickerOptions[e[0]] = e[1];\n    };\n    const pickerBase = inject(\"EP_PICKER_BASE\");\n    const { arrowControl, disabledHours, disabledMinutes, disabledSeconds, defaultValue } = pickerBase.props;\n    const {\n      getAvailableHours,\n      getAvailableMinutes,\n      getAvailableSeconds\n    } = getAvailableArrs(disabledHours, disabledMinutes, disabledSeconds);\n    return {\n      transitionName,\n      arrowControl,\n      onSetOption,\n      t,\n      handleConfirm,\n      handleChange,\n      setSelectionRange,\n      amPmMode,\n      showSeconds,\n      handleCancel,\n      disabledHours,\n      disabledMinutes,\n      disabledSeconds\n    };\n  }\n});\n\nconst _hoisted_1$2 = {\n  key: 0,\n  class: \"el-time-panel\"\n};\nconst _hoisted_2$1 = { class: \"el-time-panel__footer\" };\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_time_spinner = resolveComponent(\"time-spinner\");\n  return openBlock(), createBlock(Transition, { name: _ctx.transitionName }, {\n    default: withCtx(() => [\n      _ctx.actualVisible || _ctx.visible ? (openBlock(), createBlock(\"div\", _hoisted_1$2, [\n        createVNode(\"div\", {\n          class: [\"el-time-panel__content\", { \"has-seconds\": _ctx.showSeconds }]\n        }, [\n          createVNode(_component_time_spinner, {\n            ref: \"spinner\",\n            role: _ctx.datetimeRole || \"start\",\n            \"arrow-control\": _ctx.arrowControl,\n            \"show-seconds\": _ctx.showSeconds,\n            \"am-pm-mode\": _ctx.amPmMode,\n            \"spinner-date\": _ctx.parsedValue,\n            \"disabled-hours\": _ctx.disabledHours,\n            \"disabled-minutes\": _ctx.disabledMinutes,\n            \"disabled-seconds\": _ctx.disabledSeconds,\n            onChange: _ctx.handleChange,\n            onSetOption: _ctx.onSetOption,\n            onSelectRange: _ctx.setSelectionRange\n          }, null, 8, [\"role\", \"arrow-control\", \"show-seconds\", \"am-pm-mode\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])\n        ], 2),\n        createVNode(\"div\", _hoisted_2$1, [\n          createVNode(\"button\", {\n            type: \"button\",\n            class: \"el-time-panel__btn cancel\",\n            onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleCancel && _ctx.handleCancel(...args))\n          }, toDisplayString(_ctx.t(\"el.datepicker.cancel\")), 1),\n          createVNode(\"button\", {\n            type: \"button\",\n            class: \"el-time-panel__btn confirm\",\n            onClick: _cache[2] || (_cache[2] = ($event) => _ctx.handleConfirm())\n          }, toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 1)\n        ])\n      ])) : createCommentVNode(\"v-if\", true)\n    ]),\n    _: 1\n  }, 8, [\"name\"]);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/time-picker/src/time-picker-com/panel-time-pick.vue\";\n\nconst makeSelectRange = (start, end) => {\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push(i);\n  }\n  return result;\n};\nvar script$3 = defineComponent({\n  components: { TimeSpinner: script$1 },\n  props: {\n    visible: Boolean,\n    actualVisible: Boolean,\n    parsedValue: {\n      type: [Array, String]\n    },\n    format: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"pick\", \"select-range\", \"set-picker-option\"],\n  setup(props, ctx) {\n    const { t, lang } = useLocaleInject();\n    const minDate = computed(() => props.parsedValue[0]);\n    const maxDate = computed(() => props.parsedValue[1]);\n    const oldValue = useOldValue(props);\n    const handleCancel = () => {\n      ctx.emit(\"pick\", oldValue.value, null);\n    };\n    const showSeconds = computed(() => {\n      return props.format.includes(\"ss\");\n    });\n    const amPmMode = computed(() => {\n      if (props.format.includes(\"A\"))\n        return \"A\";\n      if (props.format.includes(\"a\"))\n        return \"a\";\n      return \"\";\n    });\n    const minSelectableRange = ref([]);\n    const maxSelectableRange = ref([]);\n    const handleConfirm = (visible = false) => {\n      ctx.emit(\"pick\", [minDate.value, maxDate.value], visible);\n    };\n    const handleMinChange = (date) => {\n      handleChange(date.millisecond(0), maxDate.value);\n    };\n    const handleMaxChange = (date) => {\n      handleChange(minDate.value, date.millisecond(0));\n    };\n    const isValidValue = (_date) => {\n      const parsedDate = _date.map((_) => dayjs(_).locale(lang.value));\n      const result = getRangeAvailableTime(parsedDate);\n      return parsedDate[0].isSame(result[0]) && parsedDate[1].isSame(result[1]);\n    };\n    const handleChange = (_minDate, _maxDate) => {\n      ctx.emit(\"pick\", [_minDate, _maxDate], true);\n    };\n    const btnConfirmDisabled = computed(() => {\n      return minDate.value > maxDate.value;\n    });\n    const selectionRange = ref([0, 2]);\n    const setMinSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end, \"min\");\n      selectionRange.value = [start, end];\n    };\n    const offset = computed(() => showSeconds.value ? 11 : 8);\n    const setMaxSelectionRange = (start, end) => {\n      ctx.emit(\"select-range\", start, end, \"max\");\n      selectionRange.value = [start + offset.value, end + offset.value];\n    };\n    const changeSelectionRange = (step) => {\n      const list = showSeconds.value ? [0, 3, 6, 11, 14, 17] : [0, 3, 8, 11];\n      const mapping = [\"hours\", \"minutes\"].concat(showSeconds.value ? [\"seconds\"] : []);\n      const index = list.indexOf(selectionRange.value[0]);\n      const next = (index + step + list.length) % list.length;\n      const half = list.length / 2;\n      if (next < half) {\n        timePickerOptions[\"start_emitSelectRange\"](mapping[next]);\n      } else {\n        timePickerOptions[\"end_emitSelectRange\"](mapping[next - half]);\n      }\n    };\n    const handleKeydown = (event) => {\n      const code = event.code;\n      if (code === EVENT_CODE.left || code === EVENT_CODE.right) {\n        const step = code === EVENT_CODE.left ? -1 : 1;\n        changeSelectionRange(step);\n        event.preventDefault();\n        return;\n      }\n      if (code === EVENT_CODE.up || code === EVENT_CODE.down) {\n        const step = code === EVENT_CODE.up ? -1 : 1;\n        const role = selectionRange.value[0] < offset.value ? \"start\" : \"end\";\n        timePickerOptions[`${role}_scrollDown`](step);\n        event.preventDefault();\n        return;\n      }\n    };\n    const disabledHours_ = (role, compare) => {\n      const defaultDisable = disabledHours ? disabledHours(role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n      const nextDisable = isStart ? makeSelectRange(compareHour + 1, 23) : makeSelectRange(0, compareHour - 1);\n      return union(defaultDisable, nextDisable);\n    };\n    const disabledMinutes_ = (hour, role, compare) => {\n      const defaultDisable = disabledMinutes ? disabledMinutes(hour, role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n      if (hour !== compareHour) {\n        return defaultDisable;\n      }\n      const compareMinute = compareDate.minute();\n      const nextDisable = isStart ? makeSelectRange(compareMinute + 1, 59) : makeSelectRange(0, compareMinute - 1);\n      return union(defaultDisable, nextDisable);\n    };\n    const disabledSeconds_ = (hour, minute, role, compare) => {\n      const defaultDisable = disabledSeconds ? disabledSeconds(hour, minute, role) : [];\n      const isStart = role === \"start\";\n      const compareDate = compare || (isStart ? maxDate.value : minDate.value);\n      const compareHour = compareDate.hour();\n      const compareMinute = compareDate.minute();\n      if (hour !== compareHour || minute !== compareMinute) {\n        return defaultDisable;\n      }\n      const compareSecond = compareDate.second();\n      const nextDisable = isStart ? makeSelectRange(compareSecond + 1, 59) : makeSelectRange(0, compareSecond - 1);\n      return union(defaultDisable, nextDisable);\n    };\n    const getRangeAvailableTime = (dates) => {\n      return dates.map((_, index) => getRangeAvailableTimeEach(dates[0], dates[1], index === 0 ? \"start\" : \"end\"));\n    };\n    const {\n      getAvailableHours,\n      getAvailableMinutes,\n      getAvailableSeconds\n    } = getAvailableArrs(disabledHours_, disabledMinutes_, disabledSeconds_);\n    const getRangeAvailableTimeEach = (startDate, endDate, role) => {\n      const availableMap = {\n        hour: getAvailableHours,\n        minute: getAvailableMinutes,\n        second: getAvailableSeconds\n      };\n      const isStart = role === \"start\";\n      let result = isStart ? startDate : endDate;\n      const compareDate = isStart ? endDate : startDate;\n      [\"hour\", \"minute\", \"second\"].forEach((_) => {\n        if (availableMap[_]) {\n          let availableArr;\n          const method = availableMap[_];\n          if (_ === \"minute\") {\n            availableArr = method(result.hour(), role, compareDate);\n          } else if (_ === \"second\") {\n            availableArr = method(result.hour(), result.minute(), role, compareDate);\n          } else {\n            availableArr = method(role, compareDate);\n          }\n          if (availableArr && availableArr.length && !availableArr.includes(result[_]())) {\n            const pos = isStart ? 0 : availableArr.length - 1;\n            result = result[_](availableArr[pos]);\n          }\n        }\n      });\n      return result;\n    };\n    const parseUserInput = (value) => {\n      if (!value)\n        return null;\n      if (Array.isArray(value)) {\n        return value.map((_) => dayjs(_, props.format).locale(lang.value));\n      }\n      return dayjs(value, props.format).locale(lang.value);\n    };\n    const formatToString = (value) => {\n      if (!value)\n        return null;\n      if (Array.isArray(value)) {\n        return value.map((_) => _.format(props.format));\n      }\n      return value.format(props.format);\n    };\n    const getDefaultValue = () => {\n      if (Array.isArray(defaultValue)) {\n        return defaultValue.map((_) => dayjs(_).locale(lang.value));\n      }\n      const defaultDay = dayjs(defaultValue).locale(lang.value);\n      return [\n        defaultDay,\n        defaultDay.add(60, \"m\")\n      ];\n    };\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"handleKeydown\", handleKeydown]);\n    ctx.emit(\"set-picker-option\", [\"getDefaultValue\", getDefaultValue]);\n    ctx.emit(\"set-picker-option\", [\"getRangeAvailableTime\", getRangeAvailableTime]);\n    const timePickerOptions = {};\n    const onSetOption = (e) => {\n      timePickerOptions[e[0]] = e[1];\n    };\n    const pickerBase = inject(\"EP_PICKER_BASE\");\n    const { arrowControl, disabledHours, disabledMinutes, disabledSeconds, defaultValue } = pickerBase.props;\n    return {\n      arrowControl,\n      onSetOption,\n      setMaxSelectionRange,\n      setMinSelectionRange,\n      btnConfirmDisabled,\n      handleCancel,\n      handleConfirm,\n      t,\n      showSeconds,\n      minDate,\n      maxDate,\n      amPmMode,\n      handleMinChange,\n      handleMaxChange,\n      minSelectableRange,\n      maxSelectableRange,\n      disabledHours_,\n      disabledMinutes_,\n      disabledSeconds_\n    };\n  }\n});\n\nconst _hoisted_1$3 = {\n  key: 0,\n  class: \"el-time-range-picker el-picker-panel\"\n};\nconst _hoisted_2$2 = { class: \"el-time-range-picker__content\" };\nconst _hoisted_3$1 = { class: \"el-time-range-picker__cell\" };\nconst _hoisted_4 = { class: \"el-time-range-picker__header\" };\nconst _hoisted_5 = { class: \"el-time-range-picker__cell\" };\nconst _hoisted_6 = { class: \"el-time-range-picker__header\" };\nconst _hoisted_7 = { class: \"el-time-panel__footer\" };\nfunction render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_time_spinner = resolveComponent(\"time-spinner\");\n  return _ctx.actualVisible ? (openBlock(), createBlock(\"div\", _hoisted_1$3, [\n    createVNode(\"div\", _hoisted_2$2, [\n      createVNode(\"div\", _hoisted_3$1, [\n        createVNode(\"div\", _hoisted_4, toDisplayString(_ctx.t(\"el.datepicker.startTime\")), 1),\n        createVNode(\"div\", {\n          class: [{ \"has-seconds\": _ctx.showSeconds, \"is-arrow\": _ctx.arrowControl }, \"el-time-range-picker__body el-time-panel__content\"]\n        }, [\n          createVNode(_component_time_spinner, {\n            ref: \"minSpinner\",\n            role: \"start\",\n            \"show-seconds\": _ctx.showSeconds,\n            \"am-pm-mode\": _ctx.amPmMode,\n            \"arrow-control\": _ctx.arrowControl,\n            \"spinner-date\": _ctx.minDate,\n            \"disabled-hours\": _ctx.disabledHours_,\n            \"disabled-minutes\": _ctx.disabledMinutes_,\n            \"disabled-seconds\": _ctx.disabledSeconds_,\n            onChange: _ctx.handleMinChange,\n            onSetOption: _ctx.onSetOption,\n            onSelectRange: _ctx.setMinSelectionRange\n          }, null, 8, [\"show-seconds\", \"am-pm-mode\", \"arrow-control\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])\n        ], 2)\n      ]),\n      createVNode(\"div\", _hoisted_5, [\n        createVNode(\"div\", _hoisted_6, toDisplayString(_ctx.t(\"el.datepicker.endTime\")), 1),\n        createVNode(\"div\", {\n          class: [{ \"has-seconds\": _ctx.showSeconds, \"is-arrow\": _ctx.arrowControl }, \"el-time-range-picker__body el-time-panel__content\"]\n        }, [\n          createVNode(_component_time_spinner, {\n            ref: \"maxSpinner\",\n            role: \"end\",\n            \"show-seconds\": _ctx.showSeconds,\n            \"am-pm-mode\": _ctx.amPmMode,\n            \"arrow-control\": _ctx.arrowControl,\n            \"spinner-date\": _ctx.maxDate,\n            \"disabled-hours\": _ctx.disabledHours_,\n            \"disabled-minutes\": _ctx.disabledMinutes_,\n            \"disabled-seconds\": _ctx.disabledSeconds_,\n            onChange: _ctx.handleMaxChange,\n            onSetOption: _ctx.onSetOption,\n            onSelectRange: _ctx.setMaxSelectionRange\n          }, null, 8, [\"show-seconds\", \"am-pm-mode\", \"arrow-control\", \"spinner-date\", \"disabled-hours\", \"disabled-minutes\", \"disabled-seconds\", \"onChange\", \"onSetOption\", \"onSelectRange\"])\n        ], 2)\n      ])\n    ]),\n    createVNode(\"div\", _hoisted_7, [\n      createVNode(\"button\", {\n        type: \"button\",\n        class: \"el-time-panel__btn cancel\",\n        onClick: _cache[1] || (_cache[1] = ($event) => _ctx.handleCancel())\n      }, toDisplayString(_ctx.t(\"el.datepicker.cancel\")), 1),\n      createVNode(\"button\", {\n        type: \"button\",\n        class: \"el-time-panel__btn confirm\",\n        disabled: _ctx.btnConfirmDisabled,\n        onClick: _cache[2] || (_cache[2] = ($event) => _ctx.handleConfirm())\n      }, toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 9, [\"disabled\"])\n    ])\n  ])) : createCommentVNode(\"v-if\", true);\n}\n\nscript$3.render = render$3;\nscript$3.__file = \"packages/time-picker/src/time-picker-com/panel-time-range.vue\";\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\ndayjs.extend(customParseFormat);\nvar TimePicker = defineComponent({\n  name: \"ElTimePicker\",\n  install: null,\n  props: __spreadProps(__spreadValues({}, defaultProps), {\n    isRange: {\n      type: Boolean,\n      default: false\n    }\n  }),\n  emits: [\"update:modelValue\"],\n  setup(props, ctx) {\n    const commonPicker = ref(null);\n    const type = props.isRange ? \"timerange\" : \"time\";\n    const panel = props.isRange ? script$3 : script$2;\n    const refProps = __spreadProps(__spreadValues({}, props), {\n      focus: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.handleFocus();\n      },\n      blur: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.handleBlur();\n      }\n    });\n    provide(\"ElPopperOptions\", props.popperOptions);\n    ctx.expose(refProps);\n    return () => {\n      var _a;\n      const format = (_a = props.format) != null ? _a : DEFAULT_FORMATS_TIME;\n      return h(script, __spreadProps(__spreadValues({}, props), {\n        format,\n        type,\n        ref: commonPicker,\n        \"onUpdate:modelValue\": (value) => ctx.emit(\"update:modelValue\", value)\n      }), {\n        default: (scopedProps) => h(panel, scopedProps)\n      });\n    };\n  }\n});\n\nconst rangeArr = (n) => {\n  return Array.from(Array(n).keys());\n};\nconst extractDateFormat = (format) => {\n  return format.replace(/\\W?m{1,2}|\\W?ZZ/g, \"\").replace(/\\W?h{1,2}|\\W?s{1,3}|\\W?a/gi, \"\").trim();\n};\nconst extractTimeFormat = (format) => {\n  return format.replace(/\\W?D{1,2}|\\W?Do|\\W?d{1,4}|\\W?M{1,4}|\\W?Y{2,4}/g, \"\").trim();\n};\n\nconst _TimePicker = TimePicker;\n_TimePicker.install = (app) => {\n  app.component(_TimePicker.name, _TimePicker);\n};\n\nexport default _TimePicker;\nexport { script as CommonPicker, DEFAULT_FORMATS_DATE, DEFAULT_FORMATS_DATEPICKER, DEFAULT_FORMATS_TIME, script$2 as TimePickPanel, defaultProps, extractDateFormat, extractTimeFormat, rangeArr };\n"]},"metadata":{},"sourceType":"module"}