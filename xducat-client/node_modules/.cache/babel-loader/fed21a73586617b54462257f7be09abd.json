{"ast":null,"code":"import { defineComponent, inject, ref, watch, computed, onMounted, nextTick, openBlock, createBlock, withModifiers, createVNode, withKeys, createCommentVNode, toDisplayString } from 'vue';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport { isBool } from '../utils/util';\nimport throwError, { warn } from '../utils/error';\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\n\nconst EMPTY_OBJ = process.env.NODE_ENV !== 'production' ? Object.freeze({}) : {};\nconst EMPTY_ARR = process.env.NODE_ENV !== 'production' ? Object.freeze([]) : [];\n\nconst isFunction = val => typeof val === 'function';\n\nconst isObject = val => val !== null && typeof val === 'object';\n\nconst isPromise = val => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\n\nvar script = defineComponent({\n  name: \"ElSwitch\",\n  props: {\n    modelValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    value: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: Number,\n      default: 40\n    },\n    activeIconClass: {\n      type: String,\n      default: \"\"\n    },\n    inactiveIconClass: {\n      type: String,\n      default: \"\"\n    },\n    activeText: {\n      type: String,\n      default: \"\"\n    },\n    inactiveText: {\n      type: String,\n      default: \"\"\n    },\n    activeColor: {\n      type: String,\n      default: \"\"\n    },\n    inactiveColor: {\n      type: String,\n      default: \"\"\n    },\n    borderColor: {\n      type: String,\n      default: \"\"\n    },\n    activeValue: {\n      type: [Boolean, String, Number],\n      default: true\n    },\n    inactiveValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    name: {\n      type: String,\n      default: \"\"\n    },\n    validateEvent: {\n      type: Boolean,\n      default: true\n    },\n    id: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    beforeChange: Function\n  },\n  emits: [\"update:modelValue\", \"change\", \"input\"],\n\n  setup(props, ctx) {\n    const elForm = inject(elFormKey, {});\n    const elFormItem = inject(elFormItemKey, {});\n    const isModelValue = ref(props.modelValue !== false);\n    const input = ref(null);\n    const core = ref(null);\n    const scope = \"ElSwitch\";\n    watch(() => props.modelValue, () => {\n      isModelValue.value = true;\n    });\n    watch(() => props.value, () => {\n      isModelValue.value = false;\n    });\n    const actualValue = computed(() => {\n      return isModelValue.value ? props.modelValue : props.value;\n    });\n    const checked = computed(() => {\n      return actualValue.value === props.activeValue;\n    });\n\n    if (!~[props.activeValue, props.inactiveValue].indexOf(actualValue.value)) {\n      ctx.emit(\"update:modelValue\", props.inactiveValue);\n      ctx.emit(\"change\", props.inactiveValue);\n      ctx.emit(\"input\", props.inactiveValue);\n    }\n\n    watch(checked, () => {\n      var _a;\n\n      input.value.checked = checked.value;\n\n      if (props.activeColor || props.inactiveColor) {\n        setBackgroundColor();\n      }\n\n      if (props.validateEvent) {\n        (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", [actualValue.value]);\n      }\n    });\n    const switchDisabled = computed(() => {\n      return props.disabled || props.loading || (elForm || {}).disabled;\n    });\n\n    const handleChange = () => {\n      const val = checked.value ? props.inactiveValue : props.activeValue;\n      ctx.emit(\"update:modelValue\", val);\n      ctx.emit(\"change\", val);\n      ctx.emit(\"input\", val);\n      nextTick(() => {\n        input.value.checked = checked.value;\n      });\n    };\n\n    const switchValue = () => {\n      if (switchDisabled.value) return;\n      const {\n        beforeChange\n      } = props;\n\n      if (!beforeChange) {\n        handleChange();\n        return;\n      }\n\n      const shouldChange = beforeChange();\n      const isExpectType = [isPromise(shouldChange), isBool(shouldChange)].some(i => i);\n\n      if (!isExpectType) {\n        throwError(scope, \"beforeChange must return type `Promise<boolean>` or `boolean`\");\n      }\n\n      if (isPromise(shouldChange)) {\n        shouldChange.then(result => {\n          if (result) {\n            handleChange();\n          }\n        }).catch(e => {\n          if (process.env.NODE_ENV !== \"production\") {\n            warn(scope, `some error occurred: ${e}`);\n          }\n        });\n      } else if (shouldChange) {\n        handleChange();\n      }\n    };\n\n    const setBackgroundColor = () => {\n      const newColor = checked.value ? props.activeColor : props.inactiveColor;\n      const coreEl = core.value;\n      if (props.borderColor) coreEl.style.borderColor = props.borderColor;else if (!props.borderColor) coreEl.style.borderColor = newColor;\n      coreEl.style.backgroundColor = newColor;\n      coreEl.children[0].style.color = newColor;\n    };\n\n    const focus = () => {\n      var _a, _b;\n\n      (_b = (_a = input.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    };\n\n    onMounted(() => {\n      if (props.activeColor || props.inactiveColor || props.borderColor) {\n        setBackgroundColor();\n      }\n\n      input.value.checked = checked.value;\n    });\n    return {\n      input,\n      core,\n      switchDisabled,\n      checked,\n      handleChange,\n      switchValue,\n      focus\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"el-switch__action\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"el-icon-loading\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-switch\", {\n      \"is-disabled\": _ctx.switchDisabled,\n      \"is-checked\": _ctx.checked\n    }],\n    role: \"switch\",\n    \"aria-checked\": _ctx.checked,\n    \"aria-disabled\": _ctx.switchDisabled,\n    onClick: _cache[3] || (_cache[3] = withModifiers((...args) => _ctx.switchValue && _ctx.switchValue(...args), [\"prevent\"]))\n  }, [createVNode(\"input\", {\n    id: _ctx.id,\n    ref: \"input\",\n    class: \"el-switch__input\",\n    type: \"checkbox\",\n    name: _ctx.name,\n    \"true-value\": _ctx.activeValue,\n    \"false-value\": _ctx.inactiveValue,\n    disabled: _ctx.switchDisabled,\n    onChange: _cache[1] || (_cache[1] = (...args) => _ctx.handleChange && _ctx.handleChange(...args)),\n    onKeydown: _cache[2] || (_cache[2] = withKeys((...args) => _ctx.switchValue && _ctx.switchValue(...args), [\"enter\"]))\n  }, null, 40, [\"id\", \"name\", \"true-value\", \"false-value\", \"disabled\"]), _ctx.inactiveIconClass || _ctx.inactiveText ? (openBlock(), createBlock(\"span\", {\n    key: 0,\n    class: [\"el-switch__label\", \"el-switch__label--left\", !_ctx.checked ? \"is-active\" : \"\"]\n  }, [_ctx.inactiveIconClass ? (openBlock(), createBlock(\"i\", {\n    key: 0,\n    class: [_ctx.inactiveIconClass]\n  }, null, 2)) : createCommentVNode(\"v-if\", true), !_ctx.inactiveIconClass && _ctx.inactiveText ? (openBlock(), createBlock(\"span\", {\n    key: 1,\n    \"aria-hidden\": _ctx.checked\n  }, toDisplayString(_ctx.inactiveText), 9, [\"aria-hidden\"])) : createCommentVNode(\"v-if\", true)], 2)) : createCommentVNode(\"v-if\", true), createVNode(\"span\", {\n    ref: \"core\",\n    class: \"el-switch__core\",\n    style: {\n      \"width\": (_ctx.width || 40) + \"px\"\n    }\n  }, [createVNode(\"div\", _hoisted_1, [_ctx.loading ? (openBlock(), createBlock(\"i\", _hoisted_2)) : createCommentVNode(\"v-if\", true)])], 4), _ctx.activeIconClass || _ctx.activeText ? (openBlock(), createBlock(\"span\", {\n    key: 1,\n    class: [\"el-switch__label\", \"el-switch__label--right\", _ctx.checked ? \"is-active\" : \"\"]\n  }, [_ctx.activeIconClass ? (openBlock(), createBlock(\"i\", {\n    key: 0,\n    class: [_ctx.activeIconClass]\n  }, null, 2)) : createCommentVNode(\"v-if\", true), !_ctx.activeIconClass && _ctx.activeText ? (openBlock(), createBlock(\"span\", {\n    key: 1,\n    \"aria-hidden\": !_ctx.checked\n  }, toDisplayString(_ctx.activeText), 9, [\"aria-hidden\"])) : createCommentVNode(\"v-if\", true)], 2)) : createCommentVNode(\"v-if\", true)], 10, [\"aria-checked\", \"aria-disabled\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/switch/src/index.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Switch = script;\nexport default _Switch;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-switch/index.js"],"names":["defineComponent","inject","ref","watch","computed","onMounted","nextTick","openBlock","createBlock","withModifiers","createVNode","withKeys","createCommentVNode","toDisplayString","elFormKey","elFormItemKey","isBool","throwError","warn","EMPTY_OBJ","process","env","NODE_ENV","Object","freeze","EMPTY_ARR","isFunction","val","isObject","isPromise","then","catch","script","name","props","modelValue","type","Boolean","String","Number","default","value","disabled","width","activeIconClass","inactiveIconClass","activeText","inactiveText","activeColor","inactiveColor","borderColor","activeValue","inactiveValue","validateEvent","id","loading","beforeChange","Function","emits","setup","ctx","elForm","elFormItem","isModelValue","input","core","scope","actualValue","checked","indexOf","emit","_a","setBackgroundColor","formItemMitt","switchDisabled","handleChange","switchValue","shouldChange","isExpectType","some","i","result","e","newColor","coreEl","style","backgroundColor","children","color","focus","_b","call","_hoisted_1","class","_hoisted_2","key","render","_ctx","_cache","$props","$setup","$data","$options","role","onClick","args","onChange","onKeydown","__file","install","app","component","_Switch"],"mappings":"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","sourcesContent":["import { defineComponent, inject, ref, watch, computed, onMounted, nextTick, openBlock, createBlock, withModifiers, createVNode, withKeys, createCommentVNode, toDisplayString } from 'vue';\nimport { elFormKey, elFormItemKey } from '../el-form';\nimport { isBool } from '../utils/util';\nimport throwError, { warn } from '../utils/error';\n\n/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\n\nvar script = defineComponent({\n  name: \"ElSwitch\",\n  props: {\n    modelValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    value: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    width: {\n      type: Number,\n      default: 40\n    },\n    activeIconClass: {\n      type: String,\n      default: \"\"\n    },\n    inactiveIconClass: {\n      type: String,\n      default: \"\"\n    },\n    activeText: {\n      type: String,\n      default: \"\"\n    },\n    inactiveText: {\n      type: String,\n      default: \"\"\n    },\n    activeColor: {\n      type: String,\n      default: \"\"\n    },\n    inactiveColor: {\n      type: String,\n      default: \"\"\n    },\n    borderColor: {\n      type: String,\n      default: \"\"\n    },\n    activeValue: {\n      type: [Boolean, String, Number],\n      default: true\n    },\n    inactiveValue: {\n      type: [Boolean, String, Number],\n      default: false\n    },\n    name: {\n      type: String,\n      default: \"\"\n    },\n    validateEvent: {\n      type: Boolean,\n      default: true\n    },\n    id: String,\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    beforeChange: Function\n  },\n  emits: [\"update:modelValue\", \"change\", \"input\"],\n  setup(props, ctx) {\n    const elForm = inject(elFormKey, {});\n    const elFormItem = inject(elFormItemKey, {});\n    const isModelValue = ref(props.modelValue !== false);\n    const input = ref(null);\n    const core = ref(null);\n    const scope = \"ElSwitch\";\n    watch(() => props.modelValue, () => {\n      isModelValue.value = true;\n    });\n    watch(() => props.value, () => {\n      isModelValue.value = false;\n    });\n    const actualValue = computed(() => {\n      return isModelValue.value ? props.modelValue : props.value;\n    });\n    const checked = computed(() => {\n      return actualValue.value === props.activeValue;\n    });\n    if (!~[props.activeValue, props.inactiveValue].indexOf(actualValue.value)) {\n      ctx.emit(\"update:modelValue\", props.inactiveValue);\n      ctx.emit(\"change\", props.inactiveValue);\n      ctx.emit(\"input\", props.inactiveValue);\n    }\n    watch(checked, () => {\n      var _a;\n      input.value.checked = checked.value;\n      if (props.activeColor || props.inactiveColor) {\n        setBackgroundColor();\n      }\n      if (props.validateEvent) {\n        (_a = elFormItem.formItemMitt) == null ? void 0 : _a.emit(\"el.form.change\", [actualValue.value]);\n      }\n    });\n    const switchDisabled = computed(() => {\n      return props.disabled || props.loading || (elForm || {}).disabled;\n    });\n    const handleChange = () => {\n      const val = checked.value ? props.inactiveValue : props.activeValue;\n      ctx.emit(\"update:modelValue\", val);\n      ctx.emit(\"change\", val);\n      ctx.emit(\"input\", val);\n      nextTick(() => {\n        input.value.checked = checked.value;\n      });\n    };\n    const switchValue = () => {\n      if (switchDisabled.value)\n        return;\n      const { beforeChange } = props;\n      if (!beforeChange) {\n        handleChange();\n        return;\n      }\n      const shouldChange = beforeChange();\n      const isExpectType = [isPromise(shouldChange), isBool(shouldChange)].some((i) => i);\n      if (!isExpectType) {\n        throwError(scope, \"beforeChange must return type `Promise<boolean>` or `boolean`\");\n      }\n      if (isPromise(shouldChange)) {\n        shouldChange.then((result) => {\n          if (result) {\n            handleChange();\n          }\n        }).catch((e) => {\n          if (process.env.NODE_ENV !== \"production\") {\n            warn(scope, `some error occurred: ${e}`);\n          }\n        });\n      } else if (shouldChange) {\n        handleChange();\n      }\n    };\n    const setBackgroundColor = () => {\n      const newColor = checked.value ? props.activeColor : props.inactiveColor;\n      const coreEl = core.value;\n      if (props.borderColor)\n        coreEl.style.borderColor = props.borderColor;\n      else if (!props.borderColor)\n        coreEl.style.borderColor = newColor;\n      coreEl.style.backgroundColor = newColor;\n      coreEl.children[0].style.color = newColor;\n    };\n    const focus = () => {\n      var _a, _b;\n      (_b = (_a = input.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    };\n    onMounted(() => {\n      if (props.activeColor || props.inactiveColor || props.borderColor) {\n        setBackgroundColor();\n      }\n      input.value.checked = checked.value;\n    });\n    return {\n      input,\n      core,\n      switchDisabled,\n      checked,\n      handleChange,\n      switchValue,\n      focus\n    };\n  }\n});\n\nconst _hoisted_1 = { class: \"el-switch__action\" };\nconst _hoisted_2 = {\n  key: 0,\n  class: \"el-icon-loading\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"div\", {\n    class: [\"el-switch\", { \"is-disabled\": _ctx.switchDisabled, \"is-checked\": _ctx.checked }],\n    role: \"switch\",\n    \"aria-checked\": _ctx.checked,\n    \"aria-disabled\": _ctx.switchDisabled,\n    onClick: _cache[3] || (_cache[3] = withModifiers((...args) => _ctx.switchValue && _ctx.switchValue(...args), [\"prevent\"]))\n  }, [\n    createVNode(\"input\", {\n      id: _ctx.id,\n      ref: \"input\",\n      class: \"el-switch__input\",\n      type: \"checkbox\",\n      name: _ctx.name,\n      \"true-value\": _ctx.activeValue,\n      \"false-value\": _ctx.inactiveValue,\n      disabled: _ctx.switchDisabled,\n      onChange: _cache[1] || (_cache[1] = (...args) => _ctx.handleChange && _ctx.handleChange(...args)),\n      onKeydown: _cache[2] || (_cache[2] = withKeys((...args) => _ctx.switchValue && _ctx.switchValue(...args), [\"enter\"]))\n    }, null, 40, [\"id\", \"name\", \"true-value\", \"false-value\", \"disabled\"]),\n    _ctx.inactiveIconClass || _ctx.inactiveText ? (openBlock(), createBlock(\"span\", {\n      key: 0,\n      class: [\"el-switch__label\", \"el-switch__label--left\", !_ctx.checked ? \"is-active\" : \"\"]\n    }, [\n      _ctx.inactiveIconClass ? (openBlock(), createBlock(\"i\", {\n        key: 0,\n        class: [_ctx.inactiveIconClass]\n      }, null, 2)) : createCommentVNode(\"v-if\", true),\n      !_ctx.inactiveIconClass && _ctx.inactiveText ? (openBlock(), createBlock(\"span\", {\n        key: 1,\n        \"aria-hidden\": _ctx.checked\n      }, toDisplayString(_ctx.inactiveText), 9, [\"aria-hidden\"])) : createCommentVNode(\"v-if\", true)\n    ], 2)) : createCommentVNode(\"v-if\", true),\n    createVNode(\"span\", {\n      ref: \"core\",\n      class: \"el-switch__core\",\n      style: { \"width\": (_ctx.width || 40) + \"px\" }\n    }, [\n      createVNode(\"div\", _hoisted_1, [\n        _ctx.loading ? (openBlock(), createBlock(\"i\", _hoisted_2)) : createCommentVNode(\"v-if\", true)\n      ])\n    ], 4),\n    _ctx.activeIconClass || _ctx.activeText ? (openBlock(), createBlock(\"span\", {\n      key: 1,\n      class: [\"el-switch__label\", \"el-switch__label--right\", _ctx.checked ? \"is-active\" : \"\"]\n    }, [\n      _ctx.activeIconClass ? (openBlock(), createBlock(\"i\", {\n        key: 0,\n        class: [_ctx.activeIconClass]\n      }, null, 2)) : createCommentVNode(\"v-if\", true),\n      !_ctx.activeIconClass && _ctx.activeText ? (openBlock(), createBlock(\"span\", {\n        key: 1,\n        \"aria-hidden\": !_ctx.checked\n      }, toDisplayString(_ctx.activeText), 9, [\"aria-hidden\"])) : createCommentVNode(\"v-if\", true)\n    ], 2)) : createCommentVNode(\"v-if\", true)\n  ], 10, [\"aria-checked\", \"aria-disabled\"]);\n}\n\nscript.render = render;\nscript.__file = \"packages/switch/src/index.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Switch = script;\n\nexport default _Switch;\n"]},"metadata":{},"sourceType":"module"}