{"ast":null,"code":"import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot, computed, ref, getCurrentInstance, watch, provide, onMounted, isRef, resolveComponent } from 'vue';\nimport mitt from 'mitt';\nimport Menubar from '../utils/menu/menu-bar';\nimport { addClass, removeClass, hasClass } from '../utils/dom';\nvar script = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n\n  setup() {\n    return {\n      on: {\n        beforeEnter(el) {\n          el.style.opacity = 0.2;\n        },\n\n        enter(el, done) {\n          addClass(el, \"el-opacity-transition\");\n          el.style.opacity = 1;\n          done();\n        },\n\n        afterEnter(el) {\n          removeClass(el, \"el-opacity-transition\");\n          el.style.opacity = \"\";\n        },\n\n        beforeLeave(el) {\n          if (!el.dataset) el.dataset = {};\n\n          if (hasClass(el, \"el-menu--collapse\")) {\n            removeClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            addClass(el, \"el-menu--collapse\");\n          } else {\n            addClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            removeClass(el, \"el-menu--collapse\");\n          }\n\n          el.style.width = el.scrollWidth + \"px\";\n          el.style.overflow = \"hidden\";\n        },\n\n        leave(el) {\n          addClass(el, \"horizontal-collapse-transition\");\n          el.style.width = el.dataset.scrollWidth + \"px\";\n        }\n\n      }\n    };\n  }\n\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    mode: \"out-in\"\n  }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  }, 16);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenuColor(props) {\n  const menuBarColor = computed(() => {\n    const color = props.backgroundColor;\n\n    if (!color) {\n      return \"\";\n    } else {\n      return mixColor(color);\n    }\n  });\n\n  function calcColorChannels(c) {\n    let rawColor = c.replace(\"#\", \"\");\n\n    if (/^[0-9a-fA-F]{3}$/.test(rawColor)) {\n      const color = rawColor.split(\"\");\n\n      for (let i = 2; i >= 0; i--) {\n        color.splice(i, 0, color[i]);\n      }\n\n      rawColor = color.join(\"\");\n    }\n\n    if (/^[0-9a-fA-F]{6}$/.test(rawColor)) {\n      return {\n        red: parseInt(rawColor.slice(0, 2), 16),\n        green: parseInt(rawColor.slice(2, 4), 16),\n        blue: parseInt(rawColor.slice(4, 6), 16)\n      };\n    } else {\n      return {\n        red: 255,\n        green: 255,\n        blue: 255\n      };\n    }\n  }\n\n  function mixColor(color, percent = 0.2) {\n    let {\n      red,\n      green,\n      blue\n    } = calcColorChannels(color);\n\n    if (percent > 0) {\n      red *= 1 - percent;\n      green *= 1 - percent;\n      blue *= 1 - percent;\n    } else {\n      red += (255 - red) * percent;\n      green += (255 - green) * percent;\n      blue += (255 - blue) * percent;\n    }\n\n    return `rgb(${Math.round(red)}, ${Math.round(green)}, ${Math.round(blue)})`;\n  }\n\n  return menuBarColor;\n}\n\nvar script$1 = defineComponent({\n  name: \"ElMenu\",\n  componentName: \"ElMenu\",\n  components: {\n    ElMenuCollapseTransition: script\n  },\n  props: {\n    mode: {\n      type: String,\n      default: \"vertical\"\n    },\n    defaultActive: {\n      type: String,\n      default: \"\"\n    },\n    defaultOpeneds: Array,\n    uniqueOpened: Boolean,\n    router: Boolean,\n    menuTrigger: {\n      type: String,\n      default: \"hover\"\n    },\n    collapse: Boolean,\n    backgroundColor: {\n      type: String\n    },\n    textColor: {\n      type: String\n    },\n    activeTextColor: {\n      type: String\n    },\n    collapseTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"close\", \"open\", \"select\"],\n\n  setup(props, ctx) {\n    const openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    const instance = getCurrentInstance();\n    const activeIndex = ref(props.defaultActive);\n    const items = ref({});\n    const submenus = ref({});\n    const alteredCollapse = ref(false);\n    const rootMenuEmitter = mitt();\n    const router = instance.appContext.config.globalProperties.$router;\n    const hoverBackground = useMenuColor(props);\n    const isMenuPopup = computed(() => {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n\n    const initializeMenu = () => {\n      const index = activeIndex.value;\n      const activeItem = items.value[index];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse) return;\n      let indexPath = activeItem.indexPath;\n      indexPath.forEach(index2 => {\n        let submenu = submenus.value[index2];\n        submenu && openMenu(index2, submenu == null ? void 0 : submenu.indexPath);\n      });\n    };\n\n    const addSubMenu = item => {\n      submenus.value[item.index] = item;\n    };\n\n    const removeSubMenu = item => {\n      delete submenus.value[item.index];\n    };\n\n    const addMenuItem = item => {\n      items.value[item.index] = item;\n    };\n\n    const removeMenuItem = item => {\n      delete items.value[item.index];\n    };\n\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.includes(index)) return;\n\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter(index2 => {\n          return (isRef(indexPath) ? indexPath.value : indexPath).indexOf(index2) !== -1;\n        });\n      }\n\n      openedMenus.value.push(index);\n    };\n\n    const closeMenu = index => {\n      const i = openedMenus.value.indexOf(index);\n\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n\n    const open = index => {\n      const {\n        indexPath\n      } = submenus.value[index.toString()];\n      indexPath.forEach(i => openMenu(i, indexPath));\n    };\n\n    const close = index => {\n      closeMenu(index);\n    };\n\n    const handleSubmenuClick = submenu => {\n      const {\n        index,\n        indexPath\n      } = submenu;\n      let isOpened = openedMenus.value.includes(index);\n\n      if (isOpened) {\n        closeMenu(index);\n        ctx.emit(\"close\", index, indexPath.value);\n      } else {\n        openMenu(index, indexPath);\n        ctx.emit(\"open\", index, indexPath.value);\n      }\n    };\n\n    const handleItemClick = item => {\n      const {\n        index,\n        indexPath\n      } = item;\n      const hasIndex = item.index !== null;\n      const emitParams = [index, indexPath.value, item];\n\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n\n      if (!hasIndex) {\n        return;\n      }\n\n      if (props.router && router) {\n        let route = item.route || item.index;\n        const routerResult = router.push(route).then(navigationResult => {\n          if (!navigationResult) {\n            activeIndex.value = item.index;\n          }\n\n          return navigationResult;\n        });\n        ctx.emit(\"select\", ...emitParams.concat(routerResult));\n      } else {\n        activeIndex.value = item.index;\n        ctx.emit(\"select\", ...emitParams);\n      }\n    };\n\n    const updateActiveIndex = val => {\n      const itemsInData = items.value;\n      const item = itemsInData[val] || itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n\n      if (item) {\n        activeIndex.value = item.index;\n        initializeMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = null;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n\n    watch(() => props.defaultActive, currentActive => {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, () => {\n      updateActiveIndex();\n    });\n    watch(() => props.collapse, (value, prev) => {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n\n      if (value) openedMenus.value = [];\n      rootMenuEmitter.emit(\"rootMenu:toggle-collapse\", Boolean(props.collapse));\n    });\n    provide(\"rootMenu\", {\n      props,\n      openedMenus,\n      items,\n      submenus,\n      hoverBackground,\n      activeIndex,\n      isMenuPopup,\n      methods: {\n        addMenuItem,\n        removeMenuItem,\n        addSubMenu,\n        removeSubMenu,\n        openMenu,\n        closeMenu\n      },\n      rootMenuEmit: rootMenuEmitter.emit,\n      rootMenuOn: rootMenuEmitter.on\n    });\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu\n    });\n    onMounted(() => {\n      initializeMenu();\n      rootMenuEmitter.on(\"menuItem:item-click\", handleItemClick);\n      rootMenuEmitter.on(\"submenu:submenu-click\", handleSubmenuClick);\n\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    return {\n      hoverBackground,\n      isMenuPopup,\n      props,\n      open,\n      close\n    };\n  }\n\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_menu_collapse_transition = resolveComponent(\"el-menu-collapse-transition\");\n\n  return _ctx.props.collapseTransition ? (openBlock(), createBlock(_component_el_menu_collapse_transition, {\n    key: 0\n  }, {\n    default: withCtx(() => [(openBlock(), createBlock(\"ul\", {\n      key: +_ctx.props.collapse,\n      role: \"menubar\",\n      style: {\n        backgroundColor: _ctx.props.backgroundColor || \"\"\n      },\n      class: {\n        \"el-menu\": true,\n        \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n        \"el-menu--collapse\": _ctx.props.collapse\n      }\n    }, [renderSlot(_ctx.$slots, \"default\")], 6))]),\n    _: 3\n  })) : (openBlock(), createBlock(\"ul\", {\n    key: +_ctx.props.collapse,\n    role: \"menubar\",\n    style: {\n      backgroundColor: _ctx.props.backgroundColor || \"\"\n    },\n    class: {\n      \"el-menu\": true,\n      \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n      \"el-menu--collapse\": _ctx.props.collapse\n    }\n  }, [renderSlot(_ctx.$slots, \"default\")], 6));\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/menu/src/menu.vue\";\n\nscript$1.install = app => {\n  app.component(script$1.name, script$1);\n};\n\nconst _Menu = script$1;\nexport default _Menu;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-menu/index.js"],"names":["defineComponent","openBlock","createBlock","Transition","mergeProps","toHandlers","withCtx","renderSlot","computed","ref","getCurrentInstance","watch","provide","onMounted","isRef","resolveComponent","mitt","Menubar","addClass","removeClass","hasClass","script","name","setup","on","beforeEnter","el","style","opacity","enter","done","afterEnter","beforeLeave","dataset","oldOverflow","overflow","scrollWidth","clientWidth","width","leave","render","_ctx","_cache","$props","$setup","$data","$options","mode","default","$slots","_","__file","useMenuColor","props","menuBarColor","color","backgroundColor","mixColor","calcColorChannels","c","rawColor","replace","test","split","i","splice","join","red","parseInt","slice","green","blue","percent","Math","round","script$1","componentName","components","ElMenuCollapseTransition","type","String","defaultActive","defaultOpeneds","Array","uniqueOpened","Boolean","router","menuTrigger","collapse","textColor","activeTextColor","collapseTransition","emits","ctx","openedMenus","instance","activeIndex","items","submenus","alteredCollapse","rootMenuEmitter","appContext","config","globalProperties","$router","hoverBackground","isMenuPopup","initializeMenu","index","value","activeItem","indexPath","forEach","index2","submenu","openMenu","addSubMenu","item","removeSubMenu","addMenuItem","removeMenuItem","includes","filter","indexOf","push","closeMenu","open","toString","close","handleSubmenuClick","isOpened","emit","handleItemClick","hasIndex","emitParams","route","routerResult","then","navigationResult","concat","updateActiveIndex","val","itemsInData","currentActive","prev","methods","rootMenuEmit","rootMenuOn","uid","vnode","render$1","_component_el_menu_collapse_transition","key","role","class","install","app","component","_Menu"],"mappings":"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","sourcesContent":["import { defineComponent, openBlock, createBlock, Transition, mergeProps, toHandlers, withCtx, renderSlot, computed, ref, getCurrentInstance, watch, provide, onMounted, isRef, resolveComponent } from 'vue';\nimport mitt from 'mitt';\nimport Menubar from '../utils/menu/menu-bar';\nimport { addClass, removeClass, hasClass } from '../utils/dom';\n\nvar script = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n  setup() {\n    return {\n      on: {\n        beforeEnter(el) {\n          el.style.opacity = 0.2;\n        },\n        enter(el, done) {\n          addClass(el, \"el-opacity-transition\");\n          el.style.opacity = 1;\n          done();\n        },\n        afterEnter(el) {\n          removeClass(el, \"el-opacity-transition\");\n          el.style.opacity = \"\";\n        },\n        beforeLeave(el) {\n          if (!el.dataset)\n            el.dataset = {};\n          if (hasClass(el, \"el-menu--collapse\")) {\n            removeClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            addClass(el, \"el-menu--collapse\");\n          } else {\n            addClass(el, \"el-menu--collapse\");\n            el.dataset.oldOverflow = el.style.overflow;\n            el.dataset.scrollWidth = el.clientWidth;\n            removeClass(el, \"el-menu--collapse\");\n          }\n          el.style.width = el.scrollWidth + \"px\";\n          el.style.overflow = \"hidden\";\n        },\n        leave(el) {\n          addClass(el, \"horizontal-collapse-transition\");\n          el.style.width = el.dataset.scrollWidth + \"px\";\n        }\n      }\n    };\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({ mode: \"out-in\" }, toHandlers(_ctx.on)), {\n    default: withCtx(() => [\n      renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 16);\n}\n\nscript.render = render;\nscript.__file = \"packages/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenuColor(props) {\n  const menuBarColor = computed(() => {\n    const color = props.backgroundColor;\n    if (!color) {\n      return \"\";\n    } else {\n      return mixColor(color);\n    }\n  });\n  function calcColorChannels(c) {\n    let rawColor = c.replace(\"#\", \"\");\n    if (/^[0-9a-fA-F]{3}$/.test(rawColor)) {\n      const color = rawColor.split(\"\");\n      for (let i = 2; i >= 0; i--) {\n        color.splice(i, 0, color[i]);\n      }\n      rawColor = color.join(\"\");\n    }\n    if (/^[0-9a-fA-F]{6}$/.test(rawColor)) {\n      return {\n        red: parseInt(rawColor.slice(0, 2), 16),\n        green: parseInt(rawColor.slice(2, 4), 16),\n        blue: parseInt(rawColor.slice(4, 6), 16)\n      };\n    } else {\n      return {\n        red: 255,\n        green: 255,\n        blue: 255\n      };\n    }\n  }\n  function mixColor(color, percent = 0.2) {\n    let { red, green, blue } = calcColorChannels(color);\n    if (percent > 0) {\n      red *= 1 - percent;\n      green *= 1 - percent;\n      blue *= 1 - percent;\n    } else {\n      red += (255 - red) * percent;\n      green += (255 - green) * percent;\n      blue += (255 - blue) * percent;\n    }\n    return `rgb(${Math.round(red)}, ${Math.round(green)}, ${Math.round(blue)})`;\n  }\n  return menuBarColor;\n}\n\nvar script$1 = defineComponent({\n  name: \"ElMenu\",\n  componentName: \"ElMenu\",\n  components: {\n    ElMenuCollapseTransition: script\n  },\n  props: {\n    mode: {\n      type: String,\n      default: \"vertical\"\n    },\n    defaultActive: {\n      type: String,\n      default: \"\"\n    },\n    defaultOpeneds: Array,\n    uniqueOpened: Boolean,\n    router: Boolean,\n    menuTrigger: {\n      type: String,\n      default: \"hover\"\n    },\n    collapse: Boolean,\n    backgroundColor: { type: String },\n    textColor: { type: String },\n    activeTextColor: { type: String },\n    collapseTransition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  emits: [\"close\", \"open\", \"select\"],\n  setup(props, ctx) {\n    const openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    const instance = getCurrentInstance();\n    const activeIndex = ref(props.defaultActive);\n    const items = ref({});\n    const submenus = ref({});\n    const alteredCollapse = ref(false);\n    const rootMenuEmitter = mitt();\n    const router = instance.appContext.config.globalProperties.$router;\n    const hoverBackground = useMenuColor(props);\n    const isMenuPopup = computed(() => {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n    const initializeMenu = () => {\n      const index = activeIndex.value;\n      const activeItem = items.value[index];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse)\n        return;\n      let indexPath = activeItem.indexPath;\n      indexPath.forEach((index2) => {\n        let submenu = submenus.value[index2];\n        submenu && openMenu(index2, submenu == null ? void 0 : submenu.indexPath);\n      });\n    };\n    const addSubMenu = (item) => {\n      submenus.value[item.index] = item;\n    };\n    const removeSubMenu = (item) => {\n      delete submenus.value[item.index];\n    };\n    const addMenuItem = (item) => {\n      items.value[item.index] = item;\n    };\n    const removeMenuItem = (item) => {\n      delete items.value[item.index];\n    };\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.includes(index))\n        return;\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter((index2) => {\n          return (isRef(indexPath) ? indexPath.value : indexPath).indexOf(index2) !== -1;\n        });\n      }\n      openedMenus.value.push(index);\n    };\n    const closeMenu = (index) => {\n      const i = openedMenus.value.indexOf(index);\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n    const open = (index) => {\n      const { indexPath } = submenus.value[index.toString()];\n      indexPath.forEach((i) => openMenu(i, indexPath));\n    };\n    const close = (index) => {\n      closeMenu(index);\n    };\n    const handleSubmenuClick = (submenu) => {\n      const { index, indexPath } = submenu;\n      let isOpened = openedMenus.value.includes(index);\n      if (isOpened) {\n        closeMenu(index);\n        ctx.emit(\"close\", index, indexPath.value);\n      } else {\n        openMenu(index, indexPath);\n        ctx.emit(\"open\", index, indexPath.value);\n      }\n    };\n    const handleItemClick = (item) => {\n      const { index, indexPath } = item;\n      const hasIndex = item.index !== null;\n      const emitParams = [index, indexPath.value, item];\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n      if (!hasIndex) {\n        return;\n      }\n      if (props.router && router) {\n        let route = item.route || item.index;\n        const routerResult = router.push(route).then((navigationResult) => {\n          if (!navigationResult) {\n            activeIndex.value = item.index;\n          }\n          return navigationResult;\n        });\n        ctx.emit(\"select\", ...emitParams.concat(routerResult));\n      } else {\n        activeIndex.value = item.index;\n        ctx.emit(\"select\", ...emitParams);\n      }\n    };\n    const updateActiveIndex = (val) => {\n      const itemsInData = items.value;\n      const item = itemsInData[val] || itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n      if (item) {\n        activeIndex.value = item.index;\n        initializeMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = null;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n    watch(() => props.defaultActive, (currentActive) => {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, () => {\n      updateActiveIndex();\n    });\n    watch(() => props.collapse, (value, prev) => {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n      if (value)\n        openedMenus.value = [];\n      rootMenuEmitter.emit(\"rootMenu:toggle-collapse\", Boolean(props.collapse));\n    });\n    provide(\"rootMenu\", {\n      props,\n      openedMenus,\n      items,\n      submenus,\n      hoverBackground,\n      activeIndex,\n      isMenuPopup,\n      methods: {\n        addMenuItem,\n        removeMenuItem,\n        addSubMenu,\n        removeSubMenu,\n        openMenu,\n        closeMenu\n      },\n      rootMenuEmit: rootMenuEmitter.emit,\n      rootMenuOn: rootMenuEmitter.on\n    });\n    provide(`subMenu:${instance.uid}`, {\n      addSubMenu,\n      removeSubMenu\n    });\n    onMounted(() => {\n      initializeMenu();\n      rootMenuEmitter.on(\"menuItem:item-click\", handleItemClick);\n      rootMenuEmitter.on(\"submenu:submenu-click\", handleSubmenuClick);\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    return {\n      hoverBackground,\n      isMenuPopup,\n      props,\n      open,\n      close\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_menu_collapse_transition = resolveComponent(\"el-menu-collapse-transition\");\n  return _ctx.props.collapseTransition ? (openBlock(), createBlock(_component_el_menu_collapse_transition, { key: 0 }, {\n    default: withCtx(() => [\n      (openBlock(), createBlock(\"ul\", {\n        key: +_ctx.props.collapse,\n        role: \"menubar\",\n        style: { backgroundColor: _ctx.props.backgroundColor || \"\" },\n        class: {\n          \"el-menu\": true,\n          \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n          \"el-menu--collapse\": _ctx.props.collapse\n        }\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6))\n    ]),\n    _: 3\n  })) : (openBlock(), createBlock(\"ul\", {\n    key: +_ctx.props.collapse,\n    role: \"menubar\",\n    style: { backgroundColor: _ctx.props.backgroundColor || \"\" },\n    class: {\n      \"el-menu\": true,\n      \"el-menu--horizontal\": _ctx.mode === \"horizontal\",\n      \"el-menu--collapse\": _ctx.props.collapse\n    }\n  }, [\n    renderSlot(_ctx.$slots, \"default\")\n  ], 6));\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/menu/src/menu.vue\";\n\nscript$1.install = (app) => {\n  app.component(script$1.name, script$1);\n};\nconst _Menu = script$1;\n\nexport default _Menu;\n"]},"metadata":{},"sourceType":"module"}