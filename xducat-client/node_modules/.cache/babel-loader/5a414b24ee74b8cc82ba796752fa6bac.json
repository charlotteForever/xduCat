{"ast":null,"code":"import { defineComponent, ref, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withModifiers, renderSlot, createCommentVNode, createVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { on, off } from '../utils/dom';\nimport { easeInOutCubic } from '../utils/animation';\nimport throwError from '../utils/error';\nvar script = defineComponent({\n  name: \"ElBacktop\",\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: \"\"\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n  emits: [\"click\"],\n\n  setup(props, ctx) {\n    const el = ref(null);\n    const container = ref(null);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n    const scope = \"ElBackTop\";\n\n    const scrollToTop = () => {\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n\n      const rAF = window.requestAnimationFrame || (func => setTimeout(func, 16));\n\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500;\n\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          rAF(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n\n      rAF(frameFunc);\n    };\n\n    const onScroll = () => {\n      visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n\n    const handleClick = event => {\n      scrollToTop();\n      ctx.emit(\"click\", event);\n    };\n\n    const throttledScrollHandler = throttle(onScroll, 300);\n    onMounted(() => {\n      container.value = document;\n      el.value = document.documentElement;\n\n      if (props.target) {\n        el.value = document.querySelector(props.target);\n\n        if (!el.value) {\n          throwError(scope, `target is not existed: ${props.target}`);\n        }\n\n        container.value = el.value;\n      }\n\n      on(container.value, \"scroll\", throttledScrollHandler);\n    });\n    onBeforeUnmount(() => {\n      off(container.value, \"scroll\", throttledScrollHandler);\n    });\n    return {\n      el,\n      container,\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n\n});\n\nconst _hoisted_1 = /* @__PURE__ */createVNode(\"i\", {\n  class: \"el-icon-caret-top\"\n}, null, -1);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-fade-in\"\n  }, {\n    default: withCtx(() => [_ctx.visible ? (openBlock(), createBlock(\"div\", {\n      key: 0,\n      style: {\n        \"right\": _ctx.styleRight,\n        \"bottom\": _ctx.styleBottom\n      },\n      class: \"el-backtop\",\n      onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n    }, [renderSlot(_ctx.$slots, \"default\", {}, () => [_hoisted_1])], 4)) : createCommentVNode(\"v-if\", true)]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/backtop/src/index.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Backtop = script;\nexport default _Backtop;","map":{"version":3,"sources":["F:/XDUcat/XDUcat-client/node_modules/element-plus/es/el-backtop/index.js"],"names":["defineComponent","ref","computed","onMounted","onBeforeUnmount","openBlock","createBlock","Transition","withCtx","withModifiers","renderSlot","createCommentVNode","createVNode","throttle","on","off","easeInOutCubic","throwError","script","name","props","visibilityHeight","type","Number","default","target","String","right","bottom","emits","setup","ctx","el","container","visible","styleBottom","styleRight","scope","scrollToTop","beginTime","Date","now","beginValue","value","scrollTop","rAF","window","requestAnimationFrame","func","setTimeout","frameFunc","progress","onScroll","handleClick","event","emit","throttledScrollHandler","document","documentElement","querySelector","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","key","style","onClick","args","$slots","_","__file","install","app","component","_Backtop"],"mappings":"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","sourcesContent":["import { defineComponent, ref, computed, onMounted, onBeforeUnmount, openBlock, createBlock, Transition, withCtx, withModifiers, renderSlot, createCommentVNode, createVNode } from 'vue';\nimport throttle from 'lodash/throttle';\nimport { on, off } from '../utils/dom';\nimport { easeInOutCubic } from '../utils/animation';\nimport throwError from '../utils/error';\n\nvar script = defineComponent({\n  name: \"ElBacktop\",\n  props: {\n    visibilityHeight: {\n      type: Number,\n      default: 200\n    },\n    target: {\n      type: String,\n      default: \"\"\n    },\n    right: {\n      type: Number,\n      default: 40\n    },\n    bottom: {\n      type: Number,\n      default: 40\n    }\n  },\n  emits: [\"click\"],\n  setup(props, ctx) {\n    const el = ref(null);\n    const container = ref(null);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n    const scope = \"ElBackTop\";\n    const scrollToTop = () => {\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n      const rAF = window.requestAnimationFrame || ((func) => setTimeout(func, 16));\n      const frameFunc = () => {\n        const progress = (Date.now() - beginTime) / 500;\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          rAF(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n      rAF(frameFunc);\n    };\n    const onScroll = () => {\n      visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n    const handleClick = (event) => {\n      scrollToTop();\n      ctx.emit(\"click\", event);\n    };\n    const throttledScrollHandler = throttle(onScroll, 300);\n    onMounted(() => {\n      container.value = document;\n      el.value = document.documentElement;\n      if (props.target) {\n        el.value = document.querySelector(props.target);\n        if (!el.value) {\n          throwError(scope, `target is not existed: ${props.target}`);\n        }\n        container.value = el.value;\n      }\n      on(container.value, \"scroll\", throttledScrollHandler);\n    });\n    onBeforeUnmount(() => {\n      off(container.value, \"scroll\", throttledScrollHandler);\n    });\n    return {\n      el,\n      container,\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createVNode(\"i\", { class: \"el-icon-caret-top\" }, null, -1);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"el-fade-in\" }, {\n    default: withCtx(() => [\n      _ctx.visible ? (openBlock(), createBlock(\"div\", {\n        key: 0,\n        style: {\n          \"right\": _ctx.styleRight,\n          \"bottom\": _ctx.styleBottom\n        },\n        class: \"el-backtop\",\n        onClick: _cache[1] || (_cache[1] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n      }, [\n        renderSlot(_ctx.$slots, \"default\", {}, () => [\n          _hoisted_1\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true)\n    ]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/backtop/src/index.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Backtop = script;\n\nexport default _Backtop;\n"]},"metadata":{},"sourceType":"module"}